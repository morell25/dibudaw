(self.webpackChunkdibudaw=self.webpackChunkdibudaw||[]).push([[635],{6635:(e,i,t)=>{"use strict";t.r(i),t.d(i,{MainModule:()=>Ae});var n=t(1116),o=t(3307),r=t(2693),s=t(1462),a=t(8360),c=t(25),l=t(2613),d=t(2590);const u=function(){return["/home"]};let g=(()=>{class e{constructor(e,i){this.backService=e,this.authService=i,this.user=this.backService.user}ngOnInit(){}changeEmail(e){this.authService.changeField("email",e)}}return e.\u0275fac=function(i){return new(i||e)(c.Y36(l.h),c.Y36(d.e))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-change-email"]],decls:26,vars:5,consts:[[1,"row"],[1,"col-12"],["role","button",1,"btn","btn-dark","float-end","dd-mgt-0-5","dd-mgr-0-5",3,"routerLink"],[1,"bi","bi-arrow-return-left"],[1,"dd-pdt-200px"],[1,"col-md-4","offset-md-4"],[1,"d-flex","justify-content-center"],[1,"text-decoration-none","dd-mgb-2",3,"routerLink"],[1,"dibudaw"],[1,"bi","bi-pencil",2,"font-size","20px"],[1,"form-body","rounded"],["id","login","role","tabpanel","aria-labelledby","login-tab",1,"tab-pane","fade","show","active"],[1,"innter-form"],["method","post",1,"sa-innate-form"],["for","email",1,"dd-mgr-2"],["type","email","name","email",3,"placeholder"],["email",""],["for","terminos",1,"dd-mgr-2"],["type","checkbox","name","terminos","id","terminos"],["type","submit","value","Enviar",3,"click"],[1,"clearfix"]],template:function(e,i){if(1&e){const e=c.EpF();c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"a",2),c._UZ(3,"i",3),c.qZA(),c.qZA(),c.qZA(),c.TgZ(4,"div",4),c.TgZ(5,"div",0),c.TgZ(6,"div",5),c.TgZ(7,"div",6),c.TgZ(8,"a",7),c.TgZ(9,"h1",8),c._uU(10,"dibudaw.io\xa0"),c._UZ(11,"i",9),c.qZA(),c.qZA(),c.qZA(),c.TgZ(12,"div",10),c.TgZ(13,"div",11),c.TgZ(14,"div",12),c.TgZ(15,"form",13),c.TgZ(16,"label",14),c._uU(17,"Cambiar E-mail"),c.qZA(),c._UZ(18,"input",15,16),c.TgZ(20,"label",17),c._uU(21,"Acepto los terminos y las condiciones de uso"),c.qZA(),c._UZ(22,"input",18),c._UZ(23,"br"),c.TgZ(24,"input",19),c.NdJ("click",function(){c.CHM(e);const t=c.MAs(19);return i.changeEmail(t.value)}),c.qZA(),c.qZA(),c.qZA(),c._UZ(25,"div",20),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}2&e&&(c.xp6(2),c.Q6J("routerLink",c.DdM(3,u)),c.xp6(6),c.Q6J("routerLink",c.DdM(4,u)),c.xp6(10),c.s9C("placeholder",i.user.email))},directives:[a.yS,s.vK,s.JL,s.F],encapsulation:2}),e})();var h=t(3137);const m=function(){return["/home"]};let Z=(()=>{class e{constructor(e,i,t){this.backService=e,this.authService=i,this.DataFrontService=t,this.user=this.backService.user}ngOnInit(){}changePassword(e,i,t){i==t?this.authService.changeField("password",i,e):this.DataFrontService.showToast({type:"error",title:"",subhead:"Las contrase\xf1as no coinciden",options:""})}}return e.\u0275fac=function(i){return new(i||e)(c.Y36(l.h),c.Y36(d.e),c.Y36(h.R))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-change-password"]],decls:34,vars:4,consts:[[1,"row"],[1,"col-12"],["role","button",1,"btn","btn-dark","float-end","dd-mgt-0-5","dd-mgr-0-5",3,"routerLink"],[1,"bi","bi-arrow-return-left"],[1,"container","dd-mgt-7"],[1,"col-md-4","offset-md-4"],[1,"d-flex","justify-content-center"],[1,"text-decoration-none","dd-mgb-2",3,"routerLink"],[1,"dibudaw"],[1,"bi","bi-pencil",2,"font-size","20px"],[1,"form-body","rounded"],["id","login","role","tabpanel","aria-labelledby","login-tab",1,"tab-pane","fade","show","active"],[1,"innter-form"],["method","post",1,"sa-innate-form"],["for","idActualPassword"],["type","password","id","idActualPassword",1,"form-control"],["oldPass",""],["for","idPassword"],["type","password","id","idPassword",1,"form-control"],["newPass1",""],["for","idPassword2"],["type","password","id","idPassword2",1,"form-control"],["newPass2",""],["for","terminos",1,"dd-mgr-2"],["type","checkbox","name","terminos","id","terminos"],["type","submit","value","Enviar",3,"click"],[1,"clearfix"]],template:function(e,i){if(1&e){const e=c.EpF();c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"a",2),c._UZ(3,"i",3),c.qZA(),c.qZA(),c.qZA(),c.TgZ(4,"div",4),c.TgZ(5,"div",0),c.TgZ(6,"div",5),c.TgZ(7,"div",6),c.TgZ(8,"a",7),c.TgZ(9,"h1",8),c._uU(10,"dibudaw.io\xa0"),c._UZ(11,"i",9),c.qZA(),c.qZA(),c.qZA(),c.TgZ(12,"div",10),c.TgZ(13,"div",11),c.TgZ(14,"div",12),c.TgZ(15,"form",13),c.TgZ(16,"label",14),c._uU(17,"Contrase\xf1a actual"),c.qZA(),c._UZ(18,"input",15,16),c._UZ(20,"br"),c.TgZ(21,"label",17),c._uU(22,"Nueva contrase\xf1a"),c.qZA(),c._UZ(23,"input",18,19),c.TgZ(25,"label",20),c._uU(26,"Confirmar nueva contrase\xf1a"),c.qZA(),c._UZ(27,"input",21,22),c.TgZ(29,"label",23),c._uU(30,"Acepto los terminos y las condiciones de uso"),c.qZA(),c._UZ(31,"input",24),c.TgZ(32,"input",25),c.NdJ("click",function(){c.CHM(e);const t=c.MAs(19),n=c.MAs(24),o=c.MAs(28);return i.changePassword(t.value,n.value,o.value)}),c.qZA(),c.qZA(),c.qZA(),c._UZ(33,"div",26),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}2&e&&(c.xp6(2),c.Q6J("routerLink",c.DdM(2,m)),c.xp6(6),c.Q6J("routerLink",c.DdM(3,m)))},directives:[a.yS,s.vK,s.JL,s.F],encapsulation:2}),e})();const p=function(){return["/config/email"]},b=function(){return["/config/password"]};let v=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-config"]],decls:4,vars:4,consts:[[3,"routerLink"]],template:function(e,i){1&e&&(c.TgZ(0,"a",0),c._uU(1,"email"),c.qZA(),c.TgZ(2,"a",0),c._uU(3,"password"),c.qZA()),2&e&&(c.Q6J("routerLink",c.DdM(2,p)),c.xp6(2),c.Q6J("routerLink",c.DdM(3,b)))},directives:[a.yS],encapsulation:2}),e})();var f=t(5371);const A=["count"],q=["clock"],T=["baseTimerLabel"],k=["baseTimerPathRemaining"];function S(e,i){if(1&e&&(c.ynx(0),c.TgZ(1,"span"),c._uU(2),c.qZA(),c._UZ(3,"br"),c.BQk()),2&e){const e=i.$implicit,t=c.oxw(2);c.xp6(1),c.Akn(e.id==t.backService.game.dynamicData.currentlyDrawingUser?"background-color: pink;":""),c.xp6(1),c.Oqu(e.name)}}function w(e,i){if(1&e&&(c.ynx(0),c._UZ(1,"img",30),c._UZ(2,"br"),c.TgZ(3,"span",31),c._uU(4),c.qZA(),c.BQk()),2&e){const e=c.oxw().$implicit;c.xp6(4),c.Oqu(e.score)}}function x(e,i){if(1&e&&(c.ynx(0),c._UZ(1,"img",32),c._UZ(2,"br"),c.TgZ(3,"span",31),c._uU(4),c.qZA(),c.BQk()),2&e){const e=c.oxw().$implicit;c.xp6(4),c.Oqu(e.score)}}function y(e,i){if(1&e&&(c.ynx(0),c._UZ(1,"img",33),c._UZ(2,"br"),c.TgZ(3,"span",31),c._uU(4),c.qZA(),c.BQk()),2&e){const e=c.oxw().$implicit;c.xp6(4),c.Oqu(e.score)}}function _(e,i){if(1&e&&(c.ynx(0),c.TgZ(1,"div",34),c._uU(2),c.qZA(),c.BQk()),2&e){const e=c.oxw().$implicit;c.xp6(2),c.Oqu(e.score)}}function U(e,i){if(1&e&&(c.TgZ(0,"li",27),c.TgZ(1,"div",6),c.TgZ(2,"div",21),c.YNc(3,S,4,4,"ng-container",28),c.qZA(),c.TgZ(4,"div",22),c.YNc(5,w,5,1,"ng-container",29),c.YNc(6,x,5,1,"ng-container",29),c.YNc(7,y,5,1,"ng-container",29),c.YNc(8,_,3,1,"ng-container",29),c.qZA(),c.qZA(),c.qZA()),2&e){const e=i.$implicit,t=i.index,n=c.oxw();c.xp6(1),c.Akn(n.backService.game.dynamicData.currentlyDrawingTeam==e.number?"background-color: lightblue;":""),c.xp6(2),c.Q6J("ngForOf",e.members),c.xp6(2),c.Q6J("ngIf",0==t),c.xp6(1),c.Q6J("ngIf",1==t),c.xp6(1),c.Q6J("ngIf",2==t),c.xp6(1),c.Q6J("ngIf",t>=3)}}function C(e,i){if(1&e){const e=c.EpF();c.TgZ(0,"div",35),c.TgZ(1,"button",36),c.NdJ("click",function(){return c.CHM(e),c.oxw().endGame()}),c._uU(2,"Terminar partida"),c.qZA(),c.qZA()}}function L(e,i){if(1&e){const e=c.EpF();c.TgZ(0,"div",37),c.TgZ(1,"button",38),c.NdJ("click",function(){return c.CHM(e),c.oxw().endGame()}),c._uU(2,"Terminar partida"),c.qZA(),c.qZA()}}const R=function(){return["/login"]};let D=(()=>{class e{constructor(e,i,t){this.data=e,this.backService=i,this.socketService=t,this.startingTime=0,this.currentWord="madro\xf1era",this.roomData=this.backService.room,this.user=this.backService.user,this.backService.roomSubscriptions.push(this.backService.roomSubject.subscribe(e=>{this.roomData=e})),this.backService.roomSubscriptions.push(this.backService.userSubject.subscribe(e=>{this.user=e})),this.timeLength=this.formatTime.toString().length}ngOnInit(){this.socketService.roundTimeSubject.subscribe(e=>{this.timeLeft=e.t,e.i?this.data.showSpinner({timeLeft:e.t,options:{fullScreen:!0,type:"square-spin"}}):(e.t!=+this.basetimerlabel.nativeElement.innerHTML-1&&(this.startingTime=e.t),this.basetimerlabel.nativeElement.innerHTML=this.formatTime(e.t),this.setCircleDasharray(e.t),this.setRemainingPathColor(e.t))})}endGame(){this.socketService.endGame()}formatTime(e){let i=e.toString();for(;i.length<2;)i="0"+i;return i}setRemainingPathColor(e){e>=2*this.startingTime/3?(console.log(2*this.startingTime/3),this.basetimerpathremaining.nativeElement.style.color="rgb(65, 184, 131)"):this.basetimerpathremaining.nativeElement.style.color=e>=1*this.startingTime/3?"orange":"red"}calculateTimeFraction(e){const i=e/this.startingTime;return i-1/this.startingTime*(1-i)}setCircleDasharray(e){const i=`${(283*this.calculateTimeFraction(e)).toFixed(0)} 283`;this.basetimerpathremaining.nativeElement.setAttribute("stroke-dasharray",i)}}return e.\u0275fac=function(i){return new(i||e)(c.Y36(h.R),c.Y36(l.h),c.Y36(f.W))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-sidebar"]],viewQuery:function(e,i){if(1&e&&(c.Gf(A,1),c.Gf(q,1),c.Gf(T,1),c.Gf(k,1)),2&e){let e;c.iGM(e=c.CRH())&&(i.count=e.first),c.iGM(e=c.CRH())&&(i.clock=e.first),c.iGM(e=c.CRH())&&(i.basetimerlabel=e.first),c.iGM(e=c.CRH())&&(i.basetimerpathremaining=e.first)}},decls:33,vars:5,consts:[[1,"card",2,"margin","7% 2% 0 5%","border","2px solid black"],[1,"card-body"],[1,"d-flex","justify-content-center"],[1,"dibudawLink",3,"routerLink"],[1,"dibudawFont"],[1,"bi","bi-pencil","pencil"],[1,"row"],["id","clock",1,"col-6"],["clock",""],[1,"base-timer"],["viewBox","0 0 100 100","xmlns","http://www.w3.org/2000/svg",1,"base-timer__svg"],[1,"base-timer__circle"],["cx","50","cy","50","r","45",1,"base-timer__path-elapsed"],["id","base-timer-path-remaining","stroke-dasharray","283","d","\n                      M 50, 50\n                      m -45, 0\n                      a 45,45 0 1,0 90,0\n                      a 45,45 0 1,0 -90,0\n                      ",1,"base-timer__path-remaining"],["baseTimerPathRemaining",""],[0,"xml","space","preserve","x","-69","y","60","id","text841","transform","scale(-1,1)",2,"font-style","normal","font-weight","normal","font-size","32px","line-height","1.25","font-family","sans-serif","fill","#000000","fill-opacity","1","stroke","none","stroke-width","0.956112"],["baseTimerLabel",""],[2,"margin-top","5%"],[1,"jumbotron","list-content"],[1,"list-group"],["href","#",1,"list-group-item-score","title"],[1,"col-9"],[1,"col-3"],[1,"position"],["class","list-group-item",4,"ngFor","ngForOf"],["class","card-footer d-grid gap-1",4,"ngIf"],["class","card-footer d-grid gap-1 cursorNotAllowed",4,"ngIf"],[1,"list-group-item"],[4,"ngFor","ngForOf"],[4,"ngIf"],["src","/assets/images/uno.png","width","100%"],[2,"font-size","1.8vh"],["src","/assets/images/dos.png","width","100%"],["src","/assets/images/tres.png","width","100%"],[1,"col-3","d-flex","justify-content-center",2,"align-items","center"],[1,"card-footer","d-grid","gap-1"],["type","submit",1,"btn","btn-danger",3,"click"],[1,"card-footer","d-grid","gap-1","cursorNotAllowed"],["type","submit","disabled","",1,"btn","btn-danger",3,"click"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"a",3),c.TgZ(4,"h1",4),c._uU(5,"dibudaw.io\xa0"),c._UZ(6,"i",5),c.qZA(),c.qZA(),c.qZA(),c.TgZ(7,"div",6),c.TgZ(8,"div",2),c.TgZ(9,"div",7,8),c.TgZ(11,"div",2),c.TgZ(12,"div",9),c.O4$(),c.TgZ(13,"svg",10),c.TgZ(14,"g",11),c._UZ(15,"circle",12),c._UZ(16,"path",13,14),c.qZA(),c._UZ(18,"text",15,16),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.kcU(),c.TgZ(20,"div",17),c.TgZ(21,"div",18),c.TgZ(22,"ul",19),c.TgZ(23,"li",20),c.TgZ(24,"div",6),c.TgZ(25,"div",21),c._uU(26,"Jugadores"),c.qZA(),c.TgZ(27,"div",22),c._uU(28,"Pts"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(29,"div",23),c.YNc(30,U,9,8,"li",24),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.YNc(31,C,3,0,"div",25),c.YNc(32,L,3,0,"div",26),c.qZA()),2&e&&(c.xp6(3),c.Q6J("routerLink",c.DdM(4,R)),c.xp6(27),c.Q6J("ngForOf",i.backService.scoreboard),c.xp6(1),c.Q6J("ngIf",i.user&&i.roomData&&i.user.id==i.roomData.owner),c.xp6(1),c.Q6J("ngIf",!i.user||!i.roomData||i.user.id!=i.roomData.owner))},directives:[a.yS,n.sg,n.O5],encapsulation:2}),e})();function F(e,i){if(1&e&&(c.ynx(0),c.TgZ(1,"div",4),c.TgZ(2,"h2",5),c._uU(3),c.qZA(),c.qZA(),c.TgZ(4,"div",2),c.TgZ(5,"div",6),c.TgZ(6,"a",7),c._UZ(7,"img",8),c.qZA(),c.TgZ(8,"a",7),c._UZ(9,"img",9),c.qZA(),c.qZA(),c.qZA(),c.BQk()),2&e){const e=c.oxw();c.xp6(3),c.hij(" ",e.backService.game.dynamicData.currentWord," "),c.xp6(3),c.MGl("href","https://dle.rae.es/",e.backService.game.dynamicData.currentWord,"",c.LSH),c.xp6(2),c.MGl("href","https://www.google.es/search?q=",e.backService.game.dynamicData.currentWord,"&hl=es&tbm=isch",c.LSH)}}function M(e,i){if(1&e&&(c.ynx(0),c.TgZ(1,"div",4),c.TgZ(2,"h2",5),c._uU(3),c.qZA(),c.qZA(),c.TgZ(4,"div",2),c.TgZ(5,"div",6),c.TgZ(6,"a",10),c._UZ(7,"img",11),c.qZA(),c.TgZ(8,"a",10),c._UZ(9,"img",12),c.qZA(),c.qZA(),c.qZA(),c.BQk()),2&e){const e=c.oxw();c.xp6(3),c.hij(" ",e.backService.game.dynamicData.wordStatus," ")}}let J=(()=>{class e{constructor(e,i,t){this.data=e,this.backService=i,this.componentElement=t,this.currentWord="madro\xf1era",this.roomData=this.backService.room,this.user=this.backService.user,this.backService.roomSubscriptions.push(this.backService.roomSubject.subscribe(e=>{this.roomData=e})),this.backService.roomSubscriptions.push(this.backService.userSubject.subscribe(e=>{this.user=e}))}ngOnInit(){}}return e.\u0275fac=function(i){return new(i||e)(c.Y36(h.R),c.Y36(l.h),c.Y36(c.SBq))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-word-info"]],decls:5,vars:2,consts:[[1,"container"],[1,"row"],[1,"col"],[4,"ngIf"],[1,"col","d-flex","justify-content-center"],[2,"color","white","margin-top","3%"],[1,"input-group",2,"margin-top","1.2rem"],["target","_blank","id","helpWord",3,"href"],["src","../../../../assets/images/diccionario3.png","alt","Busqueda de palabra en diccionario.",2,"width","2.2rem"],["src","../../../../assets/images/searchImage2.png","alt","",2,"width","2.2rem"],["href","","id","helpWord",1,"cursorNotAllowed",2,"pointer-events","none"],["src","../../../../assets/images/diccionarioDisabled.png","alt","Busqueda de palabra en diccionario - Deshabilidtado",2,"width","2.2rem"],["src","../../../../assets/images/searchImageDisabled.png","alt","",2,"width","2.2rem"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c._UZ(2,"div",2),c.YNc(3,F,10,3,"ng-container",3),c.YNc(4,M,10,1,"ng-container",3),c.qZA(),c.qZA()),2&e&&(c.xp6(3),c.Q6J("ngIf",i.backService.game.dynamicData.currentlyDrawingTeam==i.backService.team),c.xp6(1),c.Q6J("ngIf",i.backService.game.dynamicData.currentlyDrawingTeam!=i.backService.team))},directives:[n.O5],encapsulation:2}),e})();var N=t(7254),E=t(4689),I=t(5416),Y=t(2855);const j=["canvasHTML"];let O=(()=>{class e{constructor(e,i,t){this.data=e,this.socketsService=i,this.backService=t,this.externalDrawSubscription=this.socketsService.onStroke().subscribe(e=>{this.externalDraw(e)})}setCanvasAccess(e){e==this.backService.user.id?this.eventCapture(this.canvasGood):this.disableEventCapture(this.canvasGood)}ngAfterViewInit(){this.setCanvasAccess(this.backService.game.dynamicData.currentlyDrawingUser),this.gameSubscription=this.backService.gameSubject.subscribe(e=>{console.log("hay que actualizar los permisos del canvas."),this.setCanvasAccess(e.dynamicData.currentlyDrawingUser)})}getScreenSize(e){this.screenHeight=window.innerHeight,this.screenWidth=window.innerWidth,this.width=window.innerWidth/1.8,this.height=window.innerHeight/1.28}ngOnInit(){this.getScreenSize(),this.canvasGood=this.canvas.nativeElement,this.context=this.canvasGood.getContext("2d"),this.context.lineWidth=3,this.context.lineCap="round",this.context.strokeStyle=this.data.color,this.colorSubscription=this.data.colorChange.subscribe(e=>{this.context.strokeStyle=e}),this.context.lineWidth=this.data.brushSize,this.colorSubscription=this.data.brushSizeChange.subscribe(e=>{this.context.lineWidth=e}),this.clearSubscription=this.data.clearChange.subscribe(e=>{this.context.clearRect(0,0,this.width,this.height)})}disableEventCapture(e){var i;console.log("ejecutamos disableEventCapture()"),null===(i=this.canvasSubscription)||void 0===i||i.unsubscribe(),this.canvasSubscription=void 0}eventCapture(e){if(null==this.canvasSubscription){console.log("ejecutamos eventCapture()");const i=(0,N.R)(e,"mousedown");this.canvasSubscription=i.pipe((0,E.w)(i=>(0,N.R)(e,"mousemove").pipe((0,I.R)((0,N.R)(e,"mouseup")),(0,I.R)((0,N.R)(e,"mouseleave")),(0,Y.G)()))).subscribe(i=>{function t(i){let t=e.getBoundingClientRect();return{x:e.width/t.width*(i.clientX-t.left),y:e.height/t.height*(i.clientY-t.top)}}let n=t(i[0]),o=t(i[1]);this.draw(n,o),this.socketsService.wannaStroke({pp:n,cp:o,c:String(this.context.strokeStyle),s:this.context.lineWidth})})}}draw(e,i){this.context&&(this.context.beginPath(),e&&(this.context.moveTo(e.x,e.y),this.context.lineTo(i.x,i.y),this.context.stroke()))}externalDraw(e){this.context.strokeStyle=e.c,this.context.lineWidth=e.s,this.draw(e.pp,e.cp)}ngOnDestroy(){var e,i;null===(e=this.colorSubscription)||void 0===e||e.unsubscribe(),null===(i=this.gameSubscription)||void 0===i||i.unsubscribe()}}return e.\u0275fac=function(i){return new(i||e)(c.Y36(h.R),c.Y36(f.W),c.Y36(l.h))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-canvas"]],viewQuery:function(e,i){if(1&e&&c.Gf(j,3),2&e){let e;c.iGM(e=c.CRH())&&(i.canvas=e.first)}},hostBindings:function(e,i){1&e&&c.NdJ("resize",function(e){return i.getScreenSize(e)},!1,c.Jf7)},inputs:{width:"width",height:"height"},decls:2,vars:0,consts:[["id","canvas","width","1000","height","1000",1,"cursorCanvas","canvasPaint"],["canvasHTML",""]],template:function(e,i){1&e&&c._UZ(0,"canvas",0,1)},encapsulation:2}),e})();const B=["colorPicker"],G=["colorPickerBtn"],Q=["hexaColor"],H=["divColorPicker"];let z=(()=>{class e{constructor(e,i,t){this.data=e,this.backService=i,this.componentElement=t,this.currentWord="madro\xf1era",this.roomData=this.backService.room,this.user=this.backService.user,this.backService.roomSubscriptions.push(this.backService.roomSubject.subscribe(e=>{this.roomData=e})),this.backService.roomSubscriptions.push(this.backService.userSubject.subscribe(e=>{this.user=e}))}setColorBrush(e){this.data.setColorService(e)}setSize(e){this.data.setSizeService(e)}Clear(){this.data.setClearService()}loadColorPicker(){const e=this.colorPicker.nativeElement,i=this.colorPickerBtn.nativeElement,t=e.getContext("2d"),n=this.hexaColor.nativeElement,o=this.divColorPicker.nativeElement,r=new Image;r.onload=function(){t.drawImage(r,0,0,r.width,r.height)},r.src="assets/images/colorwheel5.png",e.addEventListener("mousemove",function(e){let o=e.target.getBoundingClientRect(),r=e.offsetX||e.pageX-o.left-window.scrollX,s=e.offsetY||e.pageY-o.top-window.scrollY,a=t.getImageData(r,s,1,1).data;i.style.backgroundColor="rgb("+a[0]+", "+a[1]+", "+a[2]+")",n.value="#"+("0000"+(a[2]+256*a[1]+65536*a[0]).toString(16)).substr(-6)}),e.addEventListener("click",function(e){i.classList.add("preview"),i.classList.remove("preview2"),o.style.display="none",console.log()}),i.addEventListener("click",function(e){"none"===o.style.display?(o.style.display="block",console.log(o.style.display)):o.style.display="none",e.target.classList.toggle("preview"),e.target.classList.toggle("preview2")})}ngAfterViewInit(){this.loadColorPicker()}}return e.\u0275fac=function(i){return new(i||e)(c.Y36(h.R),c.Y36(l.h),c.Y36(c.SBq))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-tools"]],viewQuery:function(e,i){if(1&e&&(c.Gf(B,1),c.Gf(G,1),c.Gf(Q,1),c.Gf(H,1)),2&e){let e;c.iGM(e=c.CRH())&&(i.colorPicker=e.first),c.iGM(e=c.CRH())&&(i.colorPickerBtn=e.first),c.iGM(e=c.CRH())&&(i.hexaColor=e.first),c.iGM(e=c.CRH())&&(i.divColorPicker=e.first)}},decls:26,vars:0,consts:[[1,"input-group"],["type","hidden","id","hexVal"],["hexaColor",""],[1,"dd-mgr-22px"],["colorPickerBtn",""],[1,"btn-group"],["id","colorBlack",3,"click"],["id","colorGrey",3,"click"],["id","colorDarkRed",3,"click"],["id","colorRed",3,"click"],["id","colorOrange",3,"click"],["id","colorYellow",3,"click"],["id","colorGreen",3,"click"],["id","colorBlue",3,"click"],["id","colorDarkBlue",3,"click"],["id","colorViolet",3,"click"],["id","clearAll",3,"click"],[1,"bi","bi-trash-fill"],["id","eraser",1,"eraser",3,"click"],[1,"bi","bi-eraser-fill"],["type","range","min","1","max","60","value","3",1,"dd-mgr-2",3,"change"],["hsize",""],[1,"colorpicker","dd-display-none"],["divColorPicker",""],["id","picker","width","300","height","300",1,"color",3,"click"],["colorPicker",""]],template:function(e,i){if(1&e){const e=c.EpF();c.TgZ(0,"div",0),c._UZ(1,"input",1,2),c._UZ(3,"div",3,4),c.TgZ(5,"div",5),c.TgZ(6,"button",6),c.NdJ("click",function(){return i.setColorBrush("black")}),c.qZA(),c.TgZ(7,"button",7),c.NdJ("click",function(){return i.setColorBrush("grey")}),c.qZA(),c.TgZ(8,"button",8),c.NdJ("click",function(){return i.setColorBrush("rgb(136, 0, 21)")}),c.qZA(),c.TgZ(9,"button",9),c.NdJ("click",function(){return i.setColorBrush("red")}),c.qZA(),c.TgZ(10,"button",10),c.NdJ("click",function(){return i.setColorBrush("orange")}),c.qZA(),c.TgZ(11,"button",11),c.NdJ("click",function(){return i.setColorBrush("yellow")}),c.qZA(),c.TgZ(12,"button",12),c.NdJ("click",function(){return i.setColorBrush("green")}),c.qZA(),c.TgZ(13,"button",13),c.NdJ("click",function(){return i.setColorBrush("blue")}),c.qZA(),c.TgZ(14,"button",14),c.NdJ("click",function(){return i.setColorBrush("rgb(63, 72, 204)")}),c.qZA(),c.TgZ(15,"button",15),c.NdJ("click",function(){return i.setColorBrush("violet")}),c.qZA(),c.qZA(),c.TgZ(16,"button",16),c.NdJ("click",function(){return i.Clear()}),c._UZ(17,"i",17),c.qZA(),c.TgZ(18,"button",18),c.NdJ("click",function(){return i.setColorBrush("white")}),c._UZ(19,"i",19),c.qZA(),c.TgZ(20,"input",20,21),c.NdJ("change",function(){c.CHM(e);const t=c.MAs(21);return i.setSize(t.value)}),c.qZA(),c.qZA(),c.TgZ(22,"div",22,23),c.TgZ(24,"canvas",24,25),c.NdJ("click",function(){c.CHM(e);const t=c.MAs(2);return i.setColorBrush(t.value)}),c.qZA(),c.qZA()}},encapsulation:2}),e})();const P=["stopwatch"];let W=(()=>{class e{constructor(){}ngOnInit(){this.setStopwatch()}setStopwatch(){}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-timer"]],viewQuery:function(e,i){if(1&e&&c.Gf(P,1),2&e){let e;c.iGM(e=c.CRH())&&(i.stopwatch=e.first)}},decls:12,vars:0,consts:[[2,"margin-top","5%","margin-right","5%"],[1,"jumbotron","list-content"],[1,"list-group"],[1,"position"],[1,"list-group-item"],[1,"row"],["stopwatch",""],[1,"container-timer"],["id","countdown",1,"countd-own","countdown--wide"],["id","ticker",1,"countdown__fill"],["id","seconds",1,"countdown__digit"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"ul",2),c.TgZ(3,"div",3),c.TgZ(4,"li",4),c.TgZ(5,"div",5,6),c.TgZ(7,"div",7),c.TgZ(8,"div",8),c._UZ(9,"div",9),c.TgZ(10,"div",10),c._uU(11,"00"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA())},encapsulation:2}),e})();function $(e,i){if(1&e&&(c.TgZ(0,"p",9),c.TgZ(1,"span"),c._uU(2),c.qZA(),c._uU(3),c.qZA()),2&e){const e=i.$implicit;c.xp6(1),c.Jzz("color: ",e.color,";"),c.xp6(1),c.hij("",e.sender,":"),c.xp6(1),c.hij(" ",e.content,"")}}let X=(()=>{class e{constructor(e,i){this.socketService=e,this.backService=i,this.chat=[],this.chatColors=[[],["red","orange"],["blue","lightblue"],["purple","pink"],["green","lightgreen"],["black","grey"],["brown","yellow"]],this.socketService.onMessage().subscribe(e=>{this.chat.push(e)}),this.color=this.memberColor(this.backService.user.id)}ngOnInit(){}memberColor(e){for(const[i,t]of this.backService.room.teams.entries())for(const[n,o]of t.entries())if(o.id==e)return this.chatColors[i][n];return"black"}sendMessage(e){console.log(e),this.socketService.wannaChat({sender:this.backService.user.name,color:this.color,content:e})}ngOnDestroy(){}}return e.\u0275fac=function(i){return new(i||e)(c.Y36(f.W),c.Y36(l.h))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-chat"]],decls:9,vars:1,consts:[[1,"card","dd-chat"],[1,"card-body"],[1,"overflow-hidden"],["class","small",4,"ngFor","ngForOf"],[1,"card-footer"],[1,"input-group"],["type","text","placeholder","Mensaje / Palabra","aria-label","Mensaje","aria-describedby","basic-addon1",1,"form-control",3,"keyup.enter"],["msg",""],["type","button","value",">",1,"btn","btn-primary",3,"click"],[1,"small"]],template:function(e,i){if(1&e){const e=c.EpF();c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.YNc(3,$,4,5,"p",3),c.qZA(),c.qZA(),c.TgZ(4,"div",4),c.TgZ(5,"div",5),c.TgZ(6,"input",6,7),c.NdJ("keyup.enter",function(){c.CHM(e);const t=c.MAs(7);return i.sendMessage(t.value),t.value=""}),c.qZA(),c.TgZ(8,"input",8),c.NdJ("click",function(){c.CHM(e);const t=c.MAs(7);return i.sendMessage(t.value),t.value=""}),c.qZA(),c.qZA(),c.qZA(),c.qZA()}2&e&&(c.xp6(3),c.Q6J("ngForOf",i.chat))},directives:[n.sg],encapsulation:2}),e})(),V=(()=>{class e{constructor(e){this.componentElement=e}ngOnInit(){}ngAfterViewInit(){for(let e of this.componentElement.nativeElement.querySelectorAll(".color"))e.addEventListener("click",()=>{this.componentElement.nativeElement.querySelector("#canvas").style.cursor="url(assets/images/pencil.png), auto"});for(let e of this.componentElement.nativeElement.querySelectorAll(".eraser"))e.addEventListener("click",()=>{this.componentElement.nativeElement.querySelector("#canvas").style.cursor="url(assets/images/eraser2.png), auto"})}}return e.\u0275fac=function(i){return new(i||e)(c.Y36(c.SBq))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-game"]],decls:17,vars:0,consts:[[1,"row"],[1,"col-sm-12","col-md-4","col-lg-4","col-xl-4","col-xxl-2"],[1,"col-sm-12","col-md-5","col-lg-5","col-xl-5","col-xxl-7"],[1,"col-12"],[1,"col-sm-12","col-md-3","col-lg-3","col-xl-3","col-xxl-3"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c._UZ(2,"app-sidebar"),c.qZA(),c.TgZ(3,"div",2),c.TgZ(4,"div",0),c.TgZ(5,"div",3),c._UZ(6,"app-word-info"),c.qZA(),c.TgZ(7,"div",3),c._UZ(8,"app-canvas"),c.qZA(),c.TgZ(9,"div",3),c._UZ(10,"app-tools"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(11,"div",4),c.TgZ(12,"div",0),c.TgZ(13,"div",3),c._UZ(14,"app-timer"),c.qZA(),c.TgZ(15,"div",3),c._UZ(16,"app-chat"),c.qZA(),c.qZA(),c.qZA(),c.qZA())},directives:[D,J,O,z,W,X],encapsulation:2}),e})();var K=t(3946);function ee(e,i){if(1&e){const e=c.EpF();c.ynx(0),c.TgZ(1,"li",30),c.TgZ(2,"label",31),c._uU(3),c.qZA(),c.TgZ(4,"label",32),c.TgZ(5,"a",33),c.NdJ("click",function(){c.CHM(e);const t=i.$implicit;return c.oxw().JoinFriendGame(t.id)}),c._UZ(6,"i",34),c.qZA(),c._uU(7,"\xa0 "),c.TgZ(8,"a",35),c.NdJ("click",function(){c.CHM(e);const t=i.$implicit;return c.oxw().deleteFriend(t.id)}),c._UZ(9,"i",36),c.qZA(),c.qZA(),c._UZ(10,"div",37),c.qZA(),c.BQk()}if(2&e){const e=i.$implicit;c.xp6(3),c.Oqu(e.name)}}let ie=(()=>{class e{constructor(e,i,t,n,o){this.backService=e,this.socialService=i,this.socketService=t,this.frontService=n,this.authService=o,this.friendList=[],this.user=e.user,this.socialService.getFriendList().subscribe(e=>{this.backService.friendList=e,this.backService.friendListSubject.next(e)}),this.friendListSubscription=this.backService.friendListSubject.subscribe(e=>{this.friendList=e}),this.socialService.onFriendListReceived().subscribe(e=>{this.friendList.push(e)}),this.socialService.wannaGetfriendList(),this.socialService.onStatus()}ngOnInit(){}deleteFriend(e){let i=this.friendList.find(i=>i.id==e);if(null!=i){let t=this.friendList.indexOf(i);this.friendList.splice(t,1),this.socialService.removeFriend(e)}}changeName(e){this.authService.changeField("username",e)}JoinFriendGame(e){this.socketService.joinFriendRoom(e)}sendFriendRequest(e){null!=e&&""!=e&&/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/.test(e)?this.socialService.sendFriendRequest(e):this.frontService.showToast({type:"error",title:"Error",subhead:"Introduce un email v\xe1lido",options:{}})}}return e.\u0275fac=function(i){return new(i||e)(c.Y36(l.h),c.Y36(K.V),c.Y36(f.W),c.Y36(h.R),c.Y36(d.e))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-home-friends"]],decls:41,vars:3,consts:[[1,"container","dd-mgt-2"],[1,"list-group-item","jumbotron","rounded"],[1,"dd-nick-list-friends"],[1,"float-end","dd-nick-list-friends"],["role","button","data-bs-toggle","dropdown",1,"btn","btn-warning","dropdown-toggle"],["aria-labelledby","dropdownMenuLink",1,"dropdown-menu","dd-li-change-nick"],["for","nameUser"],["type","text","name","nameUser",3,"value"],["newName",""],[1,"d-flex","justify-content-center","dd-mgt-3"],[1,"btn","btn-warning",3,"click"],[1,"list-content","dd-mgt-3"],[1,"list-group","dd-union-card-top"],["href","#",1,"list-group-item"],["role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["role","tab","id","friend-tab","data-bs-toggle","tab","data-bs-target","#friend","aria-controls","friend",1,"nav-link","active","notSelect"],["role","tab","id","search-tab","data-bs-toggle","tab","data-bs-target","#search","type","button","aria-controls","search",1,"nav-link","notSelect"],[1,"jumbotron","list-content"],[1,"list-group"],[1,"tab-content"],["id","friend","role","tabpanel","aria-labelledby","friend-tab",1,"tab-pane","fade","show","active"],["href","#",1,"list-group-item","title"],[1,"scroll-show-lobby","dd-union-card-bottom"],[1,"overflow-auto"],[4,"ngFor","ngForOf"],["id","search","role","tabpanel","aria-labelledby","search-tab",1,"tab-pane","fade"],[1,"jumbotron"],["id","search-input","type","search","id","form1","placeholder","Introduza aqu\xed el correo de su amigo.",1,"form-control",3,"keyup.enter"],["emailFriend",""],[1,"list-group-item"],[1,"dd-blue"],[1,"float-end"],["title","Unirse a partida",1,"btn","btn-success","dd-mgt-4","btn-xs","glyphicon","glyphicon-trash",3,"click"],[1,"bi","bi-arrow-bar-right"],["title","Eliminar amigo",1,"btn","btn-danger","dd-mgt-4","btn-xs","glyphicon","glyphicon-trash",3,"click"],[1,"bi","bi-trash"],[1,"break"]],template:function(e,i){if(1&e){const e=c.EpF();c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"label",2),c._uU(3),c.qZA(),c.TgZ(4,"label",3),c.TgZ(5,"button",4),c._uU(6," T\xfa perfil "),c.qZA(),c.TgZ(7,"ul",5),c.TgZ(8,"li"),c.TgZ(9,"label",6),c._uU(10,"T\xfa nick:\xa0"),c.qZA(),c._UZ(11,"input",7,8),c.qZA(),c.TgZ(13,"li",9),c.TgZ(14,"button",10),c.NdJ("click",function(){c.CHM(e);const t=c.MAs(12);return i.changeName(t.value)}),c._uU(15,"Cambiar"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(16,"div",11),c.TgZ(17,"ul",12),c.TgZ(18,"li",13),c.TgZ(19,"ul",14),c.TgZ(20,"li",15),c.TgZ(21,"button",16),c._uU(22,"UNIRSE A PARTIDA"),c.qZA(),c.qZA(),c.TgZ(23,"li",15),c.TgZ(24,"button",17),c._uU(25,"AGREGAR AMIGO"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(26,"div",18),c.TgZ(27,"ul",19),c.TgZ(28,"div",20),c.TgZ(29,"div",21),c.TgZ(30,"li",22),c._uU(31," Lista de amigos "),c.qZA(),c.TgZ(32,"div",23),c.TgZ(33,"div",24),c.YNc(34,ee,11,1,"ng-container",25),c.qZA(),c.qZA(),c.qZA(),c.TgZ(35,"div",26),c.TgZ(36,"div",27),c.TgZ(37,"ul",19),c.TgZ(38,"li",22),c.TgZ(39,"input",28,29),c.NdJ("keyup.enter",function(){c.CHM(e);const t=c.MAs(40);return i.sendFriendRequest(t.value),t.value=""}),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}2&e&&(c.xp6(3),c.hij(" ",i.user.name," "),c.xp6(8),c.s9C("value",i.user.name),c.xp6(23),c.Q6J("ngForOf",i.friendList))},directives:[n.sg],encapsulation:2}),e})(),te=(()=>{class e{constructor(e){this.socketService=e}ngOnInit(){}joinRoom(e){24==e.length&&this.socketService.joinRoom(e)}createRoom(){this.socketService.createRoom()}}return e.\u0275fac=function(i){return new(i||e)(c.Y36(f.W))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-home"]],decls:48,vars:0,consts:[[1,"row"],[1,"col-12","col-sm-12","col-md-4","dd-mgb-2"],[1,"col-12","col-sm-12","col-md-8"],[1,"row","dd-mgt-1"],[1,"col-12","col-sm-12","col-md-4","dd-mgb-1"],[1,"container"],[1,"d-grid"],[1,"btn","btn-primary",3,"click"],[1,"d-flex"],["type","search","placeholder","C\xf3digo de la partida","aria-label","Search",1,"form-control","me-2",3,"key.enter"],["roomName",""],["type","submit",1,"btn","btn-success",3,"click"],[1,"col-12","col-sm-12","col-md-12"],[1,"container","dd-mgt-1"],[1,"card"],[1,"card-header"],[1,"card-body"]],template:function(e,i){if(1&e){const e=c.EpF();c.TgZ(0,"div",0),c.TgZ(1,"div",1),c._UZ(2,"app-home-friends"),c.qZA(),c.TgZ(3,"div",2),c.TgZ(4,"div",3),c.TgZ(5,"div",4),c.TgZ(6,"div",5),c.TgZ(7,"div",6),c.TgZ(8,"button",7),c.NdJ("click",function(){return i.createRoom()}),c._uU(9," Crear sala "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(10,"div",2),c.TgZ(11,"div",5),c.TgZ(12,"div",6),c.TgZ(13,"form",8),c.TgZ(14,"input",9,10),c.NdJ("key.enter",function(){c.CHM(e);const t=c.MAs(15);return i.joinRoom(t.value)}),c.qZA(),c.TgZ(16,"button",11),c.NdJ("click",function(){c.CHM(e);const t=c.MAs(15);return i.joinRoom(t.value)}),c._uU(17,"Unirse"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(18,"div",12),c.TgZ(19,"div",13),c.TgZ(20,"div",14),c.TgZ(21,"h2",15),c._uU(22,"** NOTAS DEL PARCHE v.0.2.5-Alpha **"),c.qZA(),c.TgZ(23,"div",16),c.TgZ(24,"h5"),c._uU(25,"Ya es oficial la fecha de lanzamiento!!"),c.qZA(),c.TgZ(26,"p"),c._uU(27,"Tras una reuni\xf3n realizada el 07/04/2021 en las oficinas de Discord en Espa\xf1a, los encargados en el desarrollo y mantenimiento de dibudaw.io, pusieron fecha fin a la exposici\xf3n de la misma."),c.qZA(),c.TgZ(28,"ul"),c.TgZ(29,"li"),c._uU(30,"Espa\xf1a - 10:00 AM "),c.qZA(),c.TgZ(31,"li"),c._uU(32,"Argentina, Brasil, Chile, Uruguay - 05:00 AM"),c.qZA(),c.TgZ(33,"li"),c._uU(34,"Colombia - 03:00 AM"),c.qZA(),c.TgZ(35,"li"),c._uU(36,"M\xe9xico - 02:00 AM"),c.qZA(),c.qZA(),c.TgZ(37,"h5"),c._uU(38,"Soluci\xf3n de Bugs!"),c.qZA(),c.TgZ(39,"p"),c._uU(40,"Se han resuelto 3 bugs que afectaban al funcionamiento de la p\xe1gina, detectados gracias a vuestra comunicaci\xf3n con el soporte t\xe9cnico dibudaw@gmail.com"),c.qZA(),c.TgZ(41,"ul"),c.TgZ(42,"li"),c._uU(43,"Bot\xf3n de comenzar partida, no resaltaba color al pasar el mouse. "),c.qZA(),c.TgZ(44,"li"),c._uU(45,'Bot\xf3n "T\xfa perfil", no mostraba tu nick.'),c.qZA(),c.TgZ(46,"li"),c._uU(47,"Navegaci\xf3n por movil en el home, no funcionaba el responsive."),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}},directives:[ie,s.vK,s.JL,s.F],encapsulation:2}),e})();function ne(e,i){if(1&e){const e=c.EpF();c.ynx(0),c.TgZ(1,"li",30),c.TgZ(2,"label",31),c._uU(3),c.qZA(),c.TgZ(4,"label",32),c.TgZ(5,"a",33),c.NdJ("click",function(){c.CHM(e);const t=i.$implicit;return c.oxw().sendInvitationToFriend(t.id,t.name)}),c._UZ(6,"i",34),c.qZA(),c._uU(7,"\xa0 "),c.TgZ(8,"a",35),c.NdJ("click",function(){c.CHM(e);const t=i.$implicit;return c.oxw().deleteFriend(t.id)}),c._UZ(9,"i",36),c.qZA(),c.qZA(),c._UZ(10,"div",37),c.qZA(),c.BQk()}if(2&e){const e=i.$implicit;c.xp6(3),c.Oqu(e.name)}}let oe=(()=>{class e{constructor(e,i,t,n){this.backService=e,this.socialService=i,this.socketService=t,this.dataFrontService=n,this.user=e.user,this.roomName=this.socketService.roomName,this.socialService.onInvitationReceived().subscribe(e=>{this.backService.invitationReceived=e,this.backService.invitationReceivedSubject.next(e)}),this.friendListSubscription=this.backService.friendListSubject.subscribe(e=>{this.friendList=e}),this.socialService.onFriendListReceived().subscribe(e=>{this.friendList.push(e)}),this.socialService.wannaGetfriendList(),this.socialService.onStatus()}ngOnInit(){}changeName(e){}joinRoom(e){24==e.length&&this.socketService.joinRoom(e)}deleteFriend(e){let i=this.friendList.find(i=>i.id==e);if(null!=i){let t=this.friendList.indexOf(i);this.friendList.splice(t,1),this.socialService.removeFriend(e)}}sendInvitationByEmail(e){this.socialService.sendInvitation({email:e},this.roomName)}sendInvitationToFriend(e,i){this.socialService.sendInvitation({id:e},this.roomName,i)}}return e.\u0275fac=function(i){return new(i||e)(c.Y36(l.h),c.Y36(K.V),c.Y36(f.W),c.Y36(h.R))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-lobby-friends"]],decls:41,vars:3,consts:[[1,"container","dd-mgt-2"],["href","#",1,"list-group-item","jumbotron","rounded"],[1,"dd-nick-list-friends"],[1,"float-end","dd-nick-list-friends"],["role","button","data-bs-toggle","dropdown",1,"btn","btn-warning","dropdown-toggle"],["aria-labelledby","dropdownMenuLink",1,"dropdown-menu","li-style"],["for","nameUser"],["type","text","name","nameUser",3,"value"],["newName",""],[1,"d-flex","justify-content-center","dd-mgt-3"],[1,"btn","btn-warning",3,"click"],[1,"list-content","dd-mgt-3"],[1,"list-group","dd-union-card-top"],["href","#",1,"list-group-item"],["role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["role","tab","id","friend-tab","data-bs-toggle","tab","data-bs-target","#friend","aria-controls","friend",1,"nav-link","active","notSelect"],["role","tab","id","search-tab","data-bs-toggle","tab","data-bs-target","#search","type","button","aria-controls","search",1,"nav-link","notSelect"],[1,"jumbotron","list-content"],[1,"list-group"],[1,"tab-content"],["id","friend","role","tabpanel","aria-labelledby","friend-tab",1,"tab-pane","fade","show","active"],["href","#",1,"list-group-item","title"],[1,"scroll-show-lobby","dd-union-card-bottom"],[1,"overflow-auto"],[4,"ngFor","ngForOf"],["id","search","role","tabpanel","aria-labelledby","search-tab",1,"tab-pane","fade"],[1,"jumbotron"],["id","search-input","type","search","id","form1","placeholder","Introduza aqu\xed el correo de su amigo.",1,"form-control",3,"keyup.enter"],["emailFriend",""],[1,"list-group-item"],[1,"name"],[1,"float-end"],["title","Invitar a amigo",1,"btn","btn-success","btn-xs","glyphicon","glyphicon-ok",3,"click"],[1,"bi","bi-plus-circle"],["title","Eliminar amigo",1,"btn","btn-danger","btn-xs","glyphicon","glyphicon-trash",3,"click"],[1,"bi","bi-trash"],[1,"break"]],template:function(e,i){if(1&e){const e=c.EpF();c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"label",2),c._uU(3),c.qZA(),c.TgZ(4,"label",3),c.TgZ(5,"button",4),c._uU(6," T\xfa perfil "),c.qZA(),c.TgZ(7,"ul",5),c.TgZ(8,"li"),c.TgZ(9,"label",6),c._uU(10,"T\xfa nick:\xa0"),c.qZA(),c._UZ(11,"input",7,8),c.qZA(),c.TgZ(13,"li",9),c.TgZ(14,"button",10),c.NdJ("click",function(){c.CHM(e);const t=c.MAs(12);return i.changeName(t.value)}),c._uU(15,"Cambiar"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(16,"div",11),c.TgZ(17,"ul",12),c.TgZ(18,"li",13),c.TgZ(19,"ul",14),c.TgZ(20,"li",15),c.TgZ(21,"button",16),c._uU(22,"INVITAR A PARTIDA"),c.qZA(),c.qZA(),c.TgZ(23,"li",15),c.TgZ(24,"button",17),c._uU(25,"AGREGAR AMIGO"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(26,"div",18),c.TgZ(27,"ul",19),c.TgZ(28,"div",20),c.TgZ(29,"div",21),c.TgZ(30,"li",22),c._uU(31," Lista de amigos "),c.qZA(),c.TgZ(32,"div",23),c.TgZ(33,"div",24),c.YNc(34,ne,11,1,"ng-container",25),c.qZA(),c.qZA(),c.qZA(),c.TgZ(35,"div",26),c.TgZ(36,"div",27),c.TgZ(37,"ul",19),c.TgZ(38,"li",22),c.TgZ(39,"input",28,29),c.NdJ("keyup.enter",function(){c.CHM(e);const t=c.MAs(40);return i.sendInvitationByEmail(t.value)}),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}2&e&&(c.xp6(3),c.hij(" ",i.user.name," "),c.xp6(8),c.s9C("value",i.user.name),c.xp6(23),c.Q6J("ngForOf",i.friendList))},directives:[n.sg],encapsulation:2}),e})();function re(e,i){1&e&&(c.ynx(0),c._UZ(1,"i",18),c.BQk())}function se(e,i){if(1&e&&(c.TgZ(0,"div",16),c._uU(1),c.YNc(2,re,2,0,"ng-container",17),c.qZA()),2&e){const e=i.$implicit,t=c.oxw();c.xp6(1),c.hij("",e.name," "),c.xp6(1),c.Q6J("ngIf",e.id==t.roomData.owner)}}function ae(e,i){1&e&&(c.ynx(0),c._UZ(1,"i",18),c.BQk())}function ce(e,i){if(1&e&&(c.TgZ(0,"div",16),c._uU(1),c.YNc(2,ae,2,0,"ng-container",17),c.qZA()),2&e){const e=i.$implicit,t=c.oxw(2);c.xp6(1),c.hij("",e.name," "),c.xp6(1),c.Q6J("ngIf",e.id==t.roomData.owner)}}function le(e,i){if(1&e){const e=c.EpF();c.TgZ(0,"div",5),c.TgZ(1,"h2",19),c._uU(2),c.qZA(),c.TgZ(3,"div",20),c.NdJ("cdkDropListDropped",function(i){return c.CHM(e),c.oxw().drop(i)}),c.YNc(4,ce,3,2,"div",9),c.qZA(),c.qZA()}if(2&e){const e=i.$implicit,t=i.index,n=c.oxw();c.xp6(2),c.hij("Equipo ",t+1,""),c.xp6(1),c.s9C("id",t+1),c.Q6J("cdkDropListDisabled",!n.isOwner)("cdkDropListData",e),c.xp6(1),c.Q6J("ngForOf",e)}}let de=(()=>{class e{constructor(e,i,t){this.backService=e,this.socketService=i,this.router=t,this.isOwner=!1,this.roomData=!1,this.teams=[[{name:"Pherb",email:"phineasyferd@gmail.com",id:"69A"},{name:"Pinchos",email:"banderasbarden@gmail.com",id:"72B"}],[{name:"acho(T\xfa)",email:"userEmail@gmail.com",id:"userId"},{name:"Banderas",email:"banderasbarden@gmail.com",id:"72B"}],[{name:"Ferd",email:"ferdyphineas@gmail.com",id:"63H"},{name:"Barden",email:"bardenbanderas@gmail.com",id:"84X"}],[{name:"uaseou",email:"aseua@gmail.com",id:"65H"},{name:"Acho",email:"eieieie@gmail.com",id:"74X"}],[{name:"uaseou",email:"aseua@gmail.com",id:"83L"},{name:"Acho",email:"eieieie@gmail.com",id:"18G"}],[{name:"Pique",email:"pique@gmail.com",id:"37J"},{name:"Shakira",email:"shakira@gmail.com",id:"92A"}],[{name:"Messi",email:"lionelandresmessi@gmail.com",id:"10M"},{name:"LuisitoComunica",email:"luisitoelpillo@gmail.com",id:"83H"}]],this.user=this.backService.user,this.roomDataSubscription=this.backService.roomSubject.subscribe(e=>{this.roomData=e,this.teams=e.teams,this.isOwner=this.user.id==e.owner})}ngOnInit(){}drop(e){e.previousContainer===e.container?((0,o.bA)(e.container.data,e.previousIndex,e.currentIndex),console.log("if")):(console.log("else"),(0,o.EA)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex),this.socketService.teamSwitched(e.container.data[e.currentIndex].id,+e.previousContainer.id,+e.container.id))}pruebas(){this.router.navigate(["/main/game"])}startGame(){this.socketService.startGame()}startTimer(){}leaveRoom(){this.socketService.leaveRoom()}ngOnDestroy(){console.log(this.router.routerState.snapshot.url),"/main/game"!=this.router.routerState.snapshot.url&&(this.socketService.leaveRoom(),this.roomDataSubscription.unsubscribe())}}return e.\u0275fac=function(i){return new(i||e)(c.Y36(l.h),c.Y36(f.W),c.Y36(a.F0))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-lobby"]],decls:22,vars:5,consts:[["cdkDropListGroup","",3,"className"],[1,"col-12","col-sm-12","col-md-4"],[1,"container","dd-mgt-2"],[1,"list-group"],["href","#",1,"list-group-item"],[1,"example-container"],[1,"dd-font-lobby"],[1,"scroll-show"],["cdkDropList","","id","0",1,"example-list",3,"cdkDropListDisabled","cdkDropListData","cdkDropListDropped"],["class","example-box","cdkDrag","",4,"ngFor","ngForOf"],[1,"col-12","col-sm-12","col-md-8"],[1,"container","dd-mgt-1","dd-mgb-2"],["href","#",1,"list-group-item","notSelectDefault"],[1,"btn","btn-success","float-start",3,"click"],[1,"btn","btn-danger","float-end",3,"click"],["class","example-container",4,"ngFor","ngForOf"],["cdkDrag","",1,"example-box"],[4,"ngIf"],[1,"bi","bi-controller"],[1,"dd-font-lobby","notSelectDefault"],["cdkDropList","",1,"example-list",3,"id","cdkDropListDisabled","cdkDropListData","cdkDropListDropped"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c._UZ(2,"app-lobby-friends"),c.TgZ(3,"div",2),c.TgZ(4,"ul",3),c.TgZ(5,"li",4),c.TgZ(6,"div",5),c.TgZ(7,"h2",6),c._uU(8,"En espera"),c.qZA(),c.TgZ(9,"div",7),c.TgZ(10,"div",8),c.NdJ("cdkDropListDropped",function(e){return i.drop(e)}),c.YNc(11,se,3,2,"div",9),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(12,"div",10),c.TgZ(13,"div",11),c.TgZ(14,"ul",3),c.TgZ(15,"li",12),c.TgZ(16,"button",13),c.NdJ("click",function(){return i.startGame()}),c._uU(17,"Comenzar partida"),c.qZA(),c.TgZ(18,"button",14),c.NdJ("click",function(){return i.leaveRoom()}),c._uU(19,"Abandonar partida"),c.qZA(),c.qZA(),c.TgZ(20,"li",4),c.YNc(21,le,5,5,"div",15),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.Q6J("className",i.roomData.owner==i.user.id?"activer row":"inactiver row"),c.xp6(10),c.Q6J("cdkDropListDisabled",!i.isOwner)("cdkDropListData",i.teams[0]),c.xp6(1),c.Q6J("ngForOf",i.teams[0]),c.xp6(10),c.Q6J("ngForOf",i.teams.slice(1)))},directives:[o.Fd,oe,o.Wj,n.sg,o.Zt,n.O5],encapsulation:2}),e})();function ue(e,i){if(1&e){const e=c.EpF();c.ynx(0),c.TgZ(1,"li",16),c._uU(2),c.qZA(),c.TgZ(3,"div",0),c.TgZ(4,"div",17),c.TgZ(5,"button",18),c.NdJ("click",function(){c.CHM(e);const t=i.$implicit;return c.oxw().acceptFriendRequest(t.id)}),c._uU(6,"Aceptar"),c.qZA(),c.qZA(),c.TgZ(7,"div",17),c.TgZ(8,"button",19),c.NdJ("click",function(){c.CHM(e);const t=i.$implicit;return c.oxw().declineFriendRequest(t.id)}),c._uU(9,"Rechazar"),c.qZA(),c.qZA(),c.qZA(),c.BQk()}if(2&e){const e=i.$implicit;c.xp6(2),c.hij("",e.name," te ha enviado una solicitud de amistad:")}}function ge(e,i){if(1&e){const e=c.EpF();c.ynx(0),c.TgZ(1,"li",16),c._uU(2),c.qZA(),c.TgZ(3,"div",0),c.TgZ(4,"div",17),c.TgZ(5,"button",18),c.NdJ("click",function(){c.CHM(e);const t=i.$implicit;return c.oxw().joinRoom(t.id)}),c._uU(6,"Aceptar"),c.qZA(),c.qZA(),c.TgZ(7,"div",17),c.TgZ(8,"button",19),c.NdJ("click",function(){c.CHM(e);const t=i.$implicit;return c.oxw().rechazaInvitation(t.id)}),c._uU(9,"Rechazar"),c.qZA(),c.qZA(),c.qZA(),c.BQk()}if(2&e){const e=i.$implicit;c.xp6(2),c.hij("",e.name," te ha invitado a su partida:")}}const he=function(){return["/main/config/email"]},me=function(){return["/main/config/password"]},Ze=function(){return["/home"]};let pe=(()=>{class e{constructor(e,i,t,n,o){this.authService=e,this.backService=i,this.socialService=t,this.socketService=n,this.el=o,this.inRoom=!1,this.friendRequests=[],this.invitationList=[],this.total=0,this.user=i.user,this.friendRequests=this.backService.friendRequests,this.invitationList=this.backService.invitationReceived,this.socialService.onFriendRequests().subscribe(e=>{this.backService.friendRequests=e,this.backService.friendRequestSubject.next(this.backService.friendRequests)}),this.friendRequestsSubscription=this.backService.friendRequestSubject.subscribe(e=>{this.friendRequests=e,this.total=this.friendRequests.length+this.invitationList.length}),this.socialService.onFriendRequestReceived().subscribe(e=>{this.friendRequests.push(e),this.total=this.friendRequests.length+this.invitationList.length,console.log(this.total)}),this.socialService.wannaGetFriendRequest(),this.invitationListSubscription=this.backService.invitationReceivedSubject.subscribe(e=>{this.invitationList.push(e)}),this.socialService.onInvitationReceived().subscribe(e=>{this.invitationList.push(e),this.total=this.invitationList.length+this.friendRequests.length,console.log(this.total)})}ngOnDestroy(){this.friendRequestsSubscription.unsubscribe(),this.invitationListSubscription.unsubscribe()}ngAfterViewInit(){var e=this.el.nativeElement.getElementsByTagName("i")[0];console.log(e)}ngOnInit(){}acceptFriendRequest(e){let i=this.friendRequests.find(i=>i.id==e);if(null!=i){let t=this.friendRequests.indexOf(i);this.backService.friendRequests.splice(t,1),this.backService.friendRequestSubject.next(this.backService.friendRequests),this.socialService.wannaAcceptFriendRequest(e),this.total=this.invitationList.length+this.friendRequests.length}}declineFriendRequest(e){let i=this.friendRequests.find(i=>i.id==e);if(null!=i){let t=this.friendRequests.indexOf(i);this.backService.friendRequests.splice(t,1),this.backService.friendRequestSubject.next(this.backService.friendRequests),this.socialService.wannaDeclineFriendRequest(e),this.total=this.invitationList.length+this.friendRequests.length}}joinRoom(e){if(24==e.length&&this.socketService.joinRoom(e),null!=e){let i=this.invitationList.indexOf(e);this.invitationList.splice(i,1)}}rechazaInvitation(e){if(null!=e){let i=this.invitationList.indexOf(e);this.invitationList.splice(i,1)}}logout(){this.authService.userLogout()}}return e.\u0275fac=function(i){return new(i||e)(c.Y36(d.e),c.Y36(l.h),c.Y36(K.V),c.Y36(f.W),c.Y36(c.SBq))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-main"]],decls:32,vars:8,consts:[[1,"row"],[1,"col-2"],[1,"dropdown"],["role","button","id","dropdownMenuLink","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-dark","dropdown-toggle","float-start","settings"],[1,"bi","bi-gear-fill"],["aria-labelledby","dropdownMenuLink",1,"dropdown-menu"],[1,"text-center","text-decoration-underline"],[1,"dropdown-item",3,"routerLink"],[1,"dropdown-item","notSelect",3,"click"],[1,"col-8","d-flex","justify-content-center"],[1,"text-decoration-none",3,"routerLink"],[1,"dibudaw","dd-mgt-4"],[1,"bi","bi-pencil","white",2,"font-size","20px"],["role","button","id","dropdownMenuLink","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-warning","dropdown-toggle","float-end","notifications"],["id","0",1,"bi","bi-bell-fill","badgial",2,"font-size","1rem"],[4,"ngFor","ngForOf"],[1,"dropdown-item","notSelectDefault","dd-blue-msg"],[1,"text-center"],[1,"btn","btn-outline-success","btn-sm","dd-mgb-4",3,"click"],[1,"btn","btn-outline-danger","btn-sm","dd-mgb-4",3,"click"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"a",3),c._UZ(4,"i",4),c.qZA(),c.TgZ(5,"ul",5),c.TgZ(6,"li"),c.TgZ(7,"p",6),c._uU(8,"Usuario:"),c.qZA(),c.qZA(),c.TgZ(9,"li"),c.TgZ(10,"a",7),c._uU(11,"Cambiar E-mail"),c.qZA(),c.qZA(),c.TgZ(12,"li"),c.TgZ(13,"a",7),c._uU(14,"Cambiar Contrase\xf1a"),c.qZA(),c.qZA(),c.TgZ(15,"li"),c.TgZ(16,"a",8),c.NdJ("click",function(){return i.logout()}),c._uU(17,"Cerrar sesi\xf3n"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(18,"div",9),c.TgZ(19,"a",10),c.TgZ(20,"h1",11),c._uU(21,"dibudaw.io\xa0"),c._UZ(22,"i",12),c.qZA(),c.qZA(),c.qZA(),c.TgZ(23,"div",1),c.TgZ(24,"div",2),c.TgZ(25,"a",13),c.TgZ(26,"i",14),c._uU(27,"\x07"),c.qZA(),c.qZA(),c.TgZ(28,"ul",5),c.YNc(29,ue,10,1,"ng-container",15),c.YNc(30,ge,10,1,"ng-container",15),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c._UZ(31,"router-outlet")),2&e&&(c.xp6(10),c.Q6J("routerLink",c.DdM(5,he)),c.xp6(3),c.Q6J("routerLink",c.DdM(6,me)),c.xp6(6),c.Q6J("routerLink",c.DdM(7,Ze)),c.xp6(10),c.Q6J("ngForOf",i.friendRequests),c.xp6(1),c.Q6J("ngForOf",i.invitationList))},directives:[a.yS,n.sg,a.lC],encapsulation:2}),e})(),be=(()=>{class e{constructor(e){this.socketService=e}canActivate(e,i){return console.log("canActivate gameguard"),this.socketService.onGameStatus()}}return e.\u0275fac=function(i){return new(i||e)(c.LFG(f.W))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ve=[{path:"",component:pe,children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:te},{path:"lobby",component:de,canActivate:[(()=>{class e{constructor(e){this.socketService=e}canActivate(e,i){return this.socketService.onRoomCreated()}}return e.\u0275fac=function(i){return new(i||e)(c.LFG(f.W))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()]}]},{path:"game",component:V,canActivate:[be]},{path:"config",component:v},{path:"config/email",component:g},{path:"config/password",component:Z},{path:"**",redirectTo:""}];let fe=(()=>{class e{}return e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({factory:function(i){return new(i||e)},imports:[[a.Bz.forChild(ve)],a.Bz]}),e})(),Ae=(()=>{class e{}return e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({factory:function(i){return new(i||e)},imports:[[n.ez,a.Bz,fe,o._t,r.JF,s.u5,s.UX]]}),e})()}}]);