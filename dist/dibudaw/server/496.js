exports.id=496,exports.ids=[496],exports.modules={90496:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MainModule:()=>MainModule});var common=__webpack_require__(38583),drag_drop=__webpack_require__(83511),http=__webpack_require__(91841),fesm2015_forms=__webpack_require__(90665),router=__webpack_require__(76277),core=__webpack_require__(34693),data_back_service=__webpack_require__(3958),auth_service=__webpack_require__(37556),data_front_service=__webpack_require__(96396);const _c0=function(){return["/home"]};class ChangeEmailComponent{constructor(backService,authService,frontService){this.backService=backService,this.authService=authService,this.frontService=frontService,this.user=this.backService.user}ngOnInit(){}changeEmail(pNewEmail){/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/.test(pNewEmail)?this.authService.changeField("email",pNewEmail):this.frontService.showToast({type:"error",title:"",subhead:"El nuevo email no es valido ",options:{}})}}ChangeEmailComponent.\u0275fac=function ChangeEmailComponent_Factory(t){return new(t||ChangeEmailComponent)(core.Y36(data_back_service.h),core.Y36(auth_service.e),core.Y36(data_front_service.R))},ChangeEmailComponent.\u0275cmp=core.Xpm({type:ChangeEmailComponent,selectors:[["app-change-email"]],decls:22,vars:5,consts:[[1,"row","notSelectDefault"],[1,"col-12"],["role","button",1,"btn","btn-dark","float-end","dd-mgt-0-5","dd-mgr-0-5",3,"routerLink"],[1,"bi","bi-arrow-return-left"],[1,"dd-pdt-200px","notSelectDefault"],[1,"row"],[1,"col-md-4","offset-md-4"],[1,"d-flex","justify-content-center"],[1,"text-decoration-none","dd-mgb-2",3,"routerLink"],[1,"dibudaw"],[1,"bi","bi-pencil",2,"font-size","20px"],[1,"form-body","rounded"],["id","login","role","tabpanel","aria-labelledby","login-tab",1,"tab-pane","fade","show","active"],[1,"innter-form"],["method","post",1,"sa-innate-form"],["for","email",1,"dd-mgr-2"],["type","email","name","email",3,"placeholder","key.enter"],["email",""],["type","submit","value","Cambiar",3,"click"],[1,"clearfix"]],template:function ChangeEmailComponent_Template(rf,ctx){if(1&rf){const _r1=core.EpF();core.TgZ(0,"div",0),core.TgZ(1,"div",1),core.TgZ(2,"a",2),core._UZ(3,"i",3),core.qZA(),core.qZA(),core.qZA(),core.TgZ(4,"div",4),core.TgZ(5,"div",5),core.TgZ(6,"div",6),core.TgZ(7,"div",7),core.TgZ(8,"a",8),core.TgZ(9,"h1",9),core._uU(10,"dibudaw.io\xa0"),core._UZ(11,"i",10),core.qZA(),core.qZA(),core.qZA(),core.TgZ(12,"div",11),core.TgZ(13,"div",12),core.TgZ(14,"div",13),core.TgZ(15,"form",14),core.TgZ(16,"label",15),core._uU(17,"Cambiar E-mail"),core.qZA(),core.TgZ(18,"input",16,17),core.NdJ("key.enter",function ChangeEmailComponent_Template_input_key_enter_18_listener(){core.CHM(_r1);const _r0=core.MAs(19);return ctx.changeEmail(_r0.value)}),core.qZA(),core.TgZ(20,"input",18),core.NdJ("click",function ChangeEmailComponent_Template_input_click_20_listener(){core.CHM(_r1);const _r0=core.MAs(19);return ctx.changeEmail(_r0.value)}),core.qZA(),core.qZA(),core.qZA(),core._UZ(21,"div",19),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA()}2&rf&&(core.xp6(2),core.Q6J("routerLink",core.DdM(3,_c0)),core.xp6(6),core.Q6J("routerLink",core.DdM(4,_c0)),core.xp6(10),core.s9C("placeholder",ctx.user.email))},directives:[router.yS,fesm2015_forms.vK,fesm2015_forms.JL,fesm2015_forms.F],encapsulation:2});const change_password_component_c0=function(){return["/home"]};class ChangePasswordComponent{constructor(backService,authService,frontService){this.backService=backService,this.authService=authService,this.frontService=frontService,this.user=this.backService.user}ngOnInit(){}changePassword(pCurrentPassword,pNewPassword1,pNewPassword2){""!=pCurrentPassword&&""!=pNewPassword1&&""!=pNewPassword2?pCurrentPassword.length<254&&pNewPassword1.length<254&&pNewPassword2.length<254?pNewPassword1==pNewPassword2?this.authService.changeField("password",pNewPassword1,pCurrentPassword):this.frontService.showToast({type:"error",title:"",subhead:"Las contrase\xf1as no coinciden.",options:{}}):this.frontService.showToast({type:"error",title:"",subhead:"Las contrase\xf1as introducidas superan los 254 caracteres.",options:{}}):this.frontService.showToast({type:"error",title:"",subhead:"Por favor rellena todos los campos.",options:{}})}}ChangePasswordComponent.\u0275fac=function ChangePasswordComponent_Factory(t){return new(t||ChangePasswordComponent)(core.Y36(data_back_service.h),core.Y36(auth_service.e),core.Y36(data_front_service.R))},ChangePasswordComponent.\u0275cmp=core.Xpm({type:ChangePasswordComponent,selectors:[["app-change-password"]],decls:31,vars:4,consts:[[1,"row","notSelectDefault"],[1,"col-12"],["role","button",1,"btn","btn-dark","float-end","dd-mgt-0-5","dd-mgr-0-5",3,"routerLink"],[1,"bi","bi-arrow-return-left"],[1,"container","dd-mgt-7","notSelectDefault"],[1,"row"],[1,"col-md-4","offset-md-4"],[1,"d-flex","justify-content-center"],[1,"text-decoration-none","dd-mgb-2",3,"routerLink"],[1,"dibudaw"],[1,"bi","bi-pencil",2,"font-size","20px"],[1,"form-body","rounded"],["id","login","role","tabpanel","aria-labelledby","login-tab",1,"tab-pane","fade","show","active"],[1,"innter-form"],["method","post",1,"sa-innate-form"],["for","idActualPassword"],["type","password","id","idActualPassword",1,"form-control"],["oldPass",""],["for","idPassword"],["type","password","id","idPassword",1,"form-control"],["newPass1",""],["for","idPassword2"],["type","password","id","idPassword2",1,"form-control"],["newPass2",""],["type","submit","value","Cambiar",3,"click"],[1,"clearfix"]],template:function ChangePasswordComponent_Template(rf,ctx){if(1&rf){const _r3=core.EpF();core.TgZ(0,"div",0),core.TgZ(1,"div",1),core.TgZ(2,"a",2),core._UZ(3,"i",3),core.qZA(),core.qZA(),core.qZA(),core.TgZ(4,"div",4),core.TgZ(5,"div",5),core.TgZ(6,"div",6),core.TgZ(7,"div",7),core.TgZ(8,"a",8),core.TgZ(9,"h1",9),core._uU(10,"dibudaw.io\xa0"),core._UZ(11,"i",10),core.qZA(),core.qZA(),core.qZA(),core.TgZ(12,"div",11),core.TgZ(13,"div",12),core.TgZ(14,"div",13),core.TgZ(15,"form",14),core.TgZ(16,"label",15),core._uU(17,"Contrase\xf1a actual"),core.qZA(),core._UZ(18,"input",16,17),core._UZ(20,"br"),core.TgZ(21,"label",18),core._uU(22,"Nueva contrase\xf1a"),core.qZA(),core._UZ(23,"input",19,20),core.TgZ(25,"label",21),core._uU(26,"Confirmar nueva contrase\xf1a"),core.qZA(),core._UZ(27,"input",22,23),core.TgZ(29,"input",24),core.NdJ("click",function ChangePasswordComponent_Template_input_click_29_listener(){core.CHM(_r3);const _r0=core.MAs(19),_r1=core.MAs(24),_r2=core.MAs(28);return ctx.changePassword(_r0.value,_r1.value,_r2.value)}),core.qZA(),core.qZA(),core.qZA(),core._UZ(30,"div",25),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA()}2&rf&&(core.xp6(2),core.Q6J("routerLink",core.DdM(2,change_password_component_c0)),core.xp6(6),core.Q6J("routerLink",core.DdM(3,change_password_component_c0)))},directives:[router.yS,fesm2015_forms.vK,fesm2015_forms.JL,fesm2015_forms.F],encapsulation:2});const config_component_c0=function(){return["/config/email"]},_c1=function(){return["/config/password"]};class ConfigComponent{constructor(){}ngOnInit(){}}ConfigComponent.\u0275fac=function ConfigComponent_Factory(t){return new(t||ConfigComponent)},ConfigComponent.\u0275cmp=core.Xpm({type:ConfigComponent,selectors:[["app-config"]],decls:4,vars:4,consts:[[3,"routerLink"]],template:function ConfigComponent_Template(rf,ctx){1&rf&&(core.TgZ(0,"a",0),core._uU(1,"email"),core.qZA(),core.TgZ(2,"a",0),core._uU(3,"password"),core.qZA()),2&rf&&(core.Q6J("routerLink",core.DdM(2,config_component_c0)),core.xp6(2),core.Q6J("routerLink",core.DdM(3,_c1)))},directives:[router.yS],encapsulation:2});var sockets_service=__webpack_require__(28832);const sidebar_component_c0=["count"],sidebar_component_c1=["clock"],_c2=["baseTimerLabel"],_c3=["baseTimerPathRemaining"];function SidebarComponent_li_34_ng_container_3_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.TgZ(1,"span"),core._uU(2),core.qZA(),core._UZ(3,"br"),core.BQk()),2&rf){const member_r13=ctx.$implicit,ctx_r8=core.oxw(2);core.xp6(1),core.Akn(member_r13.id==ctx_r8.backService.game.dynamicData.currentlyDrawingUser?"color: #FF5722;":""),core.xp6(1),core.Oqu(member_r13.name)}}function SidebarComponent_li_34_ng_container_5_Template(rf,ctx){if(1&rf&&(core.ynx(0),core._UZ(1,"img",35),core._UZ(2,"br"),core.TgZ(3,"span",36),core._uU(4),core.qZA(),core.BQk()),2&rf){const team_r6=core.oxw().$implicit;core.xp6(4),core.Oqu(team_r6.score)}}function SidebarComponent_li_34_ng_container_6_Template(rf,ctx){if(1&rf&&(core.ynx(0),core._UZ(1,"img",37),core._UZ(2,"br"),core.TgZ(3,"span",36),core._uU(4),core.qZA(),core.BQk()),2&rf){const team_r6=core.oxw().$implicit;core.xp6(4),core.Oqu(team_r6.score)}}function SidebarComponent_li_34_ng_container_7_Template(rf,ctx){if(1&rf&&(core.ynx(0),core._UZ(1,"img",38),core._UZ(2,"br"),core.TgZ(3,"span",36),core._uU(4),core.qZA(),core.BQk()),2&rf){const team_r6=core.oxw().$implicit;core.xp6(4),core.Oqu(team_r6.score)}}function SidebarComponent_li_34_ng_container_8_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.TgZ(1,"span",36),core._uU(2),core.qZA(),core.BQk()),2&rf){const team_r6=core.oxw().$implicit;core.xp6(2),core.Oqu(team_r6.score)}}function SidebarComponent_li_34_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"li",32),core.TgZ(1,"div",6),core.TgZ(2,"div",26),core.YNc(3,SidebarComponent_li_34_ng_container_3_Template,4,4,"ng-container",33),core.qZA(),core.TgZ(4,"div",27),core.YNc(5,SidebarComponent_li_34_ng_container_5_Template,5,1,"ng-container",34),core.YNc(6,SidebarComponent_li_34_ng_container_6_Template,5,1,"ng-container",34),core.YNc(7,SidebarComponent_li_34_ng_container_7_Template,5,1,"ng-container",34),core.YNc(8,SidebarComponent_li_34_ng_container_8_Template,3,1,"ng-container",34),core.qZA(),core.qZA(),core.qZA()),2&rf){const team_r6=ctx.$implicit,i_r7=ctx.index,ctx_r3=core.oxw();core.Akn(ctx_r3.backService.game.dynamicData.currentlyDrawingTeam==team_r6.number?"background-color: lightblue;":""),core.xp6(3),core.Q6J("ngForOf",team_r6.members),core.xp6(2),core.Q6J("ngIf",0==i_r7),core.xp6(1),core.Q6J("ngIf",1==i_r7),core.xp6(1),core.Q6J("ngIf",2==i_r7),core.xp6(1),core.Q6J("ngIf",i_r7>=3)}}function SidebarComponent_div_35_Template(rf,ctx){if(1&rf){const _r19=core.EpF();core.TgZ(0,"div",39),core.TgZ(1,"button",40),core.NdJ("click",function SidebarComponent_div_35_Template_button_click_1_listener(){core.CHM(_r19);return core.oxw().endGame()}),core._uU(2,"Terminar partida"),core.qZA(),core.qZA()}}function SidebarComponent_div_36_Template(rf,ctx){if(1&rf){const _r21=core.EpF();core.TgZ(0,"div",41),core.TgZ(1,"button",42),core.NdJ("click",function SidebarComponent_div_36_Template_button_click_1_listener(){core.CHM(_r21);return core.oxw().endGame()}),core._uU(2,"Terminar partida"),core.qZA(),core.qZA()}}class SidebarComponent{constructor(data,backService,socketService){this.data=data,this.backService=backService,this.socketService=socketService,this.startingTime=0,this.currentWord="madro\xf1era",this.roomData=this.backService.room,this.user=this.backService.user,this.backService.roomSubscriptions.push(this.backService.roomSubject.subscribe(content=>{this.roomData=content})),this.backService.roomSubscriptions.push(this.backService.userSubject.subscribe(content=>{this.user=content})),this.timeLength=this.formatTime.toString().length}ngOnInit(){this.socketService.roundTimeSubject.subscribe(roundTime=>{roundTime.i?this.data.showSpinner({timeLeft:roundTime.rt,options:{fullScreen:!0,type:"square-jelly-box"}}):null!=roundTime.tt&&(this.timeLeft=roundTime.tt,roundTime.tt!=+this.basetimerlabel.nativeElement.innerHTML-1&&(this.startingTime=roundTime.tt),this.basetimerlabel.nativeElement.innerHTML=this.formatTime(roundTime.tt),this.setCircleDasharray(roundTime.tt),this.setRemainingPathColor(roundTime.tt))})}endGame(){this.socketService.endGame()}formatTime(time){let formattedTime=time.toString();for(;formattedTime.length<2;)formattedTime="0"+formattedTime;return formattedTime}setRemainingPathColor(timeLeft){timeLeft>=2*this.startingTime/3?(console.log(2*this.startingTime/3),this.basetimerpathremaining.nativeElement.style.color="rgb(65, 184, 131)"):timeLeft>=1*this.startingTime/3?this.basetimerpathremaining.nativeElement.style.color="orange":this.basetimerpathremaining.nativeElement.style.color="red"}calculateTimeFraction(timeLeft){const rawTimeFraction=timeLeft/this.startingTime;return rawTimeFraction-1/this.startingTime*(1-rawTimeFraction)}setCircleDasharray(timeLeft){const circleDasharray=`${(283*this.calculateTimeFraction(timeLeft)).toFixed(0)} 283`;this.basetimerpathremaining.nativeElement.setAttribute("stroke-dasharray",circleDasharray)}toggleSound(){this.backService.sound=!this.backService.sound,this.data.setSounds(this.backService.sound)}toggleMusic(){this.backService.music=!this.backService.music,this.data.setMusic(this.backService.music)}}function WordInfoComponent_ng_container_3_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.TgZ(1,"div",4),core.TgZ(2,"h2",5),core._uU(3),core.qZA(),core.qZA(),core.TgZ(4,"div",2),core.TgZ(5,"div",6),core.TgZ(6,"a",7),core._UZ(7,"img",8),core.qZA(),core.TgZ(8,"a",7),core._UZ(9,"img",9),core.qZA(),core.qZA(),core.qZA(),core.BQk()),2&rf){const ctx_r0=core.oxw();core.xp6(3),core.hij(" ",ctx_r0.backService.game.dynamicData.currentWord," "),core.xp6(3),core.MGl("href","https://dle.rae.es/",ctx_r0.backService.game.dynamicData.currentWord,"",core.LSH),core.xp6(2),core.MGl("href","https://www.google.es/search?q=",ctx_r0.backService.game.dynamicData.currentWord,"&hl=es&tbm=isch",core.LSH)}}function WordInfoComponent_ng_container_4_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.TgZ(1,"div",4),core.TgZ(2,"h2",5),core._uU(3),core.qZA(),core.qZA(),core.TgZ(4,"div",2),core.TgZ(5,"div",6),core.TgZ(6,"a",10),core._UZ(7,"img",11),core.qZA(),core.TgZ(8,"a",10),core._UZ(9,"img",12),core.qZA(),core.qZA(),core.qZA(),core.BQk()),2&rf){const ctx_r1=core.oxw();core.xp6(3),core.hij(" ",ctx_r1.backService.game.dynamicData.wordStatus," ")}}SidebarComponent.\u0275fac=function SidebarComponent_Factory(t){return new(t||SidebarComponent)(core.Y36(data_front_service.R),core.Y36(data_back_service.h),core.Y36(sockets_service.W))},SidebarComponent.\u0275cmp=core.Xpm({type:SidebarComponent,selectors:[["app-sidebar"]],viewQuery:function SidebarComponent_Query(rf,ctx){if(1&rf&&(core.Gf(sidebar_component_c0,1),core.Gf(sidebar_component_c1,1),core.Gf(_c2,1),core.Gf(_c3,1)),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.count=_t.first),core.iGM(_t=core.CRH())&&(ctx.clock=_t.first),core.iGM(_t=core.CRH())&&(ctx.basetimerlabel=_t.first),core.iGM(_t=core.CRH())&&(ctx.basetimerpathremaining=_t.first)}},decls:37,vars:5,consts:[[1,"d-flex","justify-content-center","notSelectDefault"],[2,"text-decoration","none"],[1,"neonText","h1Neon"],[1,"bi","bi-pencil","pencil",2,"font-size","20px"],[1,"card","notSelectDefault",2,"margin","7% 2% 0 5%","border","2px solid black"],[1,"card-body"],[1,"row"],[1,"d-flex","justify-content-center"],["title","M\xfasica de fondo",1,"btn","btn-config","dd-fit-content",3,"click"],["alt","M\xfasica"],["id","clock",1,"col-6"],["clock",""],[1,"base-timer"],["viewBox","0 0 100 100","xmlns","http://www.w3.org/2000/svg",1,"base-timer__svg"],[1,"base-timer__circle"],["cx","50","cy","50","r","45",1,"base-timer__path-elapsed"],["id","base-timer-path-remaining","stroke-dasharray","283","d","\n                      M 50, 50\n                      m -45, 0\n                      a 45,45 0 1,0 90,0\n                      a 45,45 0 1,0 -90,0\n                      ",1,"base-timer__path-remaining"],["baseTimerPathRemaining",""],[0,"xml","space","preserve","x","-69","y","60","id","text841","transform","scale(-1,1)",2,"font-style","normal","font-weight","normal","font-size","32px","line-height","1.25","font-family","sans-serif","fill","#000000","fill-opacity","1","stroke","none","stroke-width","0.956112"],["baseTimerLabel",""],["title","Efectos de sonido",1,"btn","btn-config","dd-fit-content",3,"click"],["alt","Sonido"],[2,"margin-top","5%"],[1,"jumbotron","list-content"],[1,"list-group"],["href","#",1,"list-group-item-score","title"],[1,"col-9"],[1,"col-3"],[1,"position"],["class","list-group-item",3,"style",4,"ngFor","ngForOf"],["class","card-footer d-grid gap-1",4,"ngIf"],["class","card-footer d-grid gap-1 cursorNotAllowed",4,"ngIf"],[1,"list-group-item"],[4,"ngFor","ngForOf"],[4,"ngIf"],["src","/assets/images/uno.png","width","100%"],[2,"font-size","1.8vh"],["src","/assets/images/dos.png","width","100%"],["src","/assets/images/tres.png","width","100%"],[1,"card-footer","d-grid","gap-1"],["type","submit",1,"btn","btn-danger",3,"click"],[1,"card-footer","d-grid","gap-1","cursorNotAllowed"],["type","submit","disabled","",1,"btn","btn-danger",3,"click"]],template:function SidebarComponent_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.TgZ(1,"a",1),core.TgZ(2,"h1",2),core._uU(3,"dibudaw\xa0"),core._UZ(4,"i",3),core.qZA(),core.qZA(),core.qZA(),core.TgZ(5,"div",4),core.TgZ(6,"div",5),core.TgZ(7,"div",6),core.TgZ(8,"div",7),core.TgZ(9,"button",8),core.NdJ("click",function SidebarComponent_Template_button_click_9_listener(){return ctx.toggleMusic()}),core._UZ(10,"img",9),core.qZA(),core.TgZ(11,"div",10,11),core.TgZ(13,"div",7),core.TgZ(14,"div",12),core.O4$(),core.TgZ(15,"svg",13),core.TgZ(16,"g",14),core._UZ(17,"circle",15),core._UZ(18,"path",16,17),core.qZA(),core._UZ(20,"text",18,19),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.kcU(),core.TgZ(22,"button",20),core.NdJ("click",function SidebarComponent_Template_button_click_22_listener(){return ctx.toggleSound()}),core._UZ(23,"img",21),core.qZA(),core.qZA(),core.qZA(),core.TgZ(24,"div",22),core.TgZ(25,"div",23),core.TgZ(26,"ul",24),core.TgZ(27,"li",25),core.TgZ(28,"div",6),core.TgZ(29,"div",26),core._uU(30,"Jugadores"),core.qZA(),core.TgZ(31,"div",27),core._uU(32,"Pts"),core.qZA(),core.qZA(),core.qZA(),core.TgZ(33,"div",28),core.YNc(34,SidebarComponent_li_34_Template,9,8,"li",29),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.YNc(35,SidebarComponent_div_35_Template,3,0,"div",30),core.YNc(36,SidebarComponent_div_36_Template,3,0,"div",31),core.qZA()),2&rf&&(core.xp6(10),core.uIk("src",ctx.backService.music?"assets/images/music-note.png":"assets/images/music-note-beamed.png",core.LSH),core.xp6(13),core.uIk("src",ctx.backService.sound?"assets/images/volume-up-fill.png":"assets/images/volume-mute-fill.png",core.LSH),core.xp6(11),core.Q6J("ngForOf",ctx.backService.scoreboard),core.xp6(1),core.Q6J("ngIf",ctx.user&&ctx.roomData&&ctx.user.id==ctx.roomData.owner),core.xp6(1),core.Q6J("ngIf",!ctx.user||!ctx.roomData||ctx.user.id!=ctx.roomData.owner))},directives:[common.sg,common.O5],encapsulation:2});class WordInfoComponent{constructor(data,backService,componentElement){this.data=data,this.backService=backService,this.componentElement=componentElement,this.currentWord="madro\xf1era",this.roomData=this.backService.room,this.user=this.backService.user,this.backService.roomSubscriptions.push(this.backService.roomSubject.subscribe(content=>{this.roomData=content})),this.backService.roomSubscriptions.push(this.backService.userSubject.subscribe(content=>{this.user=content}))}ngOnInit(){}}WordInfoComponent.\u0275fac=function WordInfoComponent_Factory(t){return new(t||WordInfoComponent)(core.Y36(data_front_service.R),core.Y36(data_back_service.h),core.Y36(core.SBq))},WordInfoComponent.\u0275cmp=core.Xpm({type:WordInfoComponent,selectors:[["app-word-info"]],decls:5,vars:2,consts:[[1,"container","notSelectDefault"],[1,"row"],[1,"col"],[4,"ngIf"],[1,"col","d-flex","justify-content-center"],[2,"color","white","margin-top","3%"],[1,"input-group",2,"margin-top","1.2rem"],["target","_blank","id","helpWord",3,"href"],["src","../../../../assets/images/diccionario3.png","alt","Busqueda de palabra en diccionario.",2,"width","2.2rem"],["src","../../../../assets/images/searchImage2.png","alt","",2,"width","2.2rem"],["href","","id","helpWord",1,"cursorNotAllowed",2,"pointer-events","none"],["src","../../../../assets/images/diccionarioDisabled.png","alt","Busqueda de palabra en diccionario - Deshabilidtado",2,"width","2.2rem"],["src","../../../../assets/images/searchImageDisabled.png","alt","",2,"width","2.2rem"]],template:function WordInfoComponent_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.TgZ(1,"div",1),core._UZ(2,"div",2),core.YNc(3,WordInfoComponent_ng_container_3_Template,10,3,"ng-container",3),core.YNc(4,WordInfoComponent_ng_container_4_Template,10,1,"ng-container",3),core.qZA(),core.qZA()),2&rf&&(core.xp6(3),core.Q6J("ngIf",ctx.backService.game.dynamicData.currentlyDrawingTeam==ctx.backService.team),core.xp6(1),core.Q6J("ngIf",ctx.backService.game.dynamicData.currentlyDrawingTeam!=ctx.backService.team))},directives:[common.O5],encapsulation:2});var fromEvent=__webpack_require__(22759),switchMap=__webpack_require__(43190),takeUntil=__webpack_require__(46782),pairwise=__webpack_require__(59328);const canvas_component_c0=["canvasHTML"];class CanvasComponent{constructor(data,socketsService,backService){this.data=data,this.socketsService=socketsService,this.backService=backService,this.externalDrawSubscription=this.socketsService.onStroke().subscribe(stroke=>{this.externalDraw(stroke)}),this.socketsService.onCanvasClear()}setCanvasAccess(currentlyDrawingUser){currentlyDrawingUser==this.backService.user.id?this.eventCapture(this.canvasGood):this.disableEventCapture(this.canvasGood)}ngAfterViewInit(){this.setCanvasAccess(this.backService.game.dynamicData.currentlyDrawingUser),this.gameSubscription=this.backService.gameSubject.subscribe(game=>{console.log("hay que actualizar los permisos del canvas."),this.setCanvasAccess(game.dynamicData.currentlyDrawingUser)})}getScreenSize(event){this.screenHeight=window.innerHeight,this.screenWidth=window.innerWidth,this.width=window.innerWidth/1.8,this.height=window.innerHeight/1.28}ngOnInit(){this.getScreenSize(),this.canvasGood=this.canvas.nativeElement,this.context=this.canvasGood.getContext("2d"),this.context.lineWidth=3,this.context.lineCap="round",this.context.strokeStyle=this.data.color,this.colorSubscription=this.data.colorChange.subscribe(e=>{this.context.strokeStyle=e}),this.context.lineWidth=this.data.brushSize,this.colorSubscription=this.data.brushSizeChange.subscribe(e=>{this.context.lineWidth=e}),this.clearSubscription=this.data.clearChange.subscribe(e=>{this.context.clearRect(0,0,this.canvasGood.width,this.canvasGood.height)})}disableEventCapture(canvasC){var _a,_b,_c;console.log("ejecutamos disableEventCapture()"),null===(_a=this.canvasSubscription)||void 0===_a||_a.unsubscribe(),this.canvasSubscription=void 0,null===(_b=this.canvasMobileSubscription)||void 0===_b||_b.unsubscribe(),null===(_c=this.canvasMobileSubscription)||void 0===_c||_c.unsubscribe()}eventCapture(canvasC){if(null==this.canvasSubscription){function getTransformedPosition(clientX,clientY){let rect=canvasC.getBoundingClientRect(),scaleX=canvasC.width/rect.width,scaleY=canvasC.height/rect.height;return{x:(clientX-rect.left)*scaleX,y:(clientY-rect.top)*scaleY}}let drawMouseEvent=res=>{let prevPos=getTransformedPosition(res[0].clientX,res[0].clientY),currentPos=getTransformedPosition(res[1].clientX,res[1].clientY);this.draw(prevPos,currentPos),this.socketsService.wannaStroke({pp:prevPos,cp:currentPos,c:String(this.context.strokeStyle),s:this.context.lineWidth})},drawTouchEvent=res=>{let prevPos=getTransformedPosition(res[0].touches[0].clientX,res[0].touches[0].clientY),currentPos=getTransformedPosition(res[1].touches[0].clientX,res[1].touches[0].clientY);this.draw(prevPos,currentPos),this.socketsService.wannaStroke({pp:prevPos,cp:currentPos,c:String(this.context.strokeStyle),s:this.context.lineWidth})};console.log("ejecutamos eventCapture()");const mousedown$=(0,fromEvent.R)(canvasC,"mousedown"),touchstart$=(0,fromEvent.R)(canvasC,"touchstart",{passive:!0});this.canvasMobileSubscription=touchstart$.pipe((0,switchMap.w)(e=>(0,fromEvent.R)(canvasC,"touchmove").pipe((0,takeUntil.R)((0,fromEvent.R)(canvasC,"touchend")),(0,takeUntil.R)((0,fromEvent.R)(canvasC,"touchcancel")),(0,pairwise.G)()))).subscribe(drawTouchEvent),this.canvasSubscription=mousedown$.pipe((0,switchMap.w)(e=>(0,fromEvent.R)(canvasC,"mousemove").pipe((0,takeUntil.R)((0,fromEvent.R)(canvasC,"mouseup")),(0,takeUntil.R)((0,fromEvent.R)(canvasC,"mouseleave")),(0,pairwise.G)()))).subscribe(drawMouseEvent)}}draw(prevPos,currentPos){this.context&&(this.context.beginPath(),prevPos&&(this.context.moveTo(prevPos.x,prevPos.y),this.context.lineTo(currentPos.x,currentPos.y),this.context.stroke()))}externalDraw(stroke){this.context.strokeStyle=stroke.c,this.context.lineWidth=stroke.s,this.draw(stroke.pp,stroke.cp)}ngOnDestroy(){var _a,_b,_c,_d,_e;null===(_a=this.colorSubscription)||void 0===_a||_a.unsubscribe(),null===(_b=this.gameSubscription)||void 0===_b||_b.unsubscribe(),null===(_c=this.clearSubscription)||void 0===_c||_c.unsubscribe(),null===(_d=this.canvasSubscription)||void 0===_d||_d.unsubscribe(),null===(_e=this.canvasMobileSubscription)||void 0===_e||_e.unsubscribe()}}CanvasComponent.\u0275fac=function CanvasComponent_Factory(t){return new(t||CanvasComponent)(core.Y36(data_front_service.R),core.Y36(sockets_service.W),core.Y36(data_back_service.h))},CanvasComponent.\u0275cmp=core.Xpm({type:CanvasComponent,selectors:[["app-canvas"]],viewQuery:function CanvasComponent_Query(rf,ctx){if(1&rf&&core.Gf(canvas_component_c0,3),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.canvas=_t.first)}},hostBindings:function CanvasComponent_HostBindings(rf,ctx){1&rf&&core.NdJ("resize",function CanvasComponent_resize_HostBindingHandler($event){return ctx.getScreenSize($event)},!1,core.Jf7)},inputs:{width:"width",height:"height"},decls:2,vars:0,consts:[["id","canvas","width","1000","height","1000",1,"cursorCanvas","canvasPaint"],["canvasHTML",""]],template:function CanvasComponent_Template(rf,ctx){1&rf&&core._UZ(0,"canvas",0,1)},encapsulation:2});const tools_component_c0=["colorPicker"],tools_component_c1=["colorPickerBtn"],tools_component_c2=["hexaColor"],tools_component_c3=["divColorPicker"];class ToolsComponent{constructor(data,backService,componentElement,socketService){this.data=data,this.backService=backService,this.componentElement=componentElement,this.socketService=socketService,this.currentWord="madro\xf1era",this.showingColorPicker=!1,this.roomData=this.backService.room,this.user=this.backService.user,this.backService.roomSubscriptions.push(this.backService.roomSubject.subscribe(content=>{this.roomData=content})),this.backService.roomSubscriptions.push(this.backService.userSubject.subscribe(content=>{this.user=content}))}setColorBrush(color){this.data.setColorService(color)}setSize(value){this.data.setSizeService(value)}Clear(){this.backService.game.dynamicData.currentlyDrawingUser==this.backService.user.id&&(this.socketService.wannaClear(),this.data.setClearService())}loadColorPicker(){const nativeCanvas=this.colorPicker.nativeElement,nativeButton=this.colorPickerBtn.nativeElement,context=nativeCanvas.getContext("2d"),nativeHexaColor=this.hexaColor.nativeElement,image=(this.divColorPicker.nativeElement,new Image);image.onload=function(){context.drawImage(image,0,0,image.width,image.height)},image.src="assets/images/colorwheel5.png",nativeCanvas.addEventListener("mousemove",function(e){let rect=e.target.getBoundingClientRect(),canvasX=e.offsetX||e.pageX-rect.left-window.scrollX,canvasY=e.offsetY||e.pageY-rect.top-window.scrollY,pixel=context.getImageData(canvasX,canvasY,1,1).data,pixelColor="rgb("+pixel[0]+", "+pixel[1]+", "+pixel[2]+")";nativeButton.style.backgroundColor=pixelColor;let dColor=pixel[2]+256*pixel[1]+65536*pixel[0];nativeHexaColor.value="#"+("0000"+dColor.toString(16)).substr(-6)})}toggleColorPicker(){this.showingColorPicker,this.showingColorPicker=!this.showingColorPicker}ngAfterViewInit(){this.loadColorPicker()}}ToolsComponent.\u0275fac=function ToolsComponent_Factory(t){return new(t||ToolsComponent)(core.Y36(data_front_service.R),core.Y36(data_back_service.h),core.Y36(core.SBq),core.Y36(sockets_service.W))},ToolsComponent.\u0275cmp=core.Xpm({type:ToolsComponent,selectors:[["app-tools"]],viewQuery:function ToolsComponent_Query(rf,ctx){if(1&rf&&(core.Gf(tools_component_c0,1),core.Gf(tools_component_c1,1),core.Gf(tools_component_c2,1),core.Gf(tools_component_c3,1)),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.colorPicker=_t.first),core.iGM(_t=core.CRH())&&(ctx.colorPickerBtn=_t.first),core.iGM(_t=core.CRH())&&(ctx.hexaColor=_t.first),core.iGM(_t=core.CRH())&&(ctx.divColorPicker=_t.first)}},decls:27,vars:6,consts:[[1,"input-group"],["type","hidden","id","hexVal"],["hexaColor",""],[3,"click"],["colorPickerBtn",""],[1,"btn-group"],["id","colorBlack",3,"click"],["id","colorGrey",3,"click"],["id","colorDarkRed",3,"click"],["id","colorRed",3,"click"],["id","colorOrange",3,"click"],["id","colorYellow",3,"click"],["id","colorGreen",3,"click"],["id","colorBlue",3,"click"],["id","colorDarkBlue",3,"click"],["id","colorViolet",3,"click"],["id","clearAll",3,"click"],[1,"bi","bi-trash-fill"],["id","eraser",1,"eraser",3,"click"],[1,"bi","bi-eraser-fill"],["type","range","min","1","max","60","value","3",1,"dd-mgr-2",3,"change"],["hsize",""],[2,"position","relative"],["divColorPicker",""],["id","picker","width","300","height","300",1,"color",3,"click"],["colorPicker",""]],template:function ToolsComponent_Template(rf,ctx){if(1&rf){const _r5=core.EpF();core.TgZ(0,"div",0),core._UZ(1,"input",1,2),core.TgZ(3,"div",3,4),core.NdJ("click",function ToolsComponent_Template_div_click_3_listener(){return ctx.toggleColorPicker()}),core.qZA(),core.TgZ(5,"div",5),core.TgZ(6,"button",6),core.NdJ("click",function ToolsComponent_Template_button_click_6_listener(){return ctx.setColorBrush("black")}),core.qZA(),core.TgZ(7,"button",7),core.NdJ("click",function ToolsComponent_Template_button_click_7_listener(){return ctx.setColorBrush("grey")}),core.qZA(),core.TgZ(8,"button",8),core.NdJ("click",function ToolsComponent_Template_button_click_8_listener(){return ctx.setColorBrush("rgb(136, 0, 21)")}),core.qZA(),core.TgZ(9,"button",9),core.NdJ("click",function ToolsComponent_Template_button_click_9_listener(){return ctx.setColorBrush("red")}),core.qZA(),core.TgZ(10,"button",10),core.NdJ("click",function ToolsComponent_Template_button_click_10_listener(){return ctx.setColorBrush("orange")}),core.qZA(),core.TgZ(11,"button",11),core.NdJ("click",function ToolsComponent_Template_button_click_11_listener(){return ctx.setColorBrush("yellow")}),core.qZA(),core.TgZ(12,"button",12),core.NdJ("click",function ToolsComponent_Template_button_click_12_listener(){return ctx.setColorBrush("green")}),core.qZA(),core.TgZ(13,"button",13),core.NdJ("click",function ToolsComponent_Template_button_click_13_listener(){return ctx.setColorBrush("blue")}),core.qZA(),core.TgZ(14,"button",14),core.NdJ("click",function ToolsComponent_Template_button_click_14_listener(){return ctx.setColorBrush("rgb(63, 72, 204)")}),core.qZA(),core.TgZ(15,"button",15),core.NdJ("click",function ToolsComponent_Template_button_click_15_listener(){return ctx.setColorBrush("violet")}),core.qZA(),core.qZA(),core.TgZ(16,"button",16),core.NdJ("click",function ToolsComponent_Template_button_click_16_listener(){return ctx.Clear()}),core._UZ(17,"i",17),core.qZA(),core.TgZ(18,"button",18),core.NdJ("click",function ToolsComponent_Template_button_click_18_listener(){return ctx.setColorBrush("white")}),core._UZ(19,"i",19),core.qZA(),core.TgZ(20,"input",20,21),core.NdJ("change",function ToolsComponent_Template_input_change_20_listener(){core.CHM(_r5);const _r2=core.MAs(21);return ctx.setSize(_r2.value)}),core.qZA(),core.qZA(),core.TgZ(22,"div",22),core.TgZ(23,"div",null,23),core.TgZ(25,"canvas",24,25),core.NdJ("click",function ToolsComponent_Template_canvas_click_25_listener(){core.CHM(_r5);const _r0=core.MAs(2);return ctx.setColorBrush(_r0.value),ctx.toggleColorPicker()}),core.qZA(),core.qZA(),core.qZA()}2&rf&&(core.xp6(3),core.Gre("",ctx.showingColorPicker?"preview2":"preview"," dd-mgb-1 dd-mgr-22px"),core.xp6(20),core.Gre("colorpicker ",ctx.showingColorPicker?"":"dd-display-none",""))},encapsulation:2});const timer_component_c0=["roundTicker"];class TimerComponent{constructor(socketService){this.socketService=socketService,this.timeLeft=0,this.startingTime=0,this.diff="100%"}ngOnInit(){this.socketService.roundTimeSubject.subscribe(roundTime=>{roundTime.i||(roundTime.rt!=this.timeLeft-1&&(this.startingTime=roundTime.rt),this.timeLeft=roundTime.rt,this.diff=(this.timeLeft/this.startingTime*100).toFixed(0)+"%",this.tickerRef.nativeElement.style.height=this.diff)})}}TimerComponent.\u0275fac=function TimerComponent_Factory(t){return new(t||TimerComponent)(core.Y36(sockets_service.W))},TimerComponent.\u0275cmp=core.Xpm({type:TimerComponent,selectors:[["app-timer"]],viewQuery:function TimerComponent_Query(rf,ctx){if(1&rf&&core.Gf(timer_component_c0,1),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.tickerRef=_t.first)}},decls:10,vars:1,consts:[[2,"margin-top","5%","margin-right","5%"],[1,"jumbotron","list-content"],[1,"row"],["stopwatch",""],[1,"container-timer"],["id","countdown",1,"countdown--wide","countdown"],["id","ticker",1,"countdown__fill"],["roundTicker",""],["id","seconds",1,"countdown__digit"]],template:function TimerComponent_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.TgZ(1,"div",1),core.TgZ(2,"div",2,3),core.TgZ(4,"div",4),core.TgZ(5,"div",5),core._UZ(6,"div",6,7),core.TgZ(8,"div",8),core._uU(9),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA()),2&rf&&(core.xp6(9),core.Oqu(ctx.diff))},encapsulation:2});const chat_component_c0=["scrollMe"];function ChatComponent_div_3_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",9),core.TgZ(1,"p",10),core.TgZ(2,"span"),core._uU(3),core.qZA(),core._uU(4),core.qZA(),core.qZA()),2&rf){const message_r3=ctx.$implicit;core.xp6(2),core.Jzz("color: ",message_r3.color,";"),core.xp6(1),core.hij("",message_r3.sender,":"),core.xp6(1),core.hij(" ",message_r3.content,"")}}class ChatComponent{constructor(socketService,backService,frontService){this.socketService=socketService,this.backService=backService,this.frontService=frontService,this.chat=[],this.chatColors=[[],["red","red"],["blue","blue"],["purple","purple"],["green","green"],["brown","brown"],["pink","pink"]],console.log(backService.team),this.messageSubscription=this.socketService.onMessage().subscribe(message=>{this.chat.push(message),setTimeout(()=>{this.scrollToBottom()},200)}),this.color=this.memberColor(this.backService.user.id)}ngOnInit(){}ngAfterViewInit(){this.myScrollContainer.nativeElement.scrollTop=this.myScrollContainer.nativeElement.scrollHeight-this.myScrollContainer.nativeElement.offsetHeight}scrollToBottom(){try{this.myScrollContainer.nativeElement.scrollTo({top:this.myScrollContainer.nativeElement.scrollHeight,behavior:"smooth"})}catch(err){}}memberColor(id){for(const[i,team]of this.backService.room.teams.entries())for(const[j,member]of team.entries())if(member.id==id)return this.chatColors[i][j];return"black"}sendMessage(content){console.log(content),""!=content&&(content.length<=100?this.socketService.wannaChat({sender:this.backService.user.name,color:this.color,content:content}):this.frontService.showToast({type:"warning",subhead:"Has alcanzado el l\xedmite de 100 caracteres por mensaje.",title:"Aviso!",options:{positionClass:"toast-bottom-left"}}))}ngOnDestroy(){var _a;null===(_a=this.messageSubscription)||void 0===_a||_a.unsubscribe()}}ChatComponent.\u0275fac=function ChatComponent_Factory(t){return new(t||ChatComponent)(core.Y36(sockets_service.W),core.Y36(data_back_service.h),core.Y36(data_front_service.R))},ChatComponent.\u0275cmp=core.Xpm({type:ChatComponent,selectors:[["app-chat"]],viewQuery:function ChatComponent_Query(rf,ctx){if(1&rf&&core.Gf(chat_component_c0,1),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.myScrollContainer=_t.first)}},decls:9,vars:2,consts:[[1,"dd-chat"],[2,"overflow-y","scroll","height","70vh","width","100%","background-color","white"],["scrollMe",""],["style","padding: 0.5rem 0.2rem;",4,"ngFor","ngForOf"],[1,"card-footer"],[1,"input-group"],["type","text","placeholder","Mensaje / Palabra","aria-label","Mensaje","aria-describedby","basic-addon1",1,"form-control",3,"keyup.enter"],["msg",""],["type","button","value",">","title","Enviar mensaje.",1,"btn","btn-primary",3,"click"],[2,"padding","0.5rem 0.2rem"],[1,"small",2,"padding","0","margin","0"]],template:function ChatComponent_Template(rf,ctx){if(1&rf){const _r4=core.EpF();core.TgZ(0,"div",0),core.TgZ(1,"div",1,2),core.YNc(3,ChatComponent_div_3_Template,5,5,"div",3),core.qZA(),core.TgZ(4,"div",4),core.TgZ(5,"div",5),core.TgZ(6,"input",6,7),core.NdJ("keyup.enter",function ChatComponent_Template_input_keyup_enter_6_listener(){core.CHM(_r4);const _r2=core.MAs(7);return ctx.sendMessage(_r2.value),_r2.value=""}),core.qZA(),core.TgZ(8,"input",8),core.NdJ("click",function ChatComponent_Template_input_click_8_listener(){core.CHM(_r4);const _r2=core.MAs(7);return ctx.sendMessage(_r2.value),_r2.value=""}),core.qZA(),core.qZA(),core.qZA(),core.qZA()}2&rf&&(core.xp6(3),core.Q6J("ngForOf",ctx.chat),core.xp6(3),core.uIk("disabled",0==ctx.backService.team||ctx.backService.team==ctx.backService.game.dynamicData.currentlyDrawingTeam||null))},directives:[common.sg],encapsulation:2});class GameComponent{constructor(componentElement,frontService){this.componentElement=componentElement,this.frontService=frontService}ngOnInit(){}ngAfterViewInit(){this.colorChangeSubscription=this.frontService.colorChange.subscribe(color=>{this.componentElement.nativeElement.querySelector("#canvas").style.cursor="white"==color?"url(assets/images/eraser2.png), auto":"url(assets/images/pencil.png), auto"})}ngOnDestroy(){this.colorChangeSubscription.unsubscribe()}}GameComponent.\u0275fac=function GameComponent_Factory(t){return new(t||GameComponent)(core.Y36(core.SBq),core.Y36(data_front_service.R))},GameComponent.\u0275cmp=core.Xpm({type:GameComponent,selectors:[["app-game"]],decls:17,vars:0,consts:[[1,"row"],[1,"col-sm-12","col-md-4","col-lg-4","col-xl-4","col-xxl-2"],[1,"col-sm-12","col-md-5","col-lg-5","col-xl-5","col-xxl-7"],[1,"col-12"],[1,"col-sm-12","col-md-3","col-lg-3","col-xl-3","col-xxl-3"]],template:function GameComponent_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.TgZ(1,"div",1),core._UZ(2,"app-sidebar"),core.qZA(),core.TgZ(3,"div",2),core.TgZ(4,"div",0),core.TgZ(5,"div",3),core._UZ(6,"app-word-info"),core.qZA(),core.TgZ(7,"div",3),core._UZ(8,"app-canvas"),core.qZA(),core.TgZ(9,"div",3),core._UZ(10,"app-tools"),core.qZA(),core.qZA(),core.qZA(),core.TgZ(11,"div",4),core.TgZ(12,"div",0),core.TgZ(13,"div",3),core._UZ(14,"app-timer"),core.qZA(),core.TgZ(15,"div",3),core._UZ(16,"app-chat"),core.qZA(),core.qZA(),core.qZA(),core.qZA())},directives:[SidebarComponent,WordInfoComponent,CanvasComponent,ToolsComponent,TimerComponent,ChatComponent],encapsulation:2});var social_service=__webpack_require__(59363);function HomeFriendsComponent_ng_container_41_Template(rf,ctx){if(1&rf){const _r5=core.EpF();core.ynx(0),core.TgZ(1,"li",3),core.TgZ(2,"label",34),core._uU(3),core.qZA(),core.TgZ(4,"label",7),core.TgZ(5,"a",35),core.NdJ("click",function HomeFriendsComponent_ng_container_41_Template_a_click_5_listener(){core.CHM(_r5);const friend_r3=ctx.$implicit;return core.oxw().JoinFriendGame(friend_r3.id)}),core._UZ(6,"i",36),core.qZA(),core._uU(7,"\xa0 "),core.TgZ(8,"a",37),core.NdJ("click",function HomeFriendsComponent_ng_container_41_Template_a_click_8_listener(){core.CHM(_r5);const friend_r3=ctx.$implicit;return core.oxw().deleteFriend(friend_r3.id)}),core._UZ(9,"i",38),core.qZA(),core.qZA(),core._UZ(10,"div",15),core.qZA(),core.BQk()}if(2&rf){const friend_r3=ctx.$implicit;core.xp6(3),core.Oqu(friend_r3.name)}}class HomeFriendsComponent{constructor(backService,socialService,socketService,frontService,authService){this.backService=backService,this.socialService=socialService,this.socketService=socketService,this.frontService=frontService,this.authService=authService,this.friendList=[],this.user=backService.user,this.socialService.getFriendList().subscribe(updatedFriendList=>{this.backService.friendList=updatedFriendList,this.backService.friendListSubject.next(updatedFriendList)}),this.friendListSubscription=this.backService.friendListSubject.subscribe(content=>{this.friendList=content}),this.socialService.onFriendListReceived().subscribe(content=>{this.friendList.push(content)}),this.socialService.wannaGetfriendList(),this.socialService.onStatus()}ngOnInit(){}deleteFriend(pIdUserFriend){let deletedFriend=this.friendList.find(request=>request.id==pIdUserFriend);if(null!=deletedFriend){let indexDeclinedRequest=this.friendList.indexOf(deletedFriend);this.friendList.splice(indexDeclinedRequest,1),this.socialService.removeFriend(pIdUserFriend)}}changeName(newName){newName.length<50?this.authService.changeField("username",newName):this.frontService.showToast({type:"error",title:"Error",subhead:"El nombre de usuario supera los 50 caracteres",options:{}})}JoinFriendGame(friendId){this.socketService.joinFriendRoom(friendId)}sendFriendRequest(pEmail){null!=pEmail&&""!=pEmail&&/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/.test(pEmail)?this.socialService.sendFriendRequest(pEmail):this.frontService.showToast({type:"error",title:"Error",subhead:"Introduce un email v\xe1lido",options:{}})}}HomeFriendsComponent.\u0275fac=function HomeFriendsComponent_Factory(t){return new(t||HomeFriendsComponent)(core.Y36(data_back_service.h),core.Y36(social_service.V),core.Y36(sockets_service.W),core.Y36(data_front_service.R),core.Y36(auth_service.e))},HomeFriendsComponent.\u0275cmp=core.Xpm({type:HomeFriendsComponent,selectors:[["app-home-friends"]],decls:48,vars:3,consts:[[1,"container","dd-mgt-2","notSelectDefault"],[1,"jumbotron","list-content"],[1,"list-group"],[1,"list-group-item"],[1,"d-flex","justify-content-center"],[1,"list-group-item",2,"padding","0 1rem"],[1,"dd-nick-list-friends",2,"margin-top","0.9rem","margin-bottom","0"],[1,"float-end"],["role","button","data-bs-toggle","dropdown",1,"btn","btn-warning","dropdown-toggle",2,"margin-top","0.9rem"],["aria-labelledby","dropdownMenuLink",1,"dropdown-menu","ul-change"],["for","nameUser",1,"d-flex","justify-content-center"],["type","text","name","nameUser",3,"value"],["newName",""],[1,"d-flex","justify-content-center","dd-mgt-3"],[1,"btn","btn-warning",3,"click"],[1,"break"],[1,"list-content","dd-mgt-3"],[1,"list-group","dd-union-card-top"],[1,"list-group-item",2,"border-bottom-right-radius","0","border-bottom-left-radius","0"],["role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["role","tab","id","friend-tab","data-bs-toggle","tab","data-bs-target","#friend","aria-controls","friend",1,"nav-link","active","notSelect"],["role","tab","id","search-tab","data-bs-toggle","tab","data-bs-target","#search","type","button","aria-controls","search",1,"nav-link","notSelect"],[1,"tab-content"],["id","friend","role","tabpanel","aria-labelledby","friend-tab",1,"tab-pane","fade","show","active"],["href","#",1,"list-group-item","title"],[1,"scroll-show-home","dd-union-card-bottom"],[1,"overflow-auto"],[4,"ngFor","ngForOf"],["id","search","role","tabpanel","aria-labelledby","search-tab",1,"tab-pane","fade"],[1,"jumbotron"],[1,"list-group-item","title",2,"border-top-left-radius","0","border-top-right-radius","0"],["id","search-input","type","search","id","form1","placeholder","Introduzca aqu\xed el correo de su amigo.",1,"form-control",3,"keyup.enter"],["emailFriend",""],[1,"name"],["title","Unirse a partida",1,"btn","btn-success","dd-mgt-4","btn-xs","glyphicon","glyphicon-trash",3,"click"],[1,"bi","bi-arrow-bar-right"],["title","Eliminar amigo",1,"btn","btn-danger","dd-mgt-4","btn-xs","glyphicon","glyphicon-trash",3,"click"],[1,"bi","bi-trash"]],template:function HomeFriendsComponent_Template(rf,ctx){if(1&rf){const _r7=core.EpF();core.TgZ(0,"div",0),core.TgZ(1,"div",1),core.TgZ(2,"ul",2),core.TgZ(3,"li",3),core.TgZ(4,"h5",4),core._uU(5,"TU PERFIL"),core.qZA(),core.qZA(),core.TgZ(6,"li",5),core.TgZ(7,"label",6),core._uU(8),core.qZA(),core.TgZ(9,"label",7),core.TgZ(10,"button",8),core._uU(11," Cambio de nombre "),core.qZA(),core.TgZ(12,"ul",9),core.TgZ(13,"li"),core.TgZ(14,"label",10),core._uU(15,"Nombre Actual"),core.qZA(),core._UZ(16,"br"),core._UZ(17,"input",11,12),core.qZA(),core.TgZ(19,"li",13),core.TgZ(20,"button",14),core.NdJ("click",function HomeFriendsComponent_Template_button_click_20_listener(){core.CHM(_r7);const _r0=core.MAs(18);return ctx.changeName(_r0.value)}),core._uU(21,"Cambiar"),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core._UZ(22,"div",15),core.qZA(),core.qZA(),core.TgZ(23,"div",16),core.TgZ(24,"ul",17),core.TgZ(25,"li",18),core.TgZ(26,"ul",19),core.TgZ(27,"li",20),core.TgZ(28,"button",21),core._uU(29,"UNIRSE A PARTIDA"),core.qZA(),core.qZA(),core.TgZ(30,"li",20),core.TgZ(31,"button",22),core._uU(32,"AGREGAR AMIGO"),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.TgZ(33,"div",1),core.TgZ(34,"ul",2),core.TgZ(35,"div",23),core.TgZ(36,"div",24),core.TgZ(37,"li",25),core._uU(38," Lista de amigos "),core.qZA(),core.TgZ(39,"div",26),core.TgZ(40,"div",27),core.YNc(41,HomeFriendsComponent_ng_container_41_Template,11,1,"ng-container",28),core.qZA(),core.qZA(),core.qZA(),core.TgZ(42,"div",29),core.TgZ(43,"div",30),core.TgZ(44,"ul",2),core.TgZ(45,"li",31),core.TgZ(46,"input",32,33),core.NdJ("keyup.enter",function HomeFriendsComponent_Template_input_keyup_enter_46_listener(){core.CHM(_r7);const _r2=core.MAs(47);return ctx.sendFriendRequest(_r2.value),_r2.value=""}),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA()}2&rf&&(core.xp6(8),core.Oqu(ctx.user.name),core.xp6(9),core.s9C("value",ctx.user.name),core.xp6(24),core.Q6J("ngForOf",ctx.friendList))},directives:[common.sg],encapsulation:2});class HomeComponent{constructor(socketService,dataFrontService){this.socketService=socketService,this.dataFrontService=dataFrontService}ngOnInit(){}joinRoom(roomName){""==roomName.trim()?this.dataFrontService.showToast({type:"error",title:"C\xf3digo no v\xe1lido",subhead:"Introduce un c\xf3digo de partida v\xe1lido.",options:""}):roomName.match(/^[0-9a-fA-F]{24}$/)?this.socketService.joinRoom(roomName):this.dataFrontService.showToast({type:"error",title:"C\xf3digo no v\xe1lido",subhead:"Introduce un c\xf3digo de partida v\xe1lido.",options:""})}createRoom(){this.socketService.createRoom()}}HomeComponent.\u0275fac=function HomeComponent_Factory(t){return new(t||HomeComponent)(core.Y36(sockets_service.W),core.Y36(data_front_service.R))},HomeComponent.\u0275cmp=core.Xpm({type:HomeComponent,selectors:[["app-home"]],decls:48,vars:0,consts:[[1,"row"],[1,"col-12","col-sm-12","col-md-4","dd-mgb-2"],[1,"col-12","col-sm-12","col-md-8"],[1,"row","dd-mgt-1"],[1,"col-12","col-sm-12","col-md-4","dd-mgb-1"],[1,"container"],[1,"d-grid"],[1,"btn","btn-success","dd-border-1-white",3,"click"],[1,"container","notSelectDefault"],[1,"d-flex"],["type","search","placeholder","C\xf3digo de la partida","aria-label","Search",1,"form-control","me-2",3,"key.enter"],["roomName",""],[1,"col-12","col-sm-12","col-md-12"],[1,"container","dd-mgt-1"],[1,"card"],[1,"card-header","dd-border-grey"],[1,"card-body"]],template:function HomeComponent_Template(rf,ctx){if(1&rf){const _r1=core.EpF();core.TgZ(0,"div",0),core.TgZ(1,"div",1),core._UZ(2,"app-home-friends"),core.qZA(),core.TgZ(3,"div",2),core.TgZ(4,"div",3),core.TgZ(5,"div",4),core.TgZ(6,"div",5),core.TgZ(7,"div",6),core.TgZ(8,"button",7),core.NdJ("click",function HomeComponent_Template_button_click_8_listener(){return ctx.createRoom()}),core._uU(9," Crear sala "),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.TgZ(10,"div",2),core.TgZ(11,"div",8),core.TgZ(12,"div",6),core.TgZ(13,"form",9),core.TgZ(14,"input",10,11),core.NdJ("key.enter",function HomeComponent_Template_input_key_enter_14_listener(){core.CHM(_r1);const _r0=core.MAs(15);return ctx.joinRoom(_r0.value)}),core.qZA(),core.TgZ(16,"button",7),core.NdJ("click",function HomeComponent_Template_button_click_16_listener(){core.CHM(_r1);const _r0=core.MAs(15);return ctx.joinRoom(_r0.value)}),core._uU(17,"Unirse"),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.TgZ(18,"div",12),core.TgZ(19,"div",13),core.TgZ(20,"div",14),core.TgZ(21,"h2",15),core._uU(22,"** NOTAS DEL PARCHE v.0.2.5-Alpha **"),core.qZA(),core.TgZ(23,"div",16),core.TgZ(24,"h5"),core._uU(25,"Ya es oficial la fecha de lanzamiento!!"),core.qZA(),core.TgZ(26,"p"),core._uU(27,"Tras una reuni\xf3n realizada el 07/04/2021 en las oficinas de Discord en Espa\xf1a, los encargados en el desarrollo y mantenimiento de dibudaw.io, pusieron fecha fin a la exposici\xf3n de la misma."),core.qZA(),core.TgZ(28,"ul"),core.TgZ(29,"li"),core._uU(30,"Espa\xf1a - 10:00 AM "),core.qZA(),core.TgZ(31,"li"),core._uU(32,"Argentina, Brasil, Chile, Uruguay - 05:00 AM"),core.qZA(),core.TgZ(33,"li"),core._uU(34,"Colombia - 03:00 AM"),core.qZA(),core.TgZ(35,"li"),core._uU(36,"M\xe9xico - 02:00 AM"),core.qZA(),core.qZA(),core.TgZ(37,"h5"),core._uU(38,"Soluci\xf3n de Bugs!"),core.qZA(),core.TgZ(39,"p"),core._uU(40,"Se han resuelto 3 bugs que afectaban al funcionamiento de la p\xe1gina, detectados gracias a vuestra comunicaci\xf3n con el soporte t\xe9cnico dibudaw@gmail.com"),core.qZA(),core.TgZ(41,"ul"),core.TgZ(42,"li"),core._uU(43,"Bot\xf3n de comenzar partida, no resaltaba color al pasar el mouse. "),core.qZA(),core.TgZ(44,"li"),core._uU(45,'Bot\xf3n "T\xfa perfil", no mostraba tu nick.'),core.qZA(),core.TgZ(46,"li"),core._uU(47,"Navegaci\xf3n por movil en el home, no funcionaba el responsive."),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA()}},directives:[HomeFriendsComponent,fesm2015_forms.vK,fesm2015_forms.JL,fesm2015_forms.F],encapsulation:2});const WINDOW=new core.OlP("WindowToken","undefined"!=typeof window&&window.document?{providedIn:"root",factory:()=>window}:{providedIn:"root",factory:()=>{}});var Subject=__webpack_require__(79765);class ClipboardService{constructor(document,window){this.document=document,this.window=window,this.copySubject=new Subject.xQ,this.copyResponse$=this.copySubject.asObservable(),this.config={}}configure(config){this.config=config}copy(content){if(!this.isSupported||!content)return this.pushCopyResponse({isSuccess:!1,content:content});const copyResult=this.copyFromContent(content);return copyResult?this.pushCopyResponse({content:content,isSuccess:copyResult}):this.pushCopyResponse({isSuccess:!1,content:content})}get isSupported(){return!!this.document.queryCommandSupported&&!!this.document.queryCommandSupported("copy")&&!!this.window}isTargetValid(element){if(element instanceof HTMLInputElement||element instanceof HTMLTextAreaElement){if(element.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');return!0}throw new Error("Target should be input or textarea")}copyFromInputElement(targetElm,isFocus=!0){try{this.selectTarget(targetElm);const re=this.copyText();return this.clearSelection(isFocus?targetElm:void 0,this.window),re&&this.isCopySuccessInIE11()}catch(error){return!1}}isCopySuccessInIE11(){const clipboardData=this.window.clipboardData;return!(clipboardData&&clipboardData.getData&&!clipboardData.getData("Text"))}copyFromContent(content,container=this.document.body){if(this.tempTextArea&&!container.contains(this.tempTextArea)&&this.destroy(this.tempTextArea.parentElement||void 0),!this.tempTextArea){this.tempTextArea=this.createTempTextArea(this.document,this.window);try{container.appendChild(this.tempTextArea)}catch(error){throw new Error("Container should be a Dom element")}}this.tempTextArea.value=content;const toReturn=this.copyFromInputElement(this.tempTextArea,!1);return this.config.cleanUpAfterCopy&&this.destroy(this.tempTextArea.parentElement||void 0),toReturn}destroy(container=this.document.body){this.tempTextArea&&(container.removeChild(this.tempTextArea),this.tempTextArea=void 0)}selectTarget(inputElement){return inputElement.select(),inputElement.setSelectionRange(0,inputElement.value.length),inputElement.value.length}copyText(){return this.document.execCommand("copy")}clearSelection(inputElement,window){var _a;inputElement&&inputElement.focus(),null===(_a=window.getSelection())||void 0===_a||_a.removeAllRanges()}createTempTextArea(doc,window){const isRTL="rtl"===doc.documentElement.getAttribute("dir");let ta;ta=doc.createElement("textarea"),ta.style.fontSize="12pt",ta.style.border="0",ta.style.padding="0",ta.style.margin="0",ta.style.position="absolute",ta.style[isRTL?"right":"left"]="-9999px";const yPosition=window.pageYOffset||doc.documentElement.scrollTop;return ta.style.top=yPosition+"px",ta.setAttribute("readonly",""),ta}pushCopyResponse(response){this.copySubject.next(response)}pushCopyReponse(response){this.pushCopyResponse(response)}}ClipboardService.\u0275fac=function ClipboardService_Factory(t){return new(t||ClipboardService)(core.LFG(common.K0),core.LFG(WINDOW,8))},ClipboardService.\u0275prov=(0,core.Yz7)({factory:function ClipboardService_Factory(){return new ClipboardService((0,core.LFG)(common.K0),(0,core.LFG)(WINDOW,8))},token:ClipboardService,providedIn:"root"}),ClipboardService.ctorParameters=()=>[{type:void 0,decorators:[{type:core.tBr,args:[common.K0]}]},{type:void 0,decorators:[{type:core.FiY},{type:core.tBr,args:[WINDOW]}]}];class ClipboardDirective{constructor(clipboardSrv){this.clipboardSrv=clipboardSrv,this.cbOnSuccess=new core.vpe,this.cbOnError=new core.vpe}ngOnInit(){}ngOnDestroy(){this.clipboardSrv.destroy(this.container)}onClick(event){this.clipboardSrv.isSupported?this.targetElm&&this.clipboardSrv.isTargetValid(this.targetElm)?this.handleResult(this.clipboardSrv.copyFromInputElement(this.targetElm),this.targetElm.value,event):this.cbContent&&this.handleResult(this.clipboardSrv.copyFromContent(this.cbContent,this.container),this.cbContent,event):this.handleResult(!1,void 0,event)}handleResult(succeeded,copiedContent,event){let response={isSuccess:succeeded,event:event};succeeded?(response=Object.assign(response,{content:copiedContent,successMessage:this.cbSuccessMsg}),this.cbOnSuccess.emit(response)):this.cbOnError.emit(response),this.clipboardSrv.pushCopyResponse(response)}}ClipboardDirective.\u0275fac=function ClipboardDirective_Factory(t){return new(t||ClipboardDirective)(core.Y36(ClipboardService))},ClipboardDirective.\u0275dir=core.lG2({type:ClipboardDirective,selectors:[["","ngxClipboard",""]],hostBindings:function ClipboardDirective_HostBindings(rf,ctx){1&rf&&core.NdJ("click",function ClipboardDirective_click_HostBindingHandler($event){return ctx.onClick($event.target)})},inputs:{targetElm:["ngxClipboard","targetElm"],container:"container",cbContent:"cbContent",cbSuccessMsg:"cbSuccessMsg"},outputs:{cbOnSuccess:"cbOnSuccess",cbOnError:"cbOnError"}}),ClipboardDirective.ctorParameters=()=>[{type:ClipboardService}],ClipboardDirective.propDecorators={targetElm:[{type:core.IIB,args:["ngxClipboard"]}],container:[{type:core.IIB}],cbContent:[{type:core.IIB}],cbSuccessMsg:[{type:core.IIB}],cbOnSuccess:[{type:core.r_U}],cbOnError:[{type:core.r_U}],onClick:[{type:core.L6J,args:["click",["$event.target"]]}]};class ClipboardIfSupportedDirective{constructor(_clipboardService,_viewContainerRef,_templateRef){this._clipboardService=_clipboardService,this._viewContainerRef=_viewContainerRef,this._templateRef=_templateRef}ngOnInit(){this._clipboardService.isSupported&&this._viewContainerRef.createEmbeddedView(this._templateRef)}}ClipboardIfSupportedDirective.\u0275fac=function ClipboardIfSupportedDirective_Factory(t){return new(t||ClipboardIfSupportedDirective)(core.Y36(ClipboardService),core.Y36(core.s_b),core.Y36(core.Rgc))},ClipboardIfSupportedDirective.\u0275dir=core.lG2({type:ClipboardIfSupportedDirective,selectors:[["","ngxClipboardIfSupported",""]]}),ClipboardIfSupportedDirective.ctorParameters=()=>[{type:ClipboardService},{type:core.s_b},{type:core.Rgc}];class ClipboardModule{}function LobbyFriendsComponent_ng_container_39_Template(rf,ctx){if(1&rf){const _r5=core.EpF();core.ynx(0),core.TgZ(1,"li",28),core.TgZ(2,"label",29),core._uU(3),core.qZA(),core.TgZ(4,"label",7),core.TgZ(5,"a",30),core.NdJ("click",function LobbyFriendsComponent_ng_container_39_Template_a_click_5_listener(){core.CHM(_r5);const friend_r3=ctx.$implicit;return core.oxw().sendInvitationToFriend(friend_r3.id,friend_r3.name)}),core._UZ(6,"i",31),core.qZA(),core._uU(7,"\xa0 "),core.TgZ(8,"a",32),core.NdJ("click",function LobbyFriendsComponent_ng_container_39_Template_a_click_8_listener(){core.CHM(_r5);const friend_r3=ctx.$implicit;return core.oxw().deleteFriend(friend_r3.id)}),core._UZ(9,"i",33),core.qZA(),core.qZA(),core._UZ(10,"div",15),core.qZA(),core.BQk()}if(2&rf){const friend_r3=ctx.$implicit;core.xp6(3),core.Oqu(friend_r3.name)}}ClipboardModule.\u0275mod=core.oAB({type:ClipboardModule}),ClipboardModule.\u0275inj=core.cJS({factory:function ClipboardModule_Factory(t){return new(t||ClipboardModule)},imports:[[common.ez]]});class LobbyFriendsComponent{constructor(backService,socialService,socketService,dataFrontService){this.backService=backService,this.socialService=socialService,this.socketService=socketService,this.dataFrontService=dataFrontService,this.user=backService.user,this.roomName=this.socketService.roomName,this.socialService.onInvitationReceived().subscribe(updatedInvitation=>{this.backService.invitationReceived=updatedInvitation,this.backService.invitationReceivedSubject.next(updatedInvitation)}),this.friendListSubscription=this.backService.friendListSubject.subscribe(content=>{this.friendList=content}),this.socialService.onFriendListReceived().subscribe(content=>{this.friendList.push(content)}),this.socialService.wannaGetfriendList(),this.socialService.onStatus()}ngOnInit(){}changeName(pNewName){}joinRoom(roomName){24==roomName.length&&this.socketService.joinRoom(roomName)}deleteFriend(pIdUserFriend){let deletedFriend=this.friendList.find(request=>request.id==pIdUserFriend);if(null!=deletedFriend){let indexDeclinedRequest=this.friendList.indexOf(deletedFriend);this.friendList.splice(indexDeclinedRequest,1),this.socialService.removeFriend(pIdUserFriend)}}sendInvitationByEmail(pEmail){null!=pEmail&&""!=pEmail&&/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/.test(pEmail)?this.socialService.sendInvitation({email:pEmail},this.roomName):this.dataFrontService.showToast({type:"error",title:"Error",subhead:"Introduce un email v\xe1lido",options:{}})}sendInvitationToFriend(pIdUserFriend,pFriendName){this.socialService.sendInvitation({id:pIdUserFriend},this.roomName,pFriendName)}}function LobbyComponent_div_13_ng_container_2_Template(rf,ctx){1&rf&&(core.ynx(0),core._UZ(1,"i",24),core.BQk())}function LobbyComponent_div_13_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",22),core._uU(1),core.YNc(2,LobbyComponent_div_13_ng_container_2_Template,2,0,"ng-container",23),core.qZA()),2&rf){const spectator_r2=ctx.$implicit,ctx_r0=core.oxw();core.xp6(1),core.hij("",spectator_r2.name," "),core.xp6(1),core.Q6J("ngIf",spectator_r2.id==ctx_r0.roomData.owner)}}function LobbyComponent_div_32_div_4_ng_container_2_Template(rf,ctx){1&rf&&(core.ynx(0),core._UZ(1,"i",24),core.BQk())}function LobbyComponent_div_32_div_4_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",22),core._uU(1),core.YNc(2,LobbyComponent_div_32_div_4_ng_container_2_Template,2,0,"ng-container",23),core.qZA()),2&rf){const member_r7=ctx.$implicit,ctx_r6=core.oxw(2);core.xp6(1),core.hij("",member_r7.name," "),core.xp6(1),core.Q6J("ngIf",member_r7.id==ctx_r6.roomData.owner)}}function LobbyComponent_div_32_Template(rf,ctx){if(1&rf){const _r10=core.EpF();core.TgZ(0,"div",5),core.TgZ(1,"h6",25),core._uU(2),core.qZA(),core.TgZ(3,"div",26),core.NdJ("cdkDropListDropped",function LobbyComponent_div_32_Template_div_cdkDropListDropped_3_listener($event){core.CHM(_r10);return core.oxw().drop($event)}),core.YNc(4,LobbyComponent_div_32_div_4_Template,3,2,"div",9),core.qZA(),core.qZA()}if(2&rf){const team_r4=ctx.$implicit,i_r5=ctx.index,ctx_r1=core.oxw();core.xp6(2),core.hij("Equipo ",i_r5+1,""),core.xp6(1),core.s9C("id",i_r5+1),core.Q6J("cdkDropListDisabled",!ctx_r1.isOwner)("cdkDropListData",team_r4),core.xp6(1),core.Q6J("ngForOf",team_r4)}}LobbyFriendsComponent.\u0275fac=function LobbyFriendsComponent_Factory(t){return new(t||LobbyFriendsComponent)(core.Y36(data_back_service.h),core.Y36(social_service.V),core.Y36(sockets_service.W),core.Y36(data_front_service.R))},LobbyFriendsComponent.\u0275cmp=core.Xpm({type:LobbyFriendsComponent,selectors:[["app-lobby-friends"]],decls:40,vars:3,consts:[[1,"container","dd-mgt-2","notSelectDefault"],[1,"jumbotron","list-content"],[1,"list-group"],[1,"list-group-item","notSelectDefault"],[1,"d-flex","justify-content-center"],[1,"list-group-item",2,"padding","0 1rem"],[1,"dd-nick-list-friends",2,"margin-top","0.9rem","margin-bottom","0"],[1,"float-end"],["role","button","data-bs-toggle","dropdown",1,"btn","btn-warning","dropdown-toggle",2,"margin-top","0.9rem"],["aria-labelledby","dropdownMenuLink",1,"dropdown-menu","ul-change"],["for","nameUser",1,"d-flex","justify-content-center"],["type","text","name","nameUser",3,"value"],["newName",""],[1,"d-flex","justify-content-center","dd-mgt-3"],[1,"btn","btn-warning",3,"click"],[1,"break"],[1,"jumbotron","dd-mgt-3"],[1,"list-group",2,"border-radius","0.25rem 0.25rem 0 0"],[1,"list-group-item","title"],[1,"input-group","mb-3"],["id","search-input form1","type","search","placeholder","Invitaci\xf3n por correo electr\xf3nico",1,"form-control",3,"keyup.enter"],["emailFriend",""],["type","button","id","button-addon2",1,"btn","btn-outline-primary",3,"click"],[1,"list-group","notSelectDefault"],["href","#",1,"list-group-item","title",2,"border-top-left-radius","0","border-top-right-radius","0"],[1,"scroll-show-lobby","dd-union-card-bottom"],[1,"overflow-auto"],[4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"name"],["title","Invitar a amigo",1,"btn","btn-success","btn-xs","glyphicon","glyphicon-ok",3,"click"],[1,"bi","bi-plus-circle"],["title","Eliminar amigo",1,"btn","btn-danger","btn-xs","glyphicon","glyphicon-trash",3,"click"],[1,"bi","bi-trash"]],template:function LobbyFriendsComponent_Template(rf,ctx){if(1&rf){const _r7=core.EpF();core.TgZ(0,"div",0),core.TgZ(1,"div",1),core.TgZ(2,"ul",2),core.TgZ(3,"li",3),core.TgZ(4,"h5",4),core._uU(5,"T\xda PERFIL"),core.qZA(),core.qZA(),core.TgZ(6,"li",5),core.TgZ(7,"label",6),core._uU(8),core.qZA(),core.TgZ(9,"label",7),core.TgZ(10,"button",8),core._uU(11," Cambio de nick "),core.qZA(),core.TgZ(12,"ul",9),core.TgZ(13,"li"),core.TgZ(14,"label",10),core._uU(15,"Nombre Actual"),core.qZA(),core._UZ(16,"br"),core._UZ(17,"input",11,12),core.qZA(),core.TgZ(19,"li",13),core.TgZ(20,"button",14),core.NdJ("click",function LobbyFriendsComponent_Template_button_click_20_listener(){core.CHM(_r7);const _r0=core.MAs(18);return ctx.changeName(_r0.value)}),core._uU(21,"Cambiar"),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core._UZ(22,"div",15),core.qZA(),core.qZA(),core.qZA(),core.TgZ(23,"div",16),core.TgZ(24,"ul",17),core.TgZ(25,"li",18),core.TgZ(26,"h5",4),core._uU(27,"INVITAR A PARTIDA"),core.qZA(),core.TgZ(28,"div",19),core.TgZ(29,"input",20,21),core.NdJ("keyup.enter",function LobbyFriendsComponent_Template_input_keyup_enter_29_listener(){core.CHM(_r7);const _r1=core.MAs(30);return ctx.sendInvitationByEmail(_r1.value)}),core.qZA(),core.TgZ(31,"button",22),core.NdJ("click",function LobbyFriendsComponent_Template_button_click_31_listener(){core.CHM(_r7);const _r1=core.MAs(30);return ctx.sendInvitationByEmail(_r1.value)}),core._uU(32,"Enviar"),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.TgZ(33,"div",1),core.TgZ(34,"ul",23),core.TgZ(35,"li",24),core._uU(36," Lista de amigos "),core.qZA(),core.TgZ(37,"div",25),core.TgZ(38,"div",26),core.YNc(39,LobbyFriendsComponent_ng_container_39_Template,11,1,"ng-container",27),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA()}2&rf&&(core.xp6(8),core.Oqu(ctx.user.name),core.xp6(9),core.s9C("value",ctx.user.name),core.xp6(22),core.Q6J("ngForOf",ctx.friendList))},directives:[common.sg],encapsulation:2});class LobbyComponent{constructor(backService,socketService,router,clipBoard,frontService){this.backService=backService,this.socketService=socketService,this.router=router,this.clipBoard=clipBoard,this.frontService=frontService,this.isOwner=!1,this.roomData=!1,this.teams=[[{name:"Pherb",email:"phineasyferd@gmail.com",id:"69A"},{name:"Pinchos",email:"banderasbarden@gmail.com",id:"72B"}],[{name:"acho(T\xfa)",email:"userEmail@gmail.com",id:"userId"},{name:"Banderas",email:"banderasbarden@gmail.com",id:"72B"}],[{name:"Ferd",email:"ferdyphineas@gmail.com",id:"63H"},{name:"Barden",email:"bardenbanderas@gmail.com",id:"84X"}],[{name:"uaseou",email:"aseua@gmail.com",id:"65H"},{name:"Acho",email:"eieieie@gmail.com",id:"74X"}],[{name:"uaseou",email:"aseua@gmail.com",id:"83L"},{name:"Acho",email:"eieieie@gmail.com",id:"18G"}],[{name:"Pique",email:"pique@gmail.com",id:"37J"},{name:"Shakira",email:"shakira@gmail.com",id:"92A"}],[{name:"Messi",email:"lionelandresmessi@gmail.com",id:"10M"},{name:"LuisitoComunica",email:"luisitoelpillo@gmail.com",id:"83H"}]],this.user=this.backService.user,this.roomDataSubscription=this.backService.roomSubject.subscribe(room=>{this.roomData=room,this.teams=room.teams,this.isOwner=this.user.id==room.owner})}ngOnInit(){}drop(event){if(event.previousContainer===event.container)(0,drag_drop.bA)(event.container.data,event.previousIndex,event.currentIndex),console.log("if");else{console.log("else"),(0,drag_drop.EA)(event.previousContainer.data,event.container.data,event.previousIndex,event.currentIndex);let movedMember=event.container.data[event.currentIndex];this.socketService.teamSwitched(movedMember.id,+event.previousContainer.id,+event.container.id)}}pruebas(){this.router.navigate(["/main/game"])}startGame(){this.socketService.startGame()}startTimer(){}leaveRoom(){this.socketService.leaveRoom()}ngOnDestroy(){console.log(this.router.routerState.snapshot.url),"/main/game"!=this.router.routerState.snapshot.url&&(this.socketService.leaveRoom(),this.roomDataSubscription.unsubscribe())}copyRoomName(){this.clipBoard.copy(this.socketService.roomName),this.frontService.showToast({type:"success",title:"Copiado",subhead:"C\xf3digo de la sala copiado al portapapeles.",options:{}})}}function MainComponent_ng_container_45_Template(rf,ctx){if(1&rf){const _r4=core.EpF();core.ynx(0),core.TgZ(1,"li",22),core._uU(2),core.qZA(),core.TgZ(3,"div",23),core.TgZ(4,"button",24),core.NdJ("click",function MainComponent_ng_container_45_Template_button_click_4_listener(){core.CHM(_r4);const friendRequestItem_r2=ctx.$implicit;return core.oxw().acceptFriendRequest(friendRequestItem_r2.id)}),core._uU(5,"Aceptar"),core.qZA(),core.TgZ(6,"button",25),core.NdJ("click",function MainComponent_ng_container_45_Template_button_click_6_listener(){core.CHM(_r4);const friendRequestItem_r2=ctx.$implicit;return core.oxw().declineFriendRequest(friendRequestItem_r2.id)}),core._uU(7,"Rechazar"),core.qZA(),core.qZA(),core.BQk()}if(2&rf){const friendRequestItem_r2=ctx.$implicit;core.xp6(2),core.hij("",friendRequestItem_r2.name," te ha enviado una solicitud de amistad:")}}function MainComponent_ng_container_46_Template(rf,ctx){if(1&rf){const _r8=core.EpF();core.ynx(0),core.TgZ(1,"li",22),core._uU(2),core.qZA(),core.TgZ(3,"div",23),core.TgZ(4,"button",24),core.NdJ("click",function MainComponent_ng_container_46_Template_button_click_4_listener(){core.CHM(_r8);const invitation_r6=ctx.$implicit;return core.oxw().joinRoom(invitation_r6.id)}),core._uU(5,"Aceptar"),core.qZA(),core.TgZ(6,"button",25),core.NdJ("click",function MainComponent_ng_container_46_Template_button_click_6_listener(){core.CHM(_r8);const invitation_r6=ctx.$implicit;return core.oxw().rechazaInvitation(invitation_r6.id)}),core._uU(7,"Rechazar"),core.qZA(),core.qZA(),core.BQk()}if(2&rf){const invitation_r6=ctx.$implicit;core.xp6(2),core.hij("",invitation_r6.name," te ha invitado a su partida:")}}LobbyComponent.\u0275fac=function LobbyComponent_Factory(t){return new(t||LobbyComponent)(core.Y36(data_back_service.h),core.Y36(sockets_service.W),core.Y36(router.F0),core.Y36(ClipboardService),core.Y36(data_front_service.R))},LobbyComponent.\u0275cmp=core.Xpm({type:LobbyComponent,selectors:[["app-lobby"]],decls:33,vars:6,consts:[["cdkDropListGroup","",1,"notSelectDefault",3,"className"],[1,"col-12","col-sm-12","col-md-4"],[1,"container","dd-mgt-2"],[1,"list-group"],["href","#",1,"list-group-item","notSelectDefault"],[1,"example-container"],[1,"d-flex","justify-content-center"],[1,"scroll-show-spectators"],["cdkDropList","","id","0",1,"example-list",3,"cdkDropListDisabled","cdkDropListData","cdkDropListDropped"],["class","example-box","cdkDrag","",4,"ngFor","ngForOf"],[1,"col-12","col-sm-12","col-md-8"],[1,"container","dd-mgt-1","dd-mgb-2"],[1,"row"],[1,"col-1"],[1,"col-10"],["title","\xa1Tambien puedes copiar el c\xf3digo de la sala!",1,"btn","btn-primary",2,"border","2px solid black","padding","0 6px 0 6px","margin-left","2%",3,"click"],[1,"bi","bi-journals"],[2,"border-top","1px solid rgba(0,0,0,.125)","padding","0.5rem"],[1,"btn","btn-success","float-start",3,"click"],[1,"btn","btn-danger","float-end",3,"click"],["href","#",1,"list-group-item"],["class","example-container",4,"ngFor","ngForOf"],["cdkDrag","",1,"example-box"],[4,"ngIf"],["title","Este usuario es el propietario de la sala",1,"bi","bi-controller"],[1,"notSelectDefault"],["cdkDropList","",1,"example-list",3,"id","cdkDropListDisabled","cdkDropListData","cdkDropListDropped"]],template:function LobbyComponent_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.TgZ(1,"div",1),core._UZ(2,"app-lobby-friends"),core.TgZ(3,"div",2),core.TgZ(4,"ul",3),core.TgZ(5,"li",4),core.TgZ(6,"div",5),core.TgZ(7,"h5",6),core._uU(8,"PARTIDA"),core.qZA(),core.TgZ(9,"h6"),core._uU(10,"En espera / Espectadores"),core.qZA(),core.TgZ(11,"div",7),core.TgZ(12,"div",8),core.NdJ("cdkDropListDropped",function LobbyComponent_Template_div_cdkDropListDropped_12_listener($event){return ctx.drop($event)}),core.YNc(13,LobbyComponent_div_13_Template,3,2,"div",9),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.TgZ(14,"div",10),core.TgZ(15,"div",11),core.TgZ(16,"ul",3),core.TgZ(17,"li",4),core.TgZ(18,"div",12),core._UZ(19,"div",13),core.TgZ(20,"div",14),core.TgZ(21,"h5",6),core._uU(22,"PARTIDA "),core.TgZ(23,"button",15),core.NdJ("click",function LobbyComponent_Template_button_click_23_listener(){return ctx.copyRoomName()}),core._UZ(24,"i",16),core.qZA(),core.qZA(),core.qZA(),core._UZ(25,"div",13),core.qZA(),core.TgZ(26,"div",17),core.TgZ(27,"button",18),core.NdJ("click",function LobbyComponent_Template_button_click_27_listener(){return ctx.startGame()}),core._uU(28,"Comenzar partida"),core.qZA(),core.TgZ(29,"button",19),core.NdJ("click",function LobbyComponent_Template_button_click_29_listener(){return ctx.leaveRoom()}),core._uU(30,"Abandonar partida"),core.qZA(),core.qZA(),core.qZA(),core.TgZ(31,"li",20),core.YNc(32,LobbyComponent_div_32_Template,5,5,"div",21),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA()),2&rf&&(core.Q6J("className",ctx.roomData.owner==ctx.user.id?"activer row":"inactiver row"),core.xp6(12),core.Q6J("cdkDropListDisabled",!ctx.isOwner)("cdkDropListData",ctx.teams[0]),core.xp6(1),core.Q6J("ngForOf",ctx.teams[0]),core.xp6(14),core.uIk("disabled",!ctx.isOwner||null),core.xp6(5),core.Q6J("ngForOf",ctx.teams.slice(1)))},directives:[drag_drop.Fd,LobbyFriendsComponent,drag_drop.Wj,common.sg,drag_drop.Zt,common.O5],encapsulation:2});const main_component_c0=function(){return["/main/config/email"]},main_component_c1=function(){return["/main/config/password"]},main_component_c2=function(){return["/terms"]},main_component_c3=function(){return["/home"]};class MainComponent{constructor(authService,backService,socialService,socketService,el,frontService){this.authService=authService,this.backService=backService,this.socialService=socialService,this.socketService=socketService,this.el=el,this.frontService=frontService,this.inRoom=!1,this.friendRequests=[],this.invitationList=[],this.total=0,this.user=backService.user,this.friendRequests=this.backService.friendRequests,this.invitationList=this.backService.invitationReceived,this.socialService.onFriendRequests().subscribe(content=>{this.backService.friendRequests=content,this.backService.friendRequestSubject.next(this.backService.friendRequests),this.total=this.friendRequests.length+this.invitationList.length}),this.friendRequestsSubscription=this.backService.friendRequestSubject.subscribe(content=>{this.friendRequests=content,this.total=this.friendRequests.length+this.invitationList.length}),this.friendRequestReceivedSubscription=this.socialService.onFriendRequestReceived().subscribe(content=>{this.friendRequests.push(content),this.total=this.friendRequests.length+this.invitationList.length,this.frontService.playSound("notification")}),this.socialService.wannaGetFriendRequest(),this.invitationListSubscription=this.backService.invitationReceivedSubject.subscribe(content=>{this.invitationList.push(content),this.total=this.friendRequests.length+this.invitationList.length}),this.invitationReceivedSubscription=this.socialService.onInvitationReceived().subscribe(content=>{this.invitationList.push(content),this.total=this.invitationList.length+this.friendRequests.length,this.frontService.playSound("notification")})}ngOnDestroy(){this.friendRequestsSubscription.unsubscribe(),this.invitationListSubscription.unsubscribe(),this.friendRequestReceivedSubscription.unsubscribe()}ngOnInit(){}acceptFriendRequest(pIdUser){let acceptFriendRequest=this.friendRequests.find(request=>request.id==pIdUser);if(null!=acceptFriendRequest){let indexDeclinedRequest=this.friendRequests.indexOf(acceptFriendRequest);this.backService.friendRequests.splice(indexDeclinedRequest,1),this.backService.friendRequestSubject.next(this.backService.friendRequests),this.socialService.wannaAcceptFriendRequest(pIdUser),this.total=this.invitationList.length+this.friendRequests.length}}declineFriendRequest(pIdUserFriend){let declinedRequest=this.friendRequests.find(request=>request.id==pIdUserFriend);if(null!=declinedRequest){let indexDeclinedRequest=this.friendRequests.indexOf(declinedRequest);this.backService.friendRequests.splice(indexDeclinedRequest,1),this.backService.friendRequestSubject.next(this.backService.friendRequests),this.socialService.wannaDeclineFriendRequest(pIdUserFriend),this.total=this.invitationList.length+this.friendRequests.length}}joinRoom(roomName){if(24==roomName.length&&this.socketService.joinRoom(roomName),null!=roomName){let indexDeclinedRequest=this.invitationList.indexOf(roomName);this.invitationList.splice(indexDeclinedRequest,1),this.total=this.invitationList.length+this.friendRequests.length}}rechazaInvitation(roomName){if(null!=roomName){let indexDeclinedRequest=this.invitationList.indexOf(roomName);this.invitationList.splice(indexDeclinedRequest,1),this.total=this.invitationList.length+this.friendRequests.length}}toggleSound(){this.backService.sound=!this.backService.sound,this.frontService.setSounds(this.backService.sound)}toggleMusic(){this.backService.music=!this.backService.music,this.frontService.setMusic(this.backService.music)}logout(){this.authService.userLogout()}}MainComponent.\u0275fac=function MainComponent_Factory(t){return new(t||MainComponent)(core.Y36(auth_service.e),core.Y36(data_back_service.h),core.Y36(social_service.V),core.Y36(sockets_service.W),core.Y36(core.SBq),core.Y36(data_front_service.R))},MainComponent.\u0275cmp=core.Xpm({type:MainComponent,selectors:[["app-main"]],decls:48,vars:13,consts:[[1,"row","notSelectDefault"],[1,"col-2"],[1,"dropdown"],["role","button","id","dropdownMenuLink","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-dark","dropdown-toggle","float-start","settings"],[1,"bi","bi-gear-fill"],["aria-labelledby","dropdownMenuLink",1,"dropdown-menu"],[1,"text-center","text-decoration-underline"],[1,"dropdown-item","name",3,"routerLink"],[1,"dropdown-item","notSelect","name",3,"click"],[1,"row"],[1,"col-6","text-center"],["title","M\xfasica de fondo",1,"btn","btn-config",3,"click"],["alt","Nota Musical"],["title","Efectos de sonido",1,"btn","btn-config",3,"click"],["alt","Altavoz"],[1,"col-8","d-flex","justify-content-center"],[1,"text-decoration-none",3,"routerLink"],[1,"dibudaw","dd-mgt-4"],[1,"bi","bi-pencil","white",2,"font-size","20px"],["role","button","id","dropdownMenuLink","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-warning","dropdown-toggle","float-end","notifications"],[1,"bi","bi-bell-fill","dd-badge",2,"font-size","1rem",3,"id"],[4,"ngFor","ngForOf"],[1,"dropdown-item","notSelectDefault","dd-blue-msg"],[1,"text-center"],[1,"btn","btn-outline-success","btn-sm","dd-mgb-4",3,"click"],[1,"btn","btn-outline-danger","btn-sm","dd-mgb-4",2,"margin-left","2%",3,"click"]],template:function MainComponent_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.TgZ(1,"div",1),core.TgZ(2,"div",2),core.TgZ(3,"a",3),core._UZ(4,"i",4),core.qZA(),core.TgZ(5,"ul",5),core.TgZ(6,"li"),core.TgZ(7,"p",6),core._uU(8,"Usuario:"),core.qZA(),core.qZA(),core.TgZ(9,"li"),core.TgZ(10,"a",7),core._uU(11,"Cambiar E-mail"),core.qZA(),core.qZA(),core.TgZ(12,"li"),core.TgZ(13,"a",7),core._uU(14,"Cambiar Contrase\xf1a"),core.qZA(),core.qZA(),core.TgZ(15,"li"),core.TgZ(16,"a",8),core.NdJ("click",function MainComponent_Template_a_click_16_listener(){return ctx.logout()}),core._uU(17,"Cerrar sesi\xf3n"),core.qZA(),core.qZA(),core._UZ(18,"br"),core.TgZ(19,"li"),core.TgZ(20,"p",6),core._uU(21,"Sonido:"),core.qZA(),core.qZA(),core.TgZ(22,"li"),core.TgZ(23,"div",9),core.TgZ(24,"div",10),core.TgZ(25,"button",11),core.NdJ("click",function MainComponent_Template_button_click_25_listener(){return ctx.toggleMusic()}),core._UZ(26,"img",12),core.qZA(),core.qZA(),core.TgZ(27,"div",10),core.TgZ(28,"button",13),core.NdJ("click",function MainComponent_Template_button_click_28_listener(){return ctx.toggleSound()}),core._UZ(29,"img",14),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core._UZ(30,"br"),core.TgZ(31,"li"),core.TgZ(32,"a",7),core._uU(33,"T\xe9rminos y condiciones"),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.TgZ(34,"div",15),core.TgZ(35,"a",16),core.TgZ(36,"h1",17),core._uU(37,"dibudaw\xa0"),core._UZ(38,"i",18),core.qZA(),core.qZA(),core.qZA(),core.TgZ(39,"div",1),core.TgZ(40,"div",2),core.TgZ(41,"a",19),core.TgZ(42,"i",20),core._uU(43,"\x07"),core.qZA(),core.qZA(),core.TgZ(44,"ul",5),core.YNc(45,MainComponent_ng_container_45_Template,8,1,"ng-container",21),core.YNc(46,MainComponent_ng_container_46_Template,8,1,"ng-container",21),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core._UZ(47,"router-outlet")),2&rf&&(core.xp6(10),core.Q6J("routerLink",core.DdM(9,main_component_c0)),core.xp6(3),core.Q6J("routerLink",core.DdM(10,main_component_c1)),core.xp6(13),core.uIk("src",ctx.backService.music?"assets/images/music-note.png":"assets/images/music-note-beamed.png",core.LSH),core.xp6(3),core.uIk("src",ctx.backService.sound?"assets/images/volume-up-fill.png":"assets/images/volume-mute-fill.png",core.LSH),core.xp6(3),core.Q6J("routerLink",core.DdM(11,main_component_c2)),core.xp6(3),core.Q6J("routerLink",core.DdM(12,main_component_c3)),core.xp6(7),core.s9C("id",ctx.total),core.xp6(3),core.Q6J("ngForOf",ctx.friendRequests),core.xp6(1),core.Q6J("ngForOf",ctx.invitationList))},directives:[router.yS,common.sg,router.lC],encapsulation:2});class GameGuard{constructor(socketService){this.socketService=socketService}canActivate(route,state){return console.log("canActivate gameguard"),this.socketService.onGameStatus()}}GameGuard.\u0275fac=function GameGuard_Factory(t){return new(t||GameGuard)(core.LFG(sockets_service.W))},GameGuard.\u0275prov=core.Yz7({token:GameGuard,factory:GameGuard.\u0275fac,providedIn:"root"});class LobbyGuard{constructor(socketService){this.socketService=socketService}canActivate(route,state){return this.socketService.onRoomCreated()}}LobbyGuard.\u0275fac=function LobbyGuard_Factory(t){return new(t||LobbyGuard)(core.LFG(sockets_service.W))},LobbyGuard.\u0275prov=core.Yz7({token:LobbyGuard,factory:LobbyGuard.\u0275fac,providedIn:"root"});const routes=[{path:"",component:MainComponent,children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:HomeComponent},{path:"lobby",component:LobbyComponent,canActivate:[LobbyGuard]}]},{path:"game",component:GameComponent,canActivate:[GameGuard]},{path:"config",component:ConfigComponent},{path:"config/email",component:ChangeEmailComponent},{path:"config/password",component:ChangePasswordComponent},{path:"**",redirectTo:""}];class MainRoutingModule{}MainRoutingModule.\u0275mod=core.oAB({type:MainRoutingModule}),MainRoutingModule.\u0275inj=core.cJS({factory:function MainRoutingModule_Factory(t){return new(t||MainRoutingModule)},imports:[[router.Bz.forChild(routes)],router.Bz]});class MainModule{}MainModule.\u0275mod=core.oAB({type:MainModule}),MainModule.\u0275inj=core.cJS({factory:function MainModule_Factory(t){return new(t||MainModule)},imports:[[common.ez,router.Bz,MainRoutingModule,drag_drop._t,http.JF,fesm2015_forms.u5,fesm2015_forms.UX,ClipboardModule]]})}};