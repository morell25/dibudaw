exports.id=976,exports.ids=[976],exports.modules={16976:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MainModule:()=>MainModule});var common=__webpack_require__(38583),drag_drop=__webpack_require__(83511),http=__webpack_require__(91841),fesm2015_forms=__webpack_require__(90665),router=__webpack_require__(76277),core=__webpack_require__(34693),data_back_service=__webpack_require__(3958),auth_service=__webpack_require__(37556);const _c0=function(){return["/home"]};class ChangeEmailComponent{constructor(backService,authService){this.backService=backService,this.authService=authService,this.user=this.backService.user}ngOnInit(){}changeEmail(pNewEmail){this.authService.changeField("email",pNewEmail)}}ChangeEmailComponent.\u0275fac=function ChangeEmailComponent_Factory(t){return new(t||ChangeEmailComponent)(core.Y36(data_back_service.h),core.Y36(auth_service.e))},ChangeEmailComponent.\u0275cmp=core.Xpm({type:ChangeEmailComponent,selectors:[["app-change-email"]],decls:26,vars:5,consts:[[1,"row"],[1,"col-12"],["role","button",1,"btn","btn-dark","float-end","dd-mgt-0-5","dd-mgr-0-5",3,"routerLink"],[1,"bi","bi-arrow-return-left"],[1,"dd-pdt-200px"],[1,"col-md-4","offset-md-4"],[1,"d-flex","justify-content-center"],[1,"text-decoration-none","dd-mgb-2",3,"routerLink"],[1,"dibudaw"],[1,"bi","bi-pencil",2,"font-size","20px"],[1,"form-body","rounded"],["id","login","role","tabpanel","aria-labelledby","login-tab",1,"tab-pane","fade","show","active"],[1,"innter-form"],["method","post",1,"sa-innate-form"],["for","email",1,"dd-mgr-2"],["type","email","name","email",3,"placeholder"],["email",""],["for","terminos",1,"dd-mgr-2"],["type","checkbox","name","terminos","id","terminos"],["type","submit","value","Enviar",3,"click"],[1,"clearfix"]],template:function ChangeEmailComponent_Template(rf,ctx){if(1&rf){const _r1=core.EpF();core.TgZ(0,"div",0),core.TgZ(1,"div",1),core.TgZ(2,"a",2),core._UZ(3,"i",3),core.qZA(),core.qZA(),core.qZA(),core.TgZ(4,"div",4),core.TgZ(5,"div",0),core.TgZ(6,"div",5),core.TgZ(7,"div",6),core.TgZ(8,"a",7),core.TgZ(9,"h1",8),core._uU(10,"dibudaw.io\xa0"),core._UZ(11,"i",9),core.qZA(),core.qZA(),core.qZA(),core.TgZ(12,"div",10),core.TgZ(13,"div",11),core.TgZ(14,"div",12),core.TgZ(15,"form",13),core.TgZ(16,"label",14),core._uU(17,"Cambiar E-mail"),core.qZA(),core._UZ(18,"input",15,16),core.TgZ(20,"label",17),core._uU(21,"Acepto los terminos y las condiciones de uso"),core.qZA(),core._UZ(22,"input",18),core._UZ(23,"br"),core.TgZ(24,"input",19),core.NdJ("click",function ChangeEmailComponent_Template_input_click_24_listener(){core.CHM(_r1);const _r0=core.MAs(19);return ctx.changeEmail(_r0.value)}),core.qZA(),core.qZA(),core.qZA(),core._UZ(25,"div",20),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA()}2&rf&&(core.xp6(2),core.Q6J("routerLink",core.DdM(3,_c0)),core.xp6(6),core.Q6J("routerLink",core.DdM(4,_c0)),core.xp6(10),core.s9C("placeholder",ctx.user.email))},directives:[router.yS,fesm2015_forms.vK,fesm2015_forms.JL,fesm2015_forms.F],encapsulation:2});var data_front_service=__webpack_require__(96396);const change_password_component_c0=function(){return["/home"]};class ChangePasswordComponent{constructor(backService,authService,DataFrontService){this.backService=backService,this.authService=authService,this.DataFrontService=DataFrontService,this.user=this.backService.user}ngOnInit(){}changePassword(pCurrentPassword,pNewPassword1,pNewPassword2){pNewPassword1==pNewPassword2?this.authService.changeField("password",pNewPassword1,pCurrentPassword):this.DataFrontService.showToast({type:"error",title:"",subhead:"Las contrase\xf1as no coinciden",options:""})}}ChangePasswordComponent.\u0275fac=function ChangePasswordComponent_Factory(t){return new(t||ChangePasswordComponent)(core.Y36(data_back_service.h),core.Y36(auth_service.e),core.Y36(data_front_service.R))},ChangePasswordComponent.\u0275cmp=core.Xpm({type:ChangePasswordComponent,selectors:[["app-change-password"]],decls:34,vars:4,consts:[[1,"row"],[1,"col-12"],["role","button",1,"btn","btn-dark","float-end","dd-mgt-0-5","dd-mgr-0-5",3,"routerLink"],[1,"bi","bi-arrow-return-left"],[1,"container","dd-mgt-7"],[1,"col-md-4","offset-md-4"],[1,"d-flex","justify-content-center"],[1,"text-decoration-none","dd-mgb-2",3,"routerLink"],[1,"dibudaw"],[1,"bi","bi-pencil",2,"font-size","20px"],[1,"form-body","rounded"],["id","login","role","tabpanel","aria-labelledby","login-tab",1,"tab-pane","fade","show","active"],[1,"innter-form"],["method","post",1,"sa-innate-form"],["for","idActualPassword"],["type","password","id","idActualPassword",1,"form-control"],["oldPass",""],["for","idPassword"],["type","password","id","idPassword",1,"form-control"],["newPass1",""],["for","idPassword2"],["type","password","id","idPassword2",1,"form-control"],["newPass2",""],["for","terminos",1,"dd-mgr-2"],["type","checkbox","name","terminos","id","terminos"],["type","submit","value","Enviar",3,"click"],[1,"clearfix"]],template:function ChangePasswordComponent_Template(rf,ctx){if(1&rf){const _r3=core.EpF();core.TgZ(0,"div",0),core.TgZ(1,"div",1),core.TgZ(2,"a",2),core._UZ(3,"i",3),core.qZA(),core.qZA(),core.qZA(),core.TgZ(4,"div",4),core.TgZ(5,"div",0),core.TgZ(6,"div",5),core.TgZ(7,"div",6),core.TgZ(8,"a",7),core.TgZ(9,"h1",8),core._uU(10,"dibudaw.io\xa0"),core._UZ(11,"i",9),core.qZA(),core.qZA(),core.qZA(),core.TgZ(12,"div",10),core.TgZ(13,"div",11),core.TgZ(14,"div",12),core.TgZ(15,"form",13),core.TgZ(16,"label",14),core._uU(17,"Contrase\xf1a actual"),core.qZA(),core._UZ(18,"input",15,16),core._UZ(20,"br"),core.TgZ(21,"label",17),core._uU(22,"Nueva contrase\xf1a"),core.qZA(),core._UZ(23,"input",18,19),core.TgZ(25,"label",20),core._uU(26,"Confirmar nueva contrase\xf1a"),core.qZA(),core._UZ(27,"input",21,22),core.TgZ(29,"label",23),core._uU(30,"Acepto los terminos y las condiciones de uso"),core.qZA(),core._UZ(31,"input",24),core.TgZ(32,"input",25),core.NdJ("click",function ChangePasswordComponent_Template_input_click_32_listener(){core.CHM(_r3);const _r0=core.MAs(19),_r1=core.MAs(24),_r2=core.MAs(28);return ctx.changePassword(_r0.value,_r1.value,_r2.value)}),core.qZA(),core.qZA(),core.qZA(),core._UZ(33,"div",26),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA()}2&rf&&(core.xp6(2),core.Q6J("routerLink",core.DdM(2,change_password_component_c0)),core.xp6(6),core.Q6J("routerLink",core.DdM(3,change_password_component_c0)))},directives:[router.yS,fesm2015_forms.vK,fesm2015_forms.JL,fesm2015_forms.F],encapsulation:2});const config_component_c0=function(){return["/config/email"]},_c1=function(){return["/config/password"]};class ConfigComponent{constructor(){}ngOnInit(){}}ConfigComponent.\u0275fac=function ConfigComponent_Factory(t){return new(t||ConfigComponent)},ConfigComponent.\u0275cmp=core.Xpm({type:ConfigComponent,selectors:[["app-config"]],decls:4,vars:4,consts:[[3,"routerLink"]],template:function ConfigComponent_Template(rf,ctx){1&rf&&(core.TgZ(0,"a",0),core._uU(1,"email"),core.qZA(),core.TgZ(2,"a",0),core._uU(3,"password"),core.qZA()),2&rf&&(core.Q6J("routerLink",core.DdM(2,config_component_c0)),core.xp6(2),core.Q6J("routerLink",core.DdM(3,_c1)))},directives:[router.yS],encapsulation:2});var sockets_service=__webpack_require__(28832);const sidebar_component_c0=["count"],sidebar_component_c1=["clock"],_c2=["baseTimerLabel"],_c3=["baseTimerPathRemaining"];function SidebarComponent_li_30_ng_container_3_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.TgZ(1,"span"),core._uU(2),core.qZA(),core._UZ(3,"br"),core.BQk()),2&rf){const member_r13=ctx.$implicit,ctx_r8=core.oxw(2);core.xp6(1),core.Akn(member_r13.id==ctx_r8.backService.game.dynamicData.currentlyDrawingUser?"background-color: pink;":""),core.xp6(1),core.Oqu(member_r13.name)}}function SidebarComponent_li_30_ng_container_5_Template(rf,ctx){if(1&rf&&(core.ynx(0),core._UZ(1,"img",30),core._UZ(2,"br"),core.TgZ(3,"span",31),core._uU(4),core.qZA(),core.BQk()),2&rf){const team_r6=core.oxw().$implicit;core.xp6(4),core.Oqu(team_r6.score)}}function SidebarComponent_li_30_ng_container_6_Template(rf,ctx){if(1&rf&&(core.ynx(0),core._UZ(1,"img",32),core._UZ(2,"br"),core.TgZ(3,"span",31),core._uU(4),core.qZA(),core.BQk()),2&rf){const team_r6=core.oxw().$implicit;core.xp6(4),core.Oqu(team_r6.score)}}function SidebarComponent_li_30_ng_container_7_Template(rf,ctx){if(1&rf&&(core.ynx(0),core._UZ(1,"img",33),core._UZ(2,"br"),core.TgZ(3,"span",31),core._uU(4),core.qZA(),core.BQk()),2&rf){const team_r6=core.oxw().$implicit;core.xp6(4),core.Oqu(team_r6.score)}}function SidebarComponent_li_30_ng_container_8_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.TgZ(1,"div",34),core._uU(2),core.qZA(),core.BQk()),2&rf){const team_r6=core.oxw().$implicit;core.xp6(2),core.Oqu(team_r6.score)}}function SidebarComponent_li_30_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"li",27),core.TgZ(1,"div",6),core.TgZ(2,"div",21),core.YNc(3,SidebarComponent_li_30_ng_container_3_Template,4,4,"ng-container",28),core.qZA(),core.TgZ(4,"div",22),core.YNc(5,SidebarComponent_li_30_ng_container_5_Template,5,1,"ng-container",29),core.YNc(6,SidebarComponent_li_30_ng_container_6_Template,5,1,"ng-container",29),core.YNc(7,SidebarComponent_li_30_ng_container_7_Template,5,1,"ng-container",29),core.YNc(8,SidebarComponent_li_30_ng_container_8_Template,3,1,"ng-container",29),core.qZA(),core.qZA(),core.qZA()),2&rf){const team_r6=ctx.$implicit,i_r7=ctx.index,ctx_r3=core.oxw();core.xp6(1),core.Akn(ctx_r3.backService.game.dynamicData.currentlyDrawingTeam==team_r6.number?"background-color: lightblue;":""),core.xp6(2),core.Q6J("ngForOf",team_r6.members),core.xp6(2),core.Q6J("ngIf",0==i_r7),core.xp6(1),core.Q6J("ngIf",1==i_r7),core.xp6(1),core.Q6J("ngIf",2==i_r7),core.xp6(1),core.Q6J("ngIf",i_r7>=3)}}function SidebarComponent_div_31_Template(rf,ctx){if(1&rf){const _r19=core.EpF();core.TgZ(0,"div",35),core.TgZ(1,"button",36),core.NdJ("click",function SidebarComponent_div_31_Template_button_click_1_listener(){core.CHM(_r19);return core.oxw().endGame()}),core._uU(2,"Terminar partida"),core.qZA(),core.qZA()}}function SidebarComponent_div_32_Template(rf,ctx){if(1&rf){const _r21=core.EpF();core.TgZ(0,"div",37),core.TgZ(1,"button",38),core.NdJ("click",function SidebarComponent_div_32_Template_button_click_1_listener(){core.CHM(_r21);return core.oxw().endGame()}),core._uU(2,"Terminar partida"),core.qZA(),core.qZA()}}const _c4=function(){return["/login"]};class SidebarComponent{constructor(data,backService,socketService){this.data=data,this.backService=backService,this.socketService=socketService,this.startingTime=0,this.currentWord="madro\xf1era",this.roomData=this.backService.room,this.user=this.backService.user,this.backService.roomSubscriptions.push(this.backService.roomSubject.subscribe(content=>{this.roomData=content})),this.backService.roomSubscriptions.push(this.backService.userSubject.subscribe(content=>{this.user=content})),this.timeLength=this.formatTime.toString().length}ngOnInit(){this.socketService.roundTimeSubject.subscribe(roundTime=>{this.timeLeft=roundTime.t,roundTime.i?this.data.showSpinner({timeLeft:roundTime.t,options:{fullScreen:!0,type:"square-spin"}}):(roundTime.t!=+this.basetimerlabel.nativeElement.innerHTML-1&&(this.startingTime=roundTime.t),this.basetimerlabel.nativeElement.innerHTML=this.formatTime(roundTime.t),this.setCircleDasharray(roundTime.t),this.setRemainingPathColor(roundTime.t))})}endGame(){this.socketService.endGame()}formatTime(time){let formattedTime=time.toString();for(;formattedTime.length<2;)formattedTime="0"+formattedTime;return formattedTime}setRemainingPathColor(timeLeft){timeLeft>=2*this.startingTime/3?(console.log(2*this.startingTime/3),this.basetimerpathremaining.nativeElement.style.color="rgb(65, 184, 131)"):timeLeft>=1*this.startingTime/3?this.basetimerpathremaining.nativeElement.style.color="orange":this.basetimerpathremaining.nativeElement.style.color="red"}calculateTimeFraction(timeLeft){const rawTimeFraction=timeLeft/this.startingTime;return rawTimeFraction-1/this.startingTime*(1-rawTimeFraction)}setCircleDasharray(timeLeft){const circleDasharray=`${(283*this.calculateTimeFraction(timeLeft)).toFixed(0)} 283`;this.basetimerpathremaining.nativeElement.setAttribute("stroke-dasharray",circleDasharray)}}function WordInfoComponent_ng_container_3_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.TgZ(1,"div",4),core.TgZ(2,"h2",5),core._uU(3),core.qZA(),core.qZA(),core.TgZ(4,"div",2),core.TgZ(5,"div",6),core.TgZ(6,"a",7),core._UZ(7,"img",8),core.qZA(),core.TgZ(8,"a",7),core._UZ(9,"img",9),core.qZA(),core.qZA(),core.qZA(),core.BQk()),2&rf){const ctx_r0=core.oxw();core.xp6(3),core.hij(" ",ctx_r0.backService.game.dynamicData.currentWord," "),core.xp6(3),core.MGl("href","https://dle.rae.es/",ctx_r0.backService.game.dynamicData.currentWord,"",core.LSH),core.xp6(2),core.MGl("href","https://www.google.es/search?q=",ctx_r0.backService.game.dynamicData.currentWord,"&hl=es&tbm=isch",core.LSH)}}function WordInfoComponent_ng_container_4_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.TgZ(1,"div",4),core.TgZ(2,"h2",5),core._uU(3),core.qZA(),core.qZA(),core.TgZ(4,"div",2),core.TgZ(5,"div",6),core.TgZ(6,"a",10),core._UZ(7,"img",11),core.qZA(),core.TgZ(8,"a",10),core._UZ(9,"img",12),core.qZA(),core.qZA(),core.qZA(),core.BQk()),2&rf){const ctx_r1=core.oxw();core.xp6(3),core.hij(" ",ctx_r1.backService.game.dynamicData.wordStatus," ")}}SidebarComponent.\u0275fac=function SidebarComponent_Factory(t){return new(t||SidebarComponent)(core.Y36(data_front_service.R),core.Y36(data_back_service.h),core.Y36(sockets_service.W))},SidebarComponent.\u0275cmp=core.Xpm({type:SidebarComponent,selectors:[["app-sidebar"]],viewQuery:function SidebarComponent_Query(rf,ctx){if(1&rf&&(core.Gf(sidebar_component_c0,1),core.Gf(sidebar_component_c1,1),core.Gf(_c2,1),core.Gf(_c3,1)),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.count=_t.first),core.iGM(_t=core.CRH())&&(ctx.clock=_t.first),core.iGM(_t=core.CRH())&&(ctx.basetimerlabel=_t.first),core.iGM(_t=core.CRH())&&(ctx.basetimerpathremaining=_t.first)}},decls:33,vars:5,consts:[[1,"card",2,"margin","7% 2% 0 5%","border","2px solid black"],[1,"card-body"],[1,"d-flex","justify-content-center"],[1,"dibudawLink",3,"routerLink"],[1,"dibudawFont"],[1,"bi","bi-pencil","pencil"],[1,"row"],["id","clock",1,"col-6"],["clock",""],[1,"base-timer"],["viewBox","0 0 100 100","xmlns","http://www.w3.org/2000/svg",1,"base-timer__svg"],[1,"base-timer__circle"],["cx","50","cy","50","r","45",1,"base-timer__path-elapsed"],["id","base-timer-path-remaining","stroke-dasharray","283","d","\n                      M 50, 50\n                      m -45, 0\n                      a 45,45 0 1,0 90,0\n                      a 45,45 0 1,0 -90,0\n                      ",1,"base-timer__path-remaining"],["baseTimerPathRemaining",""],[0,"xml","space","preserve","x","-69","y","60","id","text841","transform","scale(-1,1)",2,"font-style","normal","font-weight","normal","font-size","32px","line-height","1.25","font-family","sans-serif","fill","#000000","fill-opacity","1","stroke","none","stroke-width","0.956112"],["baseTimerLabel",""],[2,"margin-top","5%"],[1,"jumbotron","list-content"],[1,"list-group"],["href","#",1,"list-group-item-score","title"],[1,"col-9"],[1,"col-3"],[1,"position"],["class","list-group-item",4,"ngFor","ngForOf"],["class","card-footer d-grid gap-1",4,"ngIf"],["class","card-footer d-grid gap-1 cursorNotAllowed",4,"ngIf"],[1,"list-group-item"],[4,"ngFor","ngForOf"],[4,"ngIf"],["src","/assets/images/uno.png","width","100%"],[2,"font-size","1.8vh"],["src","/assets/images/dos.png","width","100%"],["src","/assets/images/tres.png","width","100%"],[1,"col-3","d-flex","justify-content-center",2,"align-items","center"],[1,"card-footer","d-grid","gap-1"],["type","submit",1,"btn","btn-danger",3,"click"],[1,"card-footer","d-grid","gap-1","cursorNotAllowed"],["type","submit","disabled","",1,"btn","btn-danger",3,"click"]],template:function SidebarComponent_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.TgZ(1,"div",1),core.TgZ(2,"div",2),core.TgZ(3,"a",3),core.TgZ(4,"h1",4),core._uU(5,"dibudaw.io\xa0"),core._UZ(6,"i",5),core.qZA(),core.qZA(),core.qZA(),core.TgZ(7,"div",6),core.TgZ(8,"div",2),core.TgZ(9,"div",7,8),core.TgZ(11,"div",2),core.TgZ(12,"div",9),core.O4$(),core.TgZ(13,"svg",10),core.TgZ(14,"g",11),core._UZ(15,"circle",12),core._UZ(16,"path",13,14),core.qZA(),core._UZ(18,"text",15,16),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.kcU(),core.TgZ(20,"div",17),core.TgZ(21,"div",18),core.TgZ(22,"ul",19),core.TgZ(23,"li",20),core.TgZ(24,"div",6),core.TgZ(25,"div",21),core._uU(26,"Jugadores"),core.qZA(),core.TgZ(27,"div",22),core._uU(28,"Pts"),core.qZA(),core.qZA(),core.qZA(),core.TgZ(29,"div",23),core.YNc(30,SidebarComponent_li_30_Template,9,8,"li",24),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.YNc(31,SidebarComponent_div_31_Template,3,0,"div",25),core.YNc(32,SidebarComponent_div_32_Template,3,0,"div",26),core.qZA()),2&rf&&(core.xp6(3),core.Q6J("routerLink",core.DdM(4,_c4)),core.xp6(27),core.Q6J("ngForOf",ctx.backService.scoreboard),core.xp6(1),core.Q6J("ngIf",ctx.user&&ctx.roomData&&ctx.user.id==ctx.roomData.owner),core.xp6(1),core.Q6J("ngIf",!ctx.user||!ctx.roomData||ctx.user.id!=ctx.roomData.owner))},directives:[router.yS,common.sg,common.O5],encapsulation:2});class WordInfoComponent{constructor(data,backService,componentElement){this.data=data,this.backService=backService,this.componentElement=componentElement,this.currentWord="madro\xf1era",this.roomData=this.backService.room,this.user=this.backService.user,this.backService.roomSubscriptions.push(this.backService.roomSubject.subscribe(content=>{this.roomData=content})),this.backService.roomSubscriptions.push(this.backService.userSubject.subscribe(content=>{this.user=content}))}ngOnInit(){}}WordInfoComponent.\u0275fac=function WordInfoComponent_Factory(t){return new(t||WordInfoComponent)(core.Y36(data_front_service.R),core.Y36(data_back_service.h),core.Y36(core.SBq))},WordInfoComponent.\u0275cmp=core.Xpm({type:WordInfoComponent,selectors:[["app-word-info"]],decls:5,vars:2,consts:[[1,"container"],[1,"row"],[1,"col"],[4,"ngIf"],[1,"col","d-flex","justify-content-center"],[2,"color","white","margin-top","3%"],[1,"input-group",2,"margin-top","1.2rem"],["target","_blank","id","helpWord",3,"href"],["src","../../../../assets/images/diccionario3.png","alt","Busqueda de palabra en diccionario.",2,"width","2.2rem"],["src","../../../../assets/images/searchImage2.png","alt","",2,"width","2.2rem"],["href","","id","helpWord",1,"cursorNotAllowed",2,"pointer-events","none"],["src","../../../../assets/images/diccionarioDisabled.png","alt","Busqueda de palabra en diccionario - Deshabilidtado",2,"width","2.2rem"],["src","../../../../assets/images/searchImageDisabled.png","alt","",2,"width","2.2rem"]],template:function WordInfoComponent_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.TgZ(1,"div",1),core._UZ(2,"div",2),core.YNc(3,WordInfoComponent_ng_container_3_Template,10,3,"ng-container",3),core.YNc(4,WordInfoComponent_ng_container_4_Template,10,1,"ng-container",3),core.qZA(),core.qZA()),2&rf&&(core.xp6(3),core.Q6J("ngIf",ctx.backService.game.dynamicData.currentlyDrawingTeam==ctx.backService.team),core.xp6(1),core.Q6J("ngIf",ctx.backService.game.dynamicData.currentlyDrawingTeam!=ctx.backService.team))},directives:[common.O5],encapsulation:2});var fromEvent=__webpack_require__(22759),switchMap=__webpack_require__(43190),takeUntil=__webpack_require__(46782),pairwise=__webpack_require__(59328);const canvas_component_c0=["canvasHTML"];class CanvasComponent{constructor(data,socketsService,backService){this.data=data,this.socketsService=socketsService,this.backService=backService,this.externalDrawSubscription=this.socketsService.onStroke().subscribe(stroke=>{this.externalDraw(stroke)})}setCanvasAccess(currentlyDrawingUser){currentlyDrawingUser==this.backService.user.id?this.eventCapture(this.canvasGood):this.disableEventCapture(this.canvasGood)}ngAfterViewInit(){this.setCanvasAccess(this.backService.game.dynamicData.currentlyDrawingUser),this.gameSubscription=this.backService.gameSubject.subscribe(game=>{console.log("hay que actualizar los permisos del canvas."),this.setCanvasAccess(game.dynamicData.currentlyDrawingUser)})}getScreenSize(event){this.screenHeight=window.innerHeight,this.screenWidth=window.innerWidth,this.width=window.innerWidth/1.8,this.height=window.innerHeight/1.28}ngOnInit(){this.getScreenSize(),this.canvasGood=this.canvas.nativeElement,this.context=this.canvasGood.getContext("2d"),this.context.lineWidth=3,this.context.lineCap="round",this.context.strokeStyle=this.data.color,this.colorSubscription=this.data.colorChange.subscribe(e=>{this.context.strokeStyle=e}),this.context.lineWidth=this.data.brushSize,this.colorSubscription=this.data.brushSizeChange.subscribe(e=>{this.context.lineWidth=e}),this.clearSubscription=this.data.clearChange.subscribe(e=>{this.context.clearRect(0,0,this.width,this.height)})}disableEventCapture(canvasC){var _a;console.log("ejecutamos disableEventCapture()"),null===(_a=this.canvasSubscription)||void 0===_a||_a.unsubscribe(),this.canvasSubscription=void 0}eventCapture(canvasC){if(null==this.canvasSubscription){console.log("ejecutamos eventCapture()");const mousedown$=(0,fromEvent.R)(canvasC,"mousedown");this.canvasSubscription=mousedown$.pipe((0,switchMap.w)(e=>(0,fromEvent.R)(canvasC,"mousemove").pipe((0,takeUntil.R)((0,fromEvent.R)(canvasC,"mouseup")),(0,takeUntil.R)((0,fromEvent.R)(canvasC,"mouseleave")),(0,pairwise.G)()))).subscribe(res=>{function getTransformedPosition(res){let rect=canvasC.getBoundingClientRect(),scaleX=canvasC.width/rect.width,scaleY=canvasC.height/rect.height;return{x:(res.clientX-rect.left)*scaleX,y:(res.clientY-rect.top)*scaleY}}let prevPos=getTransformedPosition(res[0]),currentPos=getTransformedPosition(res[1]);this.draw(prevPos,currentPos),this.socketsService.wannaStroke({pp:prevPos,cp:currentPos,c:String(this.context.strokeStyle),s:this.context.lineWidth})})}}draw(prevPos,currentPos){this.context&&(this.context.beginPath(),prevPos&&(this.context.moveTo(prevPos.x,prevPos.y),this.context.lineTo(currentPos.x,currentPos.y),this.context.stroke()))}externalDraw(stroke){this.context.strokeStyle=stroke.c,this.context.lineWidth=stroke.s,this.draw(stroke.pp,stroke.cp)}ngOnDestroy(){var _a,_b;null===(_a=this.colorSubscription)||void 0===_a||_a.unsubscribe(),null===(_b=this.gameSubscription)||void 0===_b||_b.unsubscribe()}}CanvasComponent.\u0275fac=function CanvasComponent_Factory(t){return new(t||CanvasComponent)(core.Y36(data_front_service.R),core.Y36(sockets_service.W),core.Y36(data_back_service.h))},CanvasComponent.\u0275cmp=core.Xpm({type:CanvasComponent,selectors:[["app-canvas"]],viewQuery:function CanvasComponent_Query(rf,ctx){if(1&rf&&core.Gf(canvas_component_c0,3),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.canvas=_t.first)}},hostBindings:function CanvasComponent_HostBindings(rf,ctx){1&rf&&core.NdJ("resize",function CanvasComponent_resize_HostBindingHandler($event){return ctx.getScreenSize($event)},!1,core.Jf7)},inputs:{width:"width",height:"height"},decls:2,vars:0,consts:[["id","canvas","width","1000","height","1000",1,"cursorCanvas","canvasPaint"],["canvasHTML",""]],template:function CanvasComponent_Template(rf,ctx){1&rf&&core._UZ(0,"canvas",0,1)},encapsulation:2});const tools_component_c0=["colorPicker"],tools_component_c1=["colorPickerBtn"],tools_component_c2=["hexaColor"],tools_component_c3=["divColorPicker"];class ToolsComponent{constructor(data,backService,componentElement){this.data=data,this.backService=backService,this.componentElement=componentElement,this.currentWord="madro\xf1era",this.roomData=this.backService.room,this.user=this.backService.user,this.backService.roomSubscriptions.push(this.backService.roomSubject.subscribe(content=>{this.roomData=content})),this.backService.roomSubscriptions.push(this.backService.userSubject.subscribe(content=>{this.user=content}))}setColorBrush(color){this.data.setColorService(color)}setSize(value){this.data.setSizeService(value)}Clear(){this.data.setClearService()}loadColorPicker(){const nativeCanvas=this.colorPicker.nativeElement,nativeButton=this.colorPickerBtn.nativeElement,context=nativeCanvas.getContext("2d"),nativeHexaColor=this.hexaColor.nativeElement,nativeDivColorPicker=this.divColorPicker.nativeElement,image=new Image;image.onload=function(){context.drawImage(image,0,0,image.width,image.height)},image.src="assets/images/colorwheel5.png",nativeCanvas.addEventListener("mousemove",function(e){let rect=e.target.getBoundingClientRect(),canvasX=e.offsetX||e.pageX-rect.left-window.scrollX,canvasY=e.offsetY||e.pageY-rect.top-window.scrollY,pixel=context.getImageData(canvasX,canvasY,1,1).data,pixelColor="rgb("+pixel[0]+", "+pixel[1]+", "+pixel[2]+")";nativeButton.style.backgroundColor=pixelColor;let dColor=pixel[2]+256*pixel[1]+65536*pixel[0];nativeHexaColor.value="#"+("0000"+dColor.toString(16)).substr(-6)}),nativeCanvas.addEventListener("click",function(e){nativeButton.classList.add("preview"),nativeButton.classList.remove("preview2"),nativeDivColorPicker.style.display="none",console.log()}),nativeButton.addEventListener("click",function(e){"none"===nativeDivColorPicker.style.display?(nativeDivColorPicker.style.display="block",console.log(nativeDivColorPicker.style.display)):nativeDivColorPicker.style.display="none",e.target.classList.toggle("preview"),e.target.classList.toggle("preview2")})}ngAfterViewInit(){this.loadColorPicker()}}ToolsComponent.\u0275fac=function ToolsComponent_Factory(t){return new(t||ToolsComponent)(core.Y36(data_front_service.R),core.Y36(data_back_service.h),core.Y36(core.SBq))},ToolsComponent.\u0275cmp=core.Xpm({type:ToolsComponent,selectors:[["app-tools"]],viewQuery:function ToolsComponent_Query(rf,ctx){if(1&rf&&(core.Gf(tools_component_c0,1),core.Gf(tools_component_c1,1),core.Gf(tools_component_c2,1),core.Gf(tools_component_c3,1)),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.colorPicker=_t.first),core.iGM(_t=core.CRH())&&(ctx.colorPickerBtn=_t.first),core.iGM(_t=core.CRH())&&(ctx.hexaColor=_t.first),core.iGM(_t=core.CRH())&&(ctx.divColorPicker=_t.first)}},decls:26,vars:0,consts:[[1,"input-group"],["type","hidden","id","hexVal"],["hexaColor",""],[1,"dd-mgr-22px"],["colorPickerBtn",""],[1,"btn-group"],["id","colorBlack",3,"click"],["id","colorGrey",3,"click"],["id","colorDarkRed",3,"click"],["id","colorRed",3,"click"],["id","colorOrange",3,"click"],["id","colorYellow",3,"click"],["id","colorGreen",3,"click"],["id","colorBlue",3,"click"],["id","colorDarkBlue",3,"click"],["id","colorViolet",3,"click"],["id","clearAll",3,"click"],[1,"bi","bi-trash-fill"],["id","eraser",1,"eraser",3,"click"],[1,"bi","bi-eraser-fill"],["type","range","min","1","max","60","value","3",1,"dd-mgr-2",3,"change"],["hsize",""],[1,"colorpicker","dd-display-none"],["divColorPicker",""],["id","picker","width","300","height","300",1,"color",3,"click"],["colorPicker",""]],template:function ToolsComponent_Template(rf,ctx){if(1&rf){const _r5=core.EpF();core.TgZ(0,"div",0),core._UZ(1,"input",1,2),core._UZ(3,"div",3,4),core.TgZ(5,"div",5),core.TgZ(6,"button",6),core.NdJ("click",function ToolsComponent_Template_button_click_6_listener(){return ctx.setColorBrush("black")}),core.qZA(),core.TgZ(7,"button",7),core.NdJ("click",function ToolsComponent_Template_button_click_7_listener(){return ctx.setColorBrush("grey")}),core.qZA(),core.TgZ(8,"button",8),core.NdJ("click",function ToolsComponent_Template_button_click_8_listener(){return ctx.setColorBrush("rgb(136, 0, 21)")}),core.qZA(),core.TgZ(9,"button",9),core.NdJ("click",function ToolsComponent_Template_button_click_9_listener(){return ctx.setColorBrush("red")}),core.qZA(),core.TgZ(10,"button",10),core.NdJ("click",function ToolsComponent_Template_button_click_10_listener(){return ctx.setColorBrush("orange")}),core.qZA(),core.TgZ(11,"button",11),core.NdJ("click",function ToolsComponent_Template_button_click_11_listener(){return ctx.setColorBrush("yellow")}),core.qZA(),core.TgZ(12,"button",12),core.NdJ("click",function ToolsComponent_Template_button_click_12_listener(){return ctx.setColorBrush("green")}),core.qZA(),core.TgZ(13,"button",13),core.NdJ("click",function ToolsComponent_Template_button_click_13_listener(){return ctx.setColorBrush("blue")}),core.qZA(),core.TgZ(14,"button",14),core.NdJ("click",function ToolsComponent_Template_button_click_14_listener(){return ctx.setColorBrush("rgb(63, 72, 204)")}),core.qZA(),core.TgZ(15,"button",15),core.NdJ("click",function ToolsComponent_Template_button_click_15_listener(){return ctx.setColorBrush("violet")}),core.qZA(),core.qZA(),core.TgZ(16,"button",16),core.NdJ("click",function ToolsComponent_Template_button_click_16_listener(){return ctx.Clear()}),core._UZ(17,"i",17),core.qZA(),core.TgZ(18,"button",18),core.NdJ("click",function ToolsComponent_Template_button_click_18_listener(){return ctx.setColorBrush("white")}),core._UZ(19,"i",19),core.qZA(),core.TgZ(20,"input",20,21),core.NdJ("change",function ToolsComponent_Template_input_change_20_listener(){core.CHM(_r5);const _r2=core.MAs(21);return ctx.setSize(_r2.value)}),core.qZA(),core.qZA(),core.TgZ(22,"div",22,23),core.TgZ(24,"canvas",24,25),core.NdJ("click",function ToolsComponent_Template_canvas_click_24_listener(){core.CHM(_r5);const _r0=core.MAs(2);return ctx.setColorBrush(_r0.value)}),core.qZA(),core.qZA()}},encapsulation:2});const timer_component_c0=["stopwatch"];class TimerComponent{constructor(){}ngOnInit(){this.setStopwatch()}setStopwatch(){this.stopwatch.nativeElement}}function ChatComponent_p_3_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",9),core.TgZ(1,"span"),core._uU(2),core.qZA(),core._uU(3),core.qZA()),2&rf){const message_r2=ctx.$implicit;core.xp6(1),core.Jzz("color: ",message_r2.color,";"),core.xp6(1),core.hij("",message_r2.sender,":"),core.xp6(1),core.hij(" ",message_r2.content,"")}}TimerComponent.\u0275fac=function TimerComponent_Factory(t){return new(t||TimerComponent)},TimerComponent.\u0275cmp=core.Xpm({type:TimerComponent,selectors:[["app-timer"]],viewQuery:function TimerComponent_Query(rf,ctx){if(1&rf&&core.Gf(timer_component_c0,1),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.stopwatch=_t.first)}},decls:12,vars:0,consts:[[2,"margin-top","5%","margin-right","5%"],[1,"jumbotron","list-content"],[1,"list-group"],[1,"position"],[1,"list-group-item"],[1,"row"],["stopwatch",""],[1,"container-timer"],["id","countdown",1,"countd-own","countdown--wide"],["id","ticker",1,"countdown__fill"],["id","seconds",1,"countdown__digit"]],template:function TimerComponent_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.TgZ(1,"div",1),core.TgZ(2,"ul",2),core.TgZ(3,"div",3),core.TgZ(4,"li",4),core.TgZ(5,"div",5,6),core.TgZ(7,"div",7),core.TgZ(8,"div",8),core._UZ(9,"div",9),core.TgZ(10,"div",10),core._uU(11,"00"),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA())},encapsulation:2});class ChatComponent{constructor(socketService,backService){this.socketService=socketService,this.backService=backService,this.chat=[],this.chatColors=[[],["red","orange"],["blue","lightblue"],["purple","pink"],["green","lightgreen"],["black","grey"],["brown","yellow"]],this.socketService.onMessage().subscribe(message=>{this.chat.push(message)}),this.color=this.memberColor(this.backService.user.id)}ngOnInit(){}memberColor(id){for(const[i,team]of this.backService.room.teams.entries())for(const[j,member]of team.entries())if(member.id==id)return this.chatColors[i][j];return"black"}sendMessage(content){console.log(content),this.socketService.wannaChat({sender:this.backService.user.name,color:this.color,content:content})}ngOnDestroy(){}}ChatComponent.\u0275fac=function ChatComponent_Factory(t){return new(t||ChatComponent)(core.Y36(sockets_service.W),core.Y36(data_back_service.h))},ChatComponent.\u0275cmp=core.Xpm({type:ChatComponent,selectors:[["app-chat"]],decls:9,vars:1,consts:[[1,"card","dd-chat"],[1,"card-body"],[1,"overflow-hidden"],["class","small",4,"ngFor","ngForOf"],[1,"card-footer"],[1,"input-group"],["type","text","placeholder","Mensaje / Palabra","aria-label","Mensaje","aria-describedby","basic-addon1",1,"form-control",3,"keyup.enter"],["msg",""],["type","button","value",">",1,"btn","btn-primary",3,"click"],[1,"small"]],template:function ChatComponent_Template(rf,ctx){if(1&rf){const _r3=core.EpF();core.TgZ(0,"div",0),core.TgZ(1,"div",1),core.TgZ(2,"div",2),core.YNc(3,ChatComponent_p_3_Template,4,5,"p",3),core.qZA(),core.qZA(),core.TgZ(4,"div",4),core.TgZ(5,"div",5),core.TgZ(6,"input",6,7),core.NdJ("keyup.enter",function ChatComponent_Template_input_keyup_enter_6_listener(){core.CHM(_r3);const _r1=core.MAs(7);return ctx.sendMessage(_r1.value),_r1.value=""}),core.qZA(),core.TgZ(8,"input",8),core.NdJ("click",function ChatComponent_Template_input_click_8_listener(){core.CHM(_r3);const _r1=core.MAs(7);return ctx.sendMessage(_r1.value),_r1.value=""}),core.qZA(),core.qZA(),core.qZA(),core.qZA()}2&rf&&(core.xp6(3),core.Q6J("ngForOf",ctx.chat))},directives:[common.sg],encapsulation:2});class GameComponent{constructor(componentElement){this.componentElement=componentElement}ngOnInit(){}ngAfterViewInit(){for(let element of this.componentElement.nativeElement.querySelectorAll(".color"))element.addEventListener("click",()=>{this.componentElement.nativeElement.querySelector("#canvas").style.cursor="url(assets/images/pencil.png), auto"});for(let element of this.componentElement.nativeElement.querySelectorAll(".eraser"))element.addEventListener("click",()=>{this.componentElement.nativeElement.querySelector("#canvas").style.cursor="url(assets/images/eraser2.png), auto"})}}GameComponent.\u0275fac=function GameComponent_Factory(t){return new(t||GameComponent)(core.Y36(core.SBq))},GameComponent.\u0275cmp=core.Xpm({type:GameComponent,selectors:[["app-game"]],decls:17,vars:0,consts:[[1,"row"],[1,"col-sm-12","col-md-4","col-lg-4","col-xl-4","col-xxl-2"],[1,"col-sm-12","col-md-5","col-lg-5","col-xl-5","col-xxl-7"],[1,"col-12"],[1,"col-sm-12","col-md-3","col-lg-3","col-xl-3","col-xxl-3"]],template:function GameComponent_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.TgZ(1,"div",1),core._UZ(2,"app-sidebar"),core.qZA(),core.TgZ(3,"div",2),core.TgZ(4,"div",0),core.TgZ(5,"div",3),core._UZ(6,"app-word-info"),core.qZA(),core.TgZ(7,"div",3),core._UZ(8,"app-canvas"),core.qZA(),core.TgZ(9,"div",3),core._UZ(10,"app-tools"),core.qZA(),core.qZA(),core.qZA(),core.TgZ(11,"div",4),core.TgZ(12,"div",0),core.TgZ(13,"div",3),core._UZ(14,"app-timer"),core.qZA(),core.TgZ(15,"div",3),core._UZ(16,"app-chat"),core.qZA(),core.qZA(),core.qZA(),core.qZA())},directives:[SidebarComponent,WordInfoComponent,CanvasComponent,ToolsComponent,TimerComponent,ChatComponent],encapsulation:2});var social_service=__webpack_require__(59363);function HomeFriendsComponent_ng_container_34_Template(rf,ctx){if(1&rf){const _r5=core.EpF();core.ynx(0),core.TgZ(1,"li",30),core.TgZ(2,"label",31),core._uU(3),core.qZA(),core.TgZ(4,"label",32),core.TgZ(5,"a",33),core.NdJ("click",function HomeFriendsComponent_ng_container_34_Template_a_click_5_listener(){core.CHM(_r5);const friend_r3=ctx.$implicit;return core.oxw().JoinFriendGame(friend_r3.id)}),core._UZ(6,"i",34),core.qZA(),core._uU(7,"\xa0 "),core.TgZ(8,"a",35),core.NdJ("click",function HomeFriendsComponent_ng_container_34_Template_a_click_8_listener(){core.CHM(_r5);const friend_r3=ctx.$implicit;return core.oxw().deleteFriend(friend_r3.id)}),core._UZ(9,"i",36),core.qZA(),core.qZA(),core._UZ(10,"div",37),core.qZA(),core.BQk()}if(2&rf){const friend_r3=ctx.$implicit;core.xp6(3),core.Oqu(friend_r3.name)}}class HomeFriendsComponent{constructor(backService,socialService,socketService,frontService,authService){this.backService=backService,this.socialService=socialService,this.socketService=socketService,this.frontService=frontService,this.authService=authService,this.friendList=[],this.user=backService.user,this.socialService.getFriendList().subscribe(updatedFriendList=>{this.backService.friendList=updatedFriendList,this.backService.friendListSubject.next(updatedFriendList)}),this.friendListSubscription=this.backService.friendListSubject.subscribe(content=>{this.friendList=content}),this.socialService.onFriendListReceived().subscribe(content=>{this.friendList.push(content)}),this.socialService.wannaGetfriendList(),this.socialService.onStatus()}ngOnInit(){}deleteFriend(pIdUserFriend){let deletedFriend=this.friendList.find(request=>request.id==pIdUserFriend);if(null!=deletedFriend){let indexDeclinedRequest=this.friendList.indexOf(deletedFriend);this.friendList.splice(indexDeclinedRequest,1),this.socialService.removeFriend(pIdUserFriend)}}changeName(newName){this.authService.changeField("username",newName)}JoinFriendGame(friendId){this.socketService.joinFriendRoom(friendId)}sendFriendRequest(pEmail){null!=pEmail&&""!=pEmail&&/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/.test(pEmail)?this.socialService.sendFriendRequest(pEmail):this.frontService.showToast({type:"error",title:"Error",subhead:"Introduce un email v\xe1lido",options:{}})}}HomeFriendsComponent.\u0275fac=function HomeFriendsComponent_Factory(t){return new(t||HomeFriendsComponent)(core.Y36(data_back_service.h),core.Y36(social_service.V),core.Y36(sockets_service.W),core.Y36(data_front_service.R),core.Y36(auth_service.e))},HomeFriendsComponent.\u0275cmp=core.Xpm({type:HomeFriendsComponent,selectors:[["app-home-friends"]],decls:41,vars:3,consts:[[1,"container","dd-mgt-2"],[1,"list-group-item","jumbotron","rounded"],[1,"dd-nick-list-friends"],[1,"float-end","dd-nick-list-friends"],["role","button","data-bs-toggle","dropdown",1,"btn","btn-warning","dropdown-toggle"],["aria-labelledby","dropdownMenuLink",1,"dropdown-menu","dd-li-change-nick"],["for","nameUser"],["type","text","name","nameUser",3,"value"],["newName",""],[1,"d-flex","justify-content-center","dd-mgt-3"],[1,"btn","btn-warning",3,"click"],[1,"list-content","dd-mgt-3"],[1,"list-group","dd-union-card-top"],["href","#",1,"list-group-item"],["role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["role","tab","id","friend-tab","data-bs-toggle","tab","data-bs-target","#friend","aria-controls","friend",1,"nav-link","active","notSelect"],["role","tab","id","search-tab","data-bs-toggle","tab","data-bs-target","#search","type","button","aria-controls","search",1,"nav-link","notSelect"],[1,"jumbotron","list-content"],[1,"list-group"],[1,"tab-content"],["id","friend","role","tabpanel","aria-labelledby","friend-tab",1,"tab-pane","fade","show","active"],["href","#",1,"list-group-item","title"],[1,"scroll-show-lobby","dd-union-card-bottom"],[1,"overflow-auto"],[4,"ngFor","ngForOf"],["id","search","role","tabpanel","aria-labelledby","search-tab",1,"tab-pane","fade"],[1,"jumbotron"],["id","search-input","type","search","id","form1","placeholder","Introduza aqu\xed el correo de su amigo.",1,"form-control",3,"keyup.enter"],["emailFriend",""],[1,"list-group-item"],[1,"dd-blue"],[1,"float-end"],["title","Unirse a partida",1,"btn","btn-success","dd-mgt-4","btn-xs","glyphicon","glyphicon-trash",3,"click"],[1,"bi","bi-arrow-bar-right"],["title","Eliminar amigo",1,"btn","btn-danger","dd-mgt-4","btn-xs","glyphicon","glyphicon-trash",3,"click"],[1,"bi","bi-trash"],[1,"break"]],template:function HomeFriendsComponent_Template(rf,ctx){if(1&rf){const _r7=core.EpF();core.TgZ(0,"div",0),core.TgZ(1,"div",1),core.TgZ(2,"label",2),core._uU(3),core.qZA(),core.TgZ(4,"label",3),core.TgZ(5,"button",4),core._uU(6," T\xfa perfil "),core.qZA(),core.TgZ(7,"ul",5),core.TgZ(8,"li"),core.TgZ(9,"label",6),core._uU(10,"T\xfa nick:\xa0"),core.qZA(),core._UZ(11,"input",7,8),core.qZA(),core.TgZ(13,"li",9),core.TgZ(14,"button",10),core.NdJ("click",function HomeFriendsComponent_Template_button_click_14_listener(){core.CHM(_r7);const _r0=core.MAs(12);return ctx.changeName(_r0.value)}),core._uU(15,"Cambiar"),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.TgZ(16,"div",11),core.TgZ(17,"ul",12),core.TgZ(18,"li",13),core.TgZ(19,"ul",14),core.TgZ(20,"li",15),core.TgZ(21,"button",16),core._uU(22,"UNIRSE A PARTIDA"),core.qZA(),core.qZA(),core.TgZ(23,"li",15),core.TgZ(24,"button",17),core._uU(25,"AGREGAR AMIGO"),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.TgZ(26,"div",18),core.TgZ(27,"ul",19),core.TgZ(28,"div",20),core.TgZ(29,"div",21),core.TgZ(30,"li",22),core._uU(31," Lista de amigos "),core.qZA(),core.TgZ(32,"div",23),core.TgZ(33,"div",24),core.YNc(34,HomeFriendsComponent_ng_container_34_Template,11,1,"ng-container",25),core.qZA(),core.qZA(),core.qZA(),core.TgZ(35,"div",26),core.TgZ(36,"div",27),core.TgZ(37,"ul",19),core.TgZ(38,"li",22),core.TgZ(39,"input",28,29),core.NdJ("keyup.enter",function HomeFriendsComponent_Template_input_keyup_enter_39_listener(){core.CHM(_r7);const _r2=core.MAs(40);return ctx.sendFriendRequest(_r2.value),_r2.value=""}),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA()}2&rf&&(core.xp6(3),core.hij(" ",ctx.user.name," "),core.xp6(8),core.s9C("value",ctx.user.name),core.xp6(23),core.Q6J("ngForOf",ctx.friendList))},directives:[common.sg],encapsulation:2});class HomeComponent{constructor(socketService){this.socketService=socketService}ngOnInit(){}joinRoom(roomName){24==roomName.length&&this.socketService.joinRoom(roomName)}createRoom(){this.socketService.createRoom()}}function LobbyFriendsComponent_ng_container_34_Template(rf,ctx){if(1&rf){const _r5=core.EpF();core.ynx(0),core.TgZ(1,"li",30),core.TgZ(2,"label",31),core._uU(3),core.qZA(),core.TgZ(4,"label",32),core.TgZ(5,"a",33),core.NdJ("click",function LobbyFriendsComponent_ng_container_34_Template_a_click_5_listener(){core.CHM(_r5);const friend_r3=ctx.$implicit;return core.oxw().sendInvitationToFriend(friend_r3.id,friend_r3.name)}),core._UZ(6,"i",34),core.qZA(),core._uU(7,"\xa0 "),core.TgZ(8,"a",35),core.NdJ("click",function LobbyFriendsComponent_ng_container_34_Template_a_click_8_listener(){core.CHM(_r5);const friend_r3=ctx.$implicit;return core.oxw().deleteFriend(friend_r3.id)}),core._UZ(9,"i",36),core.qZA(),core.qZA(),core._UZ(10,"div",37),core.qZA(),core.BQk()}if(2&rf){const friend_r3=ctx.$implicit;core.xp6(3),core.Oqu(friend_r3.name)}}HomeComponent.\u0275fac=function HomeComponent_Factory(t){return new(t||HomeComponent)(core.Y36(sockets_service.W))},HomeComponent.\u0275cmp=core.Xpm({type:HomeComponent,selectors:[["app-home"]],decls:48,vars:0,consts:[[1,"row"],[1,"col-12","col-sm-12","col-md-4","dd-mgb-2"],[1,"col-12","col-sm-12","col-md-8"],[1,"row","dd-mgt-1"],[1,"col-12","col-sm-12","col-md-4","dd-mgb-1"],[1,"container"],[1,"d-grid"],[1,"btn","btn-primary",3,"click"],[1,"d-flex"],["type","search","placeholder","C\xf3digo de la partida","aria-label","Search",1,"form-control","me-2",3,"key.enter"],["roomName",""],["type","submit",1,"btn","btn-success",3,"click"],[1,"col-12","col-sm-12","col-md-12"],[1,"container","dd-mgt-1"],[1,"card"],[1,"card-header"],[1,"card-body"]],template:function HomeComponent_Template(rf,ctx){if(1&rf){const _r1=core.EpF();core.TgZ(0,"div",0),core.TgZ(1,"div",1),core._UZ(2,"app-home-friends"),core.qZA(),core.TgZ(3,"div",2),core.TgZ(4,"div",3),core.TgZ(5,"div",4),core.TgZ(6,"div",5),core.TgZ(7,"div",6),core.TgZ(8,"button",7),core.NdJ("click",function HomeComponent_Template_button_click_8_listener(){return ctx.createRoom()}),core._uU(9," Crear sala "),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.TgZ(10,"div",2),core.TgZ(11,"div",5),core.TgZ(12,"div",6),core.TgZ(13,"form",8),core.TgZ(14,"input",9,10),core.NdJ("key.enter",function HomeComponent_Template_input_key_enter_14_listener(){core.CHM(_r1);const _r0=core.MAs(15);return ctx.joinRoom(_r0.value)}),core.qZA(),core.TgZ(16,"button",11),core.NdJ("click",function HomeComponent_Template_button_click_16_listener(){core.CHM(_r1);const _r0=core.MAs(15);return ctx.joinRoom(_r0.value)}),core._uU(17,"Unirse"),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.TgZ(18,"div",12),core.TgZ(19,"div",13),core.TgZ(20,"div",14),core.TgZ(21,"h2",15),core._uU(22,"** NOTAS DEL PARCHE v.0.2.5-Alpha **"),core.qZA(),core.TgZ(23,"div",16),core.TgZ(24,"h5"),core._uU(25,"Ya es oficial la fecha de lanzamiento!!"),core.qZA(),core.TgZ(26,"p"),core._uU(27,"Tras una reuni\xf3n realizada el 07/04/2021 en las oficinas de Discord en Espa\xf1a, los encargados en el desarrollo y mantenimiento de dibudaw.io, pusieron fecha fin a la exposici\xf3n de la misma."),core.qZA(),core.TgZ(28,"ul"),core.TgZ(29,"li"),core._uU(30,"Espa\xf1a - 10:00 AM "),core.qZA(),core.TgZ(31,"li"),core._uU(32,"Argentina, Brasil, Chile, Uruguay - 05:00 AM"),core.qZA(),core.TgZ(33,"li"),core._uU(34,"Colombia - 03:00 AM"),core.qZA(),core.TgZ(35,"li"),core._uU(36,"M\xe9xico - 02:00 AM"),core.qZA(),core.qZA(),core.TgZ(37,"h5"),core._uU(38,"Soluci\xf3n de Bugs!"),core.qZA(),core.TgZ(39,"p"),core._uU(40,"Se han resuelto 3 bugs que afectaban al funcionamiento de la p\xe1gina, detectados gracias a vuestra comunicaci\xf3n con el soporte t\xe9cnico dibudaw@gmail.com"),core.qZA(),core.TgZ(41,"ul"),core.TgZ(42,"li"),core._uU(43,"Bot\xf3n de comenzar partida, no resaltaba color al pasar el mouse. "),core.qZA(),core.TgZ(44,"li"),core._uU(45,'Bot\xf3n "T\xfa perfil", no mostraba tu nick.'),core.qZA(),core.TgZ(46,"li"),core._uU(47,"Navegaci\xf3n por movil en el home, no funcionaba el responsive."),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA()}},directives:[HomeFriendsComponent,fesm2015_forms.vK,fesm2015_forms.JL,fesm2015_forms.F],encapsulation:2});class LobbyFriendsComponent{constructor(backService,socialService,socketService,dataFrontService){this.backService=backService,this.socialService=socialService,this.socketService=socketService,this.dataFrontService=dataFrontService,this.user=backService.user,this.roomName=this.socketService.roomName,this.socialService.onInvitationReceived().subscribe(updatedInvitation=>{this.backService.invitationReceived=updatedInvitation,this.backService.invitationReceivedSubject.next(updatedInvitation)}),this.friendListSubscription=this.backService.friendListSubject.subscribe(content=>{this.friendList=content}),this.socialService.onFriendListReceived().subscribe(content=>{this.friendList.push(content)}),this.socialService.wannaGetfriendList(),this.socialService.onStatus()}ngOnInit(){}changeName(pNewName){}joinRoom(roomName){24==roomName.length&&this.socketService.joinRoom(roomName)}deleteFriend(pIdUserFriend){let deletedFriend=this.friendList.find(request=>request.id==pIdUserFriend);if(null!=deletedFriend){let indexDeclinedRequest=this.friendList.indexOf(deletedFriend);this.friendList.splice(indexDeclinedRequest,1),this.socialService.removeFriend(pIdUserFriend)}}sendInvitationByEmail(pEmail){this.socialService.sendInvitation({email:pEmail},this.roomName)}sendInvitationToFriend(pIdUserFriend,pFriendName){this.socialService.sendInvitation({id:pIdUserFriend},this.roomName,pFriendName)}}function LobbyComponent_div_11_ng_container_2_Template(rf,ctx){1&rf&&(core.ynx(0),core._UZ(1,"i",18),core.BQk())}function LobbyComponent_div_11_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",16),core._uU(1),core.YNc(2,LobbyComponent_div_11_ng_container_2_Template,2,0,"ng-container",17),core.qZA()),2&rf){const spectator_r2=ctx.$implicit,ctx_r0=core.oxw();core.xp6(1),core.hij("",spectator_r2.name," "),core.xp6(1),core.Q6J("ngIf",spectator_r2.id==ctx_r0.roomData.owner)}}function LobbyComponent_div_21_div_4_ng_container_2_Template(rf,ctx){1&rf&&(core.ynx(0),core._UZ(1,"i",18),core.BQk())}function LobbyComponent_div_21_div_4_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",16),core._uU(1),core.YNc(2,LobbyComponent_div_21_div_4_ng_container_2_Template,2,0,"ng-container",17),core.qZA()),2&rf){const member_r7=ctx.$implicit,ctx_r6=core.oxw(2);core.xp6(1),core.hij("",member_r7.name," "),core.xp6(1),core.Q6J("ngIf",member_r7.id==ctx_r6.roomData.owner)}}function LobbyComponent_div_21_Template(rf,ctx){if(1&rf){const _r10=core.EpF();core.TgZ(0,"div",5),core.TgZ(1,"h2",19),core._uU(2),core.qZA(),core.TgZ(3,"div",20),core.NdJ("cdkDropListDropped",function LobbyComponent_div_21_Template_div_cdkDropListDropped_3_listener($event){core.CHM(_r10);return core.oxw().drop($event)}),core.YNc(4,LobbyComponent_div_21_div_4_Template,3,2,"div",9),core.qZA(),core.qZA()}if(2&rf){const team_r4=ctx.$implicit,i_r5=ctx.index,ctx_r1=core.oxw();core.xp6(2),core.hij("Equipo ",i_r5+1,""),core.xp6(1),core.s9C("id",i_r5+1),core.Q6J("cdkDropListDisabled",!ctx_r1.isOwner)("cdkDropListData",team_r4),core.xp6(1),core.Q6J("ngForOf",team_r4)}}LobbyFriendsComponent.\u0275fac=function LobbyFriendsComponent_Factory(t){return new(t||LobbyFriendsComponent)(core.Y36(data_back_service.h),core.Y36(social_service.V),core.Y36(sockets_service.W),core.Y36(data_front_service.R))},LobbyFriendsComponent.\u0275cmp=core.Xpm({type:LobbyFriendsComponent,selectors:[["app-lobby-friends"]],decls:41,vars:3,consts:[[1,"container","dd-mgt-2"],["href","#",1,"list-group-item","jumbotron","rounded"],[1,"dd-nick-list-friends"],[1,"float-end","dd-nick-list-friends"],["role","button","data-bs-toggle","dropdown",1,"btn","btn-warning","dropdown-toggle"],["aria-labelledby","dropdownMenuLink",1,"dropdown-menu","li-style"],["for","nameUser"],["type","text","name","nameUser",3,"value"],["newName",""],[1,"d-flex","justify-content-center","dd-mgt-3"],[1,"btn","btn-warning",3,"click"],[1,"list-content","dd-mgt-3"],[1,"list-group","dd-union-card-top"],["href","#",1,"list-group-item"],["role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["role","tab","id","friend-tab","data-bs-toggle","tab","data-bs-target","#friend","aria-controls","friend",1,"nav-link","active","notSelect"],["role","tab","id","search-tab","data-bs-toggle","tab","data-bs-target","#search","type","button","aria-controls","search",1,"nav-link","notSelect"],[1,"jumbotron","list-content"],[1,"list-group"],[1,"tab-content"],["id","friend","role","tabpanel","aria-labelledby","friend-tab",1,"tab-pane","fade","show","active"],["href","#",1,"list-group-item","title"],[1,"scroll-show-lobby","dd-union-card-bottom"],[1,"overflow-auto"],[4,"ngFor","ngForOf"],["id","search","role","tabpanel","aria-labelledby","search-tab",1,"tab-pane","fade"],[1,"jumbotron"],["id","search-input","type","search","id","form1","placeholder","Introduza aqu\xed el correo de su amigo.",1,"form-control",3,"keyup.enter"],["emailFriend",""],[1,"list-group-item"],[1,"name"],[1,"float-end"],["title","Invitar a amigo",1,"btn","btn-success","btn-xs","glyphicon","glyphicon-ok",3,"click"],[1,"bi","bi-plus-circle"],["title","Eliminar amigo",1,"btn","btn-danger","btn-xs","glyphicon","glyphicon-trash",3,"click"],[1,"bi","bi-trash"],[1,"break"]],template:function LobbyFriendsComponent_Template(rf,ctx){if(1&rf){const _r7=core.EpF();core.TgZ(0,"div",0),core.TgZ(1,"div",1),core.TgZ(2,"label",2),core._uU(3),core.qZA(),core.TgZ(4,"label",3),core.TgZ(5,"button",4),core._uU(6," T\xfa perfil "),core.qZA(),core.TgZ(7,"ul",5),core.TgZ(8,"li"),core.TgZ(9,"label",6),core._uU(10,"T\xfa nick:\xa0"),core.qZA(),core._UZ(11,"input",7,8),core.qZA(),core.TgZ(13,"li",9),core.TgZ(14,"button",10),core.NdJ("click",function LobbyFriendsComponent_Template_button_click_14_listener(){core.CHM(_r7);const _r0=core.MAs(12);return ctx.changeName(_r0.value)}),core._uU(15,"Cambiar"),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.TgZ(16,"div",11),core.TgZ(17,"ul",12),core.TgZ(18,"li",13),core.TgZ(19,"ul",14),core.TgZ(20,"li",15),core.TgZ(21,"button",16),core._uU(22,"INVITAR A PARTIDA"),core.qZA(),core.qZA(),core.TgZ(23,"li",15),core.TgZ(24,"button",17),core._uU(25,"AGREGAR AMIGO"),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.TgZ(26,"div",18),core.TgZ(27,"ul",19),core.TgZ(28,"div",20),core.TgZ(29,"div",21),core.TgZ(30,"li",22),core._uU(31," Lista de amigos "),core.qZA(),core.TgZ(32,"div",23),core.TgZ(33,"div",24),core.YNc(34,LobbyFriendsComponent_ng_container_34_Template,11,1,"ng-container",25),core.qZA(),core.qZA(),core.qZA(),core.TgZ(35,"div",26),core.TgZ(36,"div",27),core.TgZ(37,"ul",19),core.TgZ(38,"li",22),core.TgZ(39,"input",28,29),core.NdJ("keyup.enter",function LobbyFriendsComponent_Template_input_keyup_enter_39_listener(){core.CHM(_r7);const _r2=core.MAs(40);return ctx.sendInvitationByEmail(_r2.value)}),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA()}2&rf&&(core.xp6(3),core.hij(" ",ctx.user.name," "),core.xp6(8),core.s9C("value",ctx.user.name),core.xp6(23),core.Q6J("ngForOf",ctx.friendList))},directives:[common.sg],encapsulation:2});class LobbyComponent{constructor(backService,socketService,router){this.backService=backService,this.socketService=socketService,this.router=router,this.isOwner=!1,this.roomData=!1,this.teams=[[{name:"Pherb",email:"phineasyferd@gmail.com",id:"69A"},{name:"Pinchos",email:"banderasbarden@gmail.com",id:"72B"}],[{name:"acho(T\xfa)",email:"userEmail@gmail.com",id:"userId"},{name:"Banderas",email:"banderasbarden@gmail.com",id:"72B"}],[{name:"Ferd",email:"ferdyphineas@gmail.com",id:"63H"},{name:"Barden",email:"bardenbanderas@gmail.com",id:"84X"}],[{name:"uaseou",email:"aseua@gmail.com",id:"65H"},{name:"Acho",email:"eieieie@gmail.com",id:"74X"}],[{name:"uaseou",email:"aseua@gmail.com",id:"83L"},{name:"Acho",email:"eieieie@gmail.com",id:"18G"}],[{name:"Pique",email:"pique@gmail.com",id:"37J"},{name:"Shakira",email:"shakira@gmail.com",id:"92A"}],[{name:"Messi",email:"lionelandresmessi@gmail.com",id:"10M"},{name:"LuisitoComunica",email:"luisitoelpillo@gmail.com",id:"83H"}]],this.user=this.backService.user,this.roomDataSubscription=this.backService.roomSubject.subscribe(room=>{this.roomData=room,this.teams=room.teams,this.isOwner=this.user.id==room.owner})}ngOnInit(){}drop(event){if(event.previousContainer===event.container)(0,drag_drop.bA)(event.container.data,event.previousIndex,event.currentIndex),console.log("if");else{console.log("else"),(0,drag_drop.EA)(event.previousContainer.data,event.container.data,event.previousIndex,event.currentIndex);let movedMember=event.container.data[event.currentIndex];this.socketService.teamSwitched(movedMember.id,+event.previousContainer.id,+event.container.id)}}pruebas(){this.router.navigate(["/main/game"])}startGame(){this.socketService.startGame()}startTimer(){}leaveRoom(){this.socketService.leaveRoom()}ngOnDestroy(){console.log(this.router.routerState.snapshot.url),"/main/game"!=this.router.routerState.snapshot.url&&(this.socketService.leaveRoom(),this.roomDataSubscription.unsubscribe())}}function MainComponent_ng_container_29_Template(rf,ctx){if(1&rf){const _r4=core.EpF();core.ynx(0),core.TgZ(1,"li",16),core._uU(2),core.qZA(),core.TgZ(3,"div",0),core.TgZ(4,"div",17),core.TgZ(5,"button",18),core.NdJ("click",function MainComponent_ng_container_29_Template_button_click_5_listener(){core.CHM(_r4);const friendRequestItem_r2=ctx.$implicit;return core.oxw().acceptFriendRequest(friendRequestItem_r2.id)}),core._uU(6,"Aceptar"),core.qZA(),core.qZA(),core.TgZ(7,"div",17),core.TgZ(8,"button",19),core.NdJ("click",function MainComponent_ng_container_29_Template_button_click_8_listener(){core.CHM(_r4);const friendRequestItem_r2=ctx.$implicit;return core.oxw().declineFriendRequest(friendRequestItem_r2.id)}),core._uU(9,"Rechazar"),core.qZA(),core.qZA(),core.qZA(),core.BQk()}if(2&rf){const friendRequestItem_r2=ctx.$implicit;core.xp6(2),core.hij("",friendRequestItem_r2.name," te ha enviado una solicitud de amistad:")}}function MainComponent_ng_container_30_Template(rf,ctx){if(1&rf){const _r8=core.EpF();core.ynx(0),core.TgZ(1,"li",16),core._uU(2),core.qZA(),core.TgZ(3,"div",0),core.TgZ(4,"div",17),core.TgZ(5,"button",18),core.NdJ("click",function MainComponent_ng_container_30_Template_button_click_5_listener(){core.CHM(_r8);const invitation_r6=ctx.$implicit;return core.oxw().joinRoom(invitation_r6.id)}),core._uU(6,"Aceptar"),core.qZA(),core.qZA(),core.TgZ(7,"div",17),core.TgZ(8,"button",19),core.NdJ("click",function MainComponent_ng_container_30_Template_button_click_8_listener(){core.CHM(_r8);const invitation_r6=ctx.$implicit;return core.oxw().rechazaInvitation(invitation_r6.id)}),core._uU(9,"Rechazar"),core.qZA(),core.qZA(),core.qZA(),core.BQk()}if(2&rf){const invitation_r6=ctx.$implicit;core.xp6(2),core.hij("",invitation_r6.name," te ha invitado a su partida:")}}LobbyComponent.\u0275fac=function LobbyComponent_Factory(t){return new(t||LobbyComponent)(core.Y36(data_back_service.h),core.Y36(sockets_service.W),core.Y36(router.F0))},LobbyComponent.\u0275cmp=core.Xpm({type:LobbyComponent,selectors:[["app-lobby"]],decls:22,vars:5,consts:[["cdkDropListGroup","",3,"className"],[1,"col-12","col-sm-12","col-md-4"],[1,"container","dd-mgt-2"],[1,"list-group"],["href","#",1,"list-group-item"],[1,"example-container"],[1,"dd-font-lobby"],[1,"scroll-show"],["cdkDropList","","id","0",1,"example-list",3,"cdkDropListDisabled","cdkDropListData","cdkDropListDropped"],["class","example-box","cdkDrag","",4,"ngFor","ngForOf"],[1,"col-12","col-sm-12","col-md-8"],[1,"container","dd-mgt-1","dd-mgb-2"],["href","#",1,"list-group-item","notSelectDefault"],[1,"btn","btn-success","float-start",3,"click"],[1,"btn","btn-danger","float-end",3,"click"],["class","example-container",4,"ngFor","ngForOf"],["cdkDrag","",1,"example-box"],[4,"ngIf"],[1,"bi","bi-controller"],[1,"dd-font-lobby","notSelectDefault"],["cdkDropList","",1,"example-list",3,"id","cdkDropListDisabled","cdkDropListData","cdkDropListDropped"]],template:function LobbyComponent_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.TgZ(1,"div",1),core._UZ(2,"app-lobby-friends"),core.TgZ(3,"div",2),core.TgZ(4,"ul",3),core.TgZ(5,"li",4),core.TgZ(6,"div",5),core.TgZ(7,"h2",6),core._uU(8,"En espera"),core.qZA(),core.TgZ(9,"div",7),core.TgZ(10,"div",8),core.NdJ("cdkDropListDropped",function LobbyComponent_Template_div_cdkDropListDropped_10_listener($event){return ctx.drop($event)}),core.YNc(11,LobbyComponent_div_11_Template,3,2,"div",9),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.TgZ(12,"div",10),core.TgZ(13,"div",11),core.TgZ(14,"ul",3),core.TgZ(15,"li",12),core.TgZ(16,"button",13),core.NdJ("click",function LobbyComponent_Template_button_click_16_listener(){return ctx.startGame()}),core._uU(17,"Comenzar partida"),core.qZA(),core.TgZ(18,"button",14),core.NdJ("click",function LobbyComponent_Template_button_click_18_listener(){return ctx.leaveRoom()}),core._uU(19,"Abandonar partida"),core.qZA(),core.qZA(),core.TgZ(20,"li",4),core.YNc(21,LobbyComponent_div_21_Template,5,5,"div",15),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA()),2&rf&&(core.Q6J("className",ctx.roomData.owner==ctx.user.id?"activer row":"inactiver row"),core.xp6(10),core.Q6J("cdkDropListDisabled",!ctx.isOwner)("cdkDropListData",ctx.teams[0]),core.xp6(1),core.Q6J("ngForOf",ctx.teams[0]),core.xp6(10),core.Q6J("ngForOf",ctx.teams.slice(1)))},directives:[drag_drop.Fd,LobbyFriendsComponent,drag_drop.Wj,common.sg,drag_drop.Zt,common.O5],encapsulation:2});const main_component_c0=function(){return["/main/config/email"]},main_component_c1=function(){return["/main/config/password"]},main_component_c2=function(){return["/home"]};class MainComponent{constructor(authService,backService,socialService,socketService,el){this.authService=authService,this.backService=backService,this.socialService=socialService,this.socketService=socketService,this.el=el,this.inRoom=!1,this.friendRequests=[],this.invitationList=[],this.total=0,this.user=backService.user,this.friendRequests=this.backService.friendRequests,this.invitationList=this.backService.invitationReceived,this.socialService.onFriendRequests().subscribe(content=>{this.backService.friendRequests=content,this.backService.friendRequestSubject.next(this.backService.friendRequests)}),this.friendRequestsSubscription=this.backService.friendRequestSubject.subscribe(content=>{this.friendRequests=content,this.total=this.friendRequests.length+this.invitationList.length}),this.socialService.onFriendRequestReceived().subscribe(content=>{this.friendRequests.push(content),this.total=this.friendRequests.length+this.invitationList.length,console.log(this.total)}),this.socialService.wannaGetFriendRequest(),this.invitationListSubscription=this.backService.invitationReceivedSubject.subscribe(content=>{this.invitationList.push(content)}),this.socialService.onInvitationReceived().subscribe(content=>{this.invitationList.push(content),this.total=this.invitationList.length+this.friendRequests.length,console.log(this.total)})}ngOnDestroy(){this.friendRequestsSubscription.unsubscribe(),this.invitationListSubscription.unsubscribe()}ngAfterViewInit(){var x=this.el.nativeElement.getElementsByTagName("i")[0];console.log(x)}ngOnInit(){}acceptFriendRequest(pIdUser){let acceptFriendRequest=this.friendRequests.find(request=>request.id==pIdUser);if(null!=acceptFriendRequest){let indexDeclinedRequest=this.friendRequests.indexOf(acceptFriendRequest);this.backService.friendRequests.splice(indexDeclinedRequest,1),this.backService.friendRequestSubject.next(this.backService.friendRequests),this.socialService.wannaAcceptFriendRequest(pIdUser),this.total=this.invitationList.length+this.friendRequests.length}}declineFriendRequest(pIdUserFriend){let declinedRequest=this.friendRequests.find(request=>request.id==pIdUserFriend);if(null!=declinedRequest){let indexDeclinedRequest=this.friendRequests.indexOf(declinedRequest);this.backService.friendRequests.splice(indexDeclinedRequest,1),this.backService.friendRequestSubject.next(this.backService.friendRequests),this.socialService.wannaDeclineFriendRequest(pIdUserFriend),this.total=this.invitationList.length+this.friendRequests.length}}joinRoom(roomName){if(24==roomName.length&&this.socketService.joinRoom(roomName),null!=roomName){let indexDeclinedRequest=this.invitationList.indexOf(roomName);this.invitationList.splice(indexDeclinedRequest,1)}}rechazaInvitation(roomName){if(null!=roomName){let indexDeclinedRequest=this.invitationList.indexOf(roomName);this.invitationList.splice(indexDeclinedRequest,1)}}logout(){this.authService.userLogout()}}MainComponent.\u0275fac=function MainComponent_Factory(t){return new(t||MainComponent)(core.Y36(auth_service.e),core.Y36(data_back_service.h),core.Y36(social_service.V),core.Y36(sockets_service.W),core.Y36(core.SBq))},MainComponent.\u0275cmp=core.Xpm({type:MainComponent,selectors:[["app-main"]],decls:32,vars:8,consts:[[1,"row"],[1,"col-2"],[1,"dropdown"],["role","button","id","dropdownMenuLink","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-dark","dropdown-toggle","float-start","settings"],[1,"bi","bi-gear-fill"],["aria-labelledby","dropdownMenuLink",1,"dropdown-menu"],[1,"text-center","text-decoration-underline"],[1,"dropdown-item",3,"routerLink"],[1,"dropdown-item","notSelect",3,"click"],[1,"col-8","d-flex","justify-content-center"],[1,"text-decoration-none",3,"routerLink"],[1,"dibudaw","dd-mgt-4"],[1,"bi","bi-pencil","white",2,"font-size","20px"],["role","button","id","dropdownMenuLink","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-warning","dropdown-toggle","float-end","notifications"],["id","0",1,"bi","bi-bell-fill","badgial",2,"font-size","1rem"],[4,"ngFor","ngForOf"],[1,"dropdown-item","notSelectDefault","dd-blue-msg"],[1,"text-center"],[1,"btn","btn-outline-success","btn-sm","dd-mgb-4",3,"click"],[1,"btn","btn-outline-danger","btn-sm","dd-mgb-4",3,"click"]],template:function MainComponent_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.TgZ(1,"div",1),core.TgZ(2,"div",2),core.TgZ(3,"a",3),core._UZ(4,"i",4),core.qZA(),core.TgZ(5,"ul",5),core.TgZ(6,"li"),core.TgZ(7,"p",6),core._uU(8,"Usuario:"),core.qZA(),core.qZA(),core.TgZ(9,"li"),core.TgZ(10,"a",7),core._uU(11,"Cambiar E-mail"),core.qZA(),core.qZA(),core.TgZ(12,"li"),core.TgZ(13,"a",7),core._uU(14,"Cambiar Contrase\xf1a"),core.qZA(),core.qZA(),core.TgZ(15,"li"),core.TgZ(16,"a",8),core.NdJ("click",function MainComponent_Template_a_click_16_listener(){return ctx.logout()}),core._uU(17,"Cerrar sesi\xf3n"),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.TgZ(18,"div",9),core.TgZ(19,"a",10),core.TgZ(20,"h1",11),core._uU(21,"dibudaw.io\xa0"),core._UZ(22,"i",12),core.qZA(),core.qZA(),core.qZA(),core.TgZ(23,"div",1),core.TgZ(24,"div",2),core.TgZ(25,"a",13),core.TgZ(26,"i",14),core._uU(27,"\x07"),core.qZA(),core.qZA(),core.TgZ(28,"ul",5),core.YNc(29,MainComponent_ng_container_29_Template,10,1,"ng-container",15),core.YNc(30,MainComponent_ng_container_30_Template,10,1,"ng-container",15),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core._UZ(31,"router-outlet")),2&rf&&(core.xp6(10),core.Q6J("routerLink",core.DdM(5,main_component_c0)),core.xp6(3),core.Q6J("routerLink",core.DdM(6,main_component_c1)),core.xp6(6),core.Q6J("routerLink",core.DdM(7,main_component_c2)),core.xp6(10),core.Q6J("ngForOf",ctx.friendRequests),core.xp6(1),core.Q6J("ngForOf",ctx.invitationList))},directives:[router.yS,common.sg,router.lC],encapsulation:2});class GameGuard{constructor(socketService){this.socketService=socketService}canActivate(route,state){return console.log("canActivate gameguard"),this.socketService.onGameStatus()}}GameGuard.\u0275fac=function GameGuard_Factory(t){return new(t||GameGuard)(core.LFG(sockets_service.W))},GameGuard.\u0275prov=core.Yz7({token:GameGuard,factory:GameGuard.\u0275fac,providedIn:"root"});class LobbyGuard{constructor(socketService){this.socketService=socketService}canActivate(route,state){return this.socketService.onRoomCreated()}}LobbyGuard.\u0275fac=function LobbyGuard_Factory(t){return new(t||LobbyGuard)(core.LFG(sockets_service.W))},LobbyGuard.\u0275prov=core.Yz7({token:LobbyGuard,factory:LobbyGuard.\u0275fac,providedIn:"root"});const routes=[{path:"",component:MainComponent,children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:HomeComponent},{path:"lobby",component:LobbyComponent,canActivate:[LobbyGuard]}]},{path:"game",component:GameComponent,canActivate:[GameGuard]},{path:"config",component:ConfigComponent},{path:"config/email",component:ChangeEmailComponent},{path:"config/password",component:ChangePasswordComponent},{path:"**",redirectTo:""}];class MainRoutingModule{}MainRoutingModule.\u0275mod=core.oAB({type:MainRoutingModule}),MainRoutingModule.\u0275inj=core.cJS({factory:function MainRoutingModule_Factory(t){return new(t||MainRoutingModule)},imports:[[router.Bz.forChild(routes)],router.Bz]});class MainModule{}MainModule.\u0275mod=core.oAB({type:MainModule}),MainModule.\u0275inj=core.cJS({factory:function MainModule_Factory(t){return new(t||MainModule)},imports:[[common.ez,router.Bz,MainRoutingModule,drag_drop._t,http.JF,fesm2015_forms.u5,fesm2015_forms.UX]]})}};